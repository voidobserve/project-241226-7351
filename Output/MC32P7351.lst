gplink-2.2.37 (Jan 22 2024)
Listing File Generated: 2025-5-14  14:36:53
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	__mullong
                                           	extern	__divulong
                                           	extern	_INDF0bits
                                           	extern	_INDF1bits
                                           	extern	_INDF2bits
                                           	extern	_HIBYTEbits
                                           	extern	_FSR0bits
                                           	extern	_FSR1bits
                                           	extern	_PCLbits
                                           	extern	_PFLAGbits
                                           	extern	_MCRbits
                                           	extern	_INDF3bits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_DRVCRbits
                                           	extern	_PFRCCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_PFRCCALbits
                                           	extern	_IOP0bits
                                           	extern	_OEP0bits
                                           	extern	_PUP0bits
                                           	extern	_PDP0bits
                                           	extern	_IOP1bits
                                           	extern	_OEP1bits
                                           	extern	_PUP1bits
                                           	extern	_PDP1bits
                                           	extern	_T0CRbits
                                           	extern	_T0CNTbits
                                           	extern	_T0LOADbits
                                           	extern	_T0DATAbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_T2CRbits
                                           	extern	_T2CNTbits
                                           	extern	_T2LOADbits
                                           	extern	_T2DATAbits
                                           	extern	_T3CRbits
                                           	extern	_T3CNTbits
                                           	extern	_T3LOADbits
                                           	extern	_PWM0DRbits
                                           	extern	_PWM1DRbits
                                           	extern	_PWM2DRbits
                                           	extern	_PWMCR0bits
                                           	extern	_PWMCR1bits
                                           	extern	_OSCMRbits
                                           	extern	_LVDCRbits
                                           	extern	_ADCR0bits
                                           	extern	_ADCR1bits
                                           	extern	_ADCR2bits
                                           	extern	_OSADJCRbits
                                           	extern	_ADRHbits
                                           	extern	_ADRLbits
                                           	extern	_ADIOS0bits
                                           	extern	_ADIOS1bits
                                           	extern	_PMODbits
                                           	extern	_PWMCR3bits
                                           	extern	_PWMCR2bits
                                           	extern	_PFRCAUXbits
                                           	extern	_HIRCCALbits
                                           	extern	_INDF0
                                           	extern	_INDF1
                                           	extern	_INDF2
                                           	extern	_HIBYTE
                                           	extern	_FSR0
                                           	extern	_FSR1
                                           	extern	_PCL
                                           	extern	_PFLAG
                                           	extern	_MCR
                                           	extern	_INDF3
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_DRVCR
                                           	extern	_PFRCCR
                                           	extern	_P1KBCR
                                           	extern	_PFRCCAL
                                           	extern	_IOP0
                                           	extern	_OEP0
                                           	extern	_PUP0
                                           	extern	_PDP0
                                           	extern	_IOP1
                                           	extern	_OEP1
                                           	extern	_PUP1
                                           	extern	_PDP1
                                           	extern	_T0CR
                                           	extern	_T0CNT
                                           	extern	_T0LOAD
                                           	extern	_T0DATA
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           	extern	_T2CR
                                           	extern	_T2CNT
                                           	extern	_T2LOAD
                                           	extern	_T2DATA
                                           	extern	_T3CR
                                           	extern	_T3CNT
                                           	extern	_T3LOAD
                                           	extern	_PWM0DR
                                           	extern	_PWM1DR
                                           	extern	_PWM2DR
                                           	extern	_PWMCR0
                                           	extern	_PWMCR1
                                           	extern	_OSCMR
                                           	extern	_LVDCR
                                           	extern	_ADCR0
                                           	extern	_ADCR1
                                           	extern	_ADCR2
                                           	extern	_OSADJCR
                                           	extern	_ADRH
                                           	extern	_ADRL
                                           	extern	_ADIOS0
                                           	extern	_ADIOS1
                                           	extern	_PMOD
                                           	extern	_PWMCR3
                                           	extern	_PWMCR2
                                           	extern	_PFRCAUX
                                           	extern	_HIRCCAL
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_delay_ms
                                           	global	_CLR_RAM
                                           	global	_adc_config
                                           	global	_adc_sel_pin
                                           	global	_adc_get_val
                                           	global	_adc_get_val_once
                                           	global	_Sys_Init
                                           	global	_key_scan
                                           	global	_key_event_handle
                                           	global	_adc_scan_handle
                                           	global	_turn_dir_scan_handle
                                           	global	_shutdown_scan_handle
                                           	global	_low_power_scan_handle
                                           	global	_main
                                           	global	_int_isr
                                           	global	_key_event
                                           	global	_mode_flag
                                           	global	_key_press_flag
                                           	global	_i
                                           	global	_adc_val
                                           	global	_turn_dir_ms_cnt
                                           	global	_shut_down_ms_cnt
                                           	global	_adc_bat_val
                                           	global	_adc_charging_val
                                           	global	_max_pwm_val
                                           	global	_last_pwm_val
                                           	global	_tmp_val
                                           	global	_tmp_val_l
                                           	global	_tmp_val_cnt
                                           	global	_flag_bat_is_empty
                                           	global	_tmp_bat_val
                                           	global	_over_charging_cnt
                                           	global	_full_charge_cnt
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_flag1
                                           	global	_flag2
                                           	global	_flag3
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0000
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC32P7351_0	udata
                                           _key_event	res	1
                                           
                                           UD_MC32P7351_1	udata
                                           _mode_flag	res	1
                                           
                                           UD_MC32P7351_2	udata
                                           _key_press_flag	res	1
                                           
                                           UD_MC32P7351_3	udata
                                           _i	res	1
                                           
                                           UD_MC32P7351_4	udata
                                           _adc_val	res	2
                                           
                                           UD_MC32P7351_5	udata
                                           _turn_dir_ms_cnt	res	4
                                           
                                           UD_MC32P7351_6	udata
                                           _shut_down_ms_cnt	res	4
                                           
                                           UD_MC32P7351_7	udata
                                           _adc_bat_val	res	4
                                           
                                           UD_MC32P7351_8	udata
                                           _adc_charging_val	res	2
                                           
                                           UD_MC32P7351_9	udata
                                           _max_pwm_val	res	4
                                           
                                           UD_MC32P7351_10	udata
                                           _last_pwm_val	res	2
                                           
                                           UD_MC32P7351_11	udata
                                           _tmp_val	res	2
                                           
                                           UD_MC32P7351_12	udata
                                           _tmp_val_l	res	16
                                           
                                           UD_MC32P7351_13	udata
                                           _tmp_val_cnt	res	1
                                           
                                           UD_MC32P7351_14	udata
                                           _flag_bat_is_empty	res	1
                                           
                                           UD_MC32P7351_15	udata
                                           _tmp_bat_val	res	2
                                           
                                           UD_MC32P7351_16	udata
                                           _over_charging_cnt	res	1
                                           
                                           UD_MC32P7351_17	udata
                                           _full_charge_cnt	res	1
                                           
                                           UD_MC32P7351_18	udata
                                           _abuf	res	1
                                           
                                           UD_MC32P7351_19	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC32P7351_20	udata
                                           _flag1	res	1
                                           
                                           UD_MC32P7351_21	udata
                                           _flag2	res	1
                                           
                                           UD_MC32P7351_22	udata
                                           _flag3	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC32P7351_0	udata
                                           r0x104D	res	1
                                           r0x104C	res	1
                                           r0x104E	res	1
                                           r0x104F	res	1
                                           r0x1050	res	1
                                           r0x1051	res	1
                                           r0x1052	res	1
                                           r0x1053	res	1
                                           r0x1054	res	1
                                           r0x1055	res	1
                                           r0x1056	res	1
                                           r0x1058	res	1
                                           r0x1057	res	1
                                           r0x1059	res	1
                                           r0x105A	res	1
                                           r0x105B	res	1
                                           r0x105C	res	1
                                           r0x105E	res	1
                                           r0x105D	res	1
                                           r0x105F	res	1
                                           r0x1060	res	1
                                           r0x1061	res	1
                                           r0x1062	res	1
                                           r0x1063	res	1
                                           r0x1064	res	1
                                           r0x1065	res	1
                                           r0x1066	res	1
                                           _key_scan_cur_key_id_65536_35	res	1
                                           _key_scan_filter_cnt_65536_35	res	1
                                           _key_scan_filter_key_id_65536_35	res	1
                                           _key_scan_press_cnt_65536_35	res	1
                                           _key_scan_flag_is_key_mode_hold_65536_35	res	1
                                           _key_scan_last_key_id_65536_35	res	1
                                           _adc_scan_handle_cnt_65536_100	res	1
                                           _adc_scan_handle_need_charge_cnt_65536_100	res	1
                                           _int_isr___1ms_cnt_196608_241	res	1
                                           _int_isr_key_scan_cnt_327680_243	res	1
                                           _int_isr_low_bat_cnt_327680_246	res	2
                                           _int_isr_shut_down_bat_cnt_327680_250	res	2
                                           _int_isr_update_current_time_cnt_327680_254	res	2
                                           _int_isr_cnt_327680_258	res	2
                                           _led_state	res	1
                                           _pwm_counter	res	2
                                           _breath_counter	res	1
                                           _pwm_duty	res	1
                                           _breath_direction	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms delay_ms                  Allocated to registers ;size:2
                                           ;@delay_ms INDF0bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF1bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF2bits                 Allocated to registers ;size:1
                                           ;@delay_ms HIBYTEbits                Allocated to registers ;size:1
                                           ;@delay_ms FSR0bits                  Allocated to registers ;size:1
                                           ;@delay_ms FSR1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PCLbits                   Allocated to registers ;size:1
                                           ;@delay_ms PFLAGbits                 Allocated to registers ;size:1
                                           ;@delay_ms MCRbits                   Allocated to registers ;size:1
                                           ;@delay_ms INDF3bits                 Allocated to registers ;size:1
                                           ;@delay_ms INTEbits                  Allocated to registers ;size:1
                                           ;@delay_ms INTFbits                  Allocated to registers ;size:1
                                           ;@delay_ms DRVCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms PFRCCRbits                Allocated to registers ;size:1
                                           ;@delay_ms P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_ms PFRCCALbits               Allocated to registers ;size:1
                                           ;@delay_ms IOP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms IOP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T0LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T0DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T2CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T2CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T2LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T2DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T3CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T3CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T3LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM0DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM1DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM2DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1bits                Allocated to registers ;size:1
                                           ;@delay_ms OSCMRbits                 Allocated to registers ;size:1
                                           ;@delay_ms LVDCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR0bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR1bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR2bits                 Allocated to registers ;size:1
                                           ;@delay_ms OSADJCRbits               Allocated to registers ;size:1
                                           ;@delay_ms ADRHbits                  Allocated to registers ;size:1
                                           ;@delay_ms ADRLbits                  Allocated to registers ;size:1
                                           ;@delay_ms ADIOS0bits                Allocated to registers ;size:1
                                           ;@delay_ms ADIOS1bits                Allocated to registers ;size:1
                                           ;@delay_ms PMODbits                  Allocated to registers ;size:1
                                           ;@delay_ms PWMCR3bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR2bits                Allocated to registers ;size:1
                                           ;@delay_ms PFRCAUXbits               Allocated to registers ;size:1
                                           ;@delay_ms HIRCCALbits               Allocated to registers ;size:1
                                           ;@delay_ms key_event                 Allocated to registers ;size:1
                                           ;@delay_ms mode_flag                 Allocated to registers ;size:1
                                           ;@delay_ms key_press_flag            Allocated to registers ;size:1
                                           ;@delay_ms i                         Allocated to registers ;size:1
                                           ;@delay_ms adc_val                   Allocated to registers ;size:2
                                           ;@delay_ms turn_dir_ms_cnt           Allocated to registers ;size:4
                                           ;@delay_ms shut_down_ms_cnt          Allocated to registers ;size:4
                                           ;@delay_ms adc_bat_val               Allocated to registers ;size:4
                                           ;@delay_ms adc_charging_val          Allocated to registers ;size:2
                                           ;@delay_ms max_pwm_val               Allocated to registers ;size:4
                                           ;@delay_ms last_pwm_val              Allocated to registers ;size:2
                                           ;@delay_ms tmp_val                   Allocated to registers ;size:2
                                           ;@delay_ms tmp_val_l                 Allocated to registers ;size:16
                                           ;@delay_ms tmp_val_cnt               Allocated to registers ;size:1
                                           ;@delay_ms flag_bat_is_empty         Allocated to registers ;size:1
                                           ;@delay_ms tmp_bat_val               Allocated to registers ;size:2
                                           ;@delay_ms over_charging_cnt         Allocated to registers ;size:1
                                           ;@delay_ms full_charge_cnt           Allocated to registers ;size:1
                                           ;@delay_ms pwm_duty                  Allocated to registers ;size:1
                                           ;@delay_ms pwm_counter               Allocated to registers ;size:2
                                           ;@delay_ms breath_counter            Allocated to registers ;size:1
                                           ;@delay_ms breath_direction          Allocated to registers ;size:1
                                           ;@delay_ms led_state                 Allocated to registers ;size:1
                                           ;@delay_ms abuf                      Allocated to registers ;size:1
                                           ;@delay_ms statusbuf                 Allocated to registers ;size:1
                                           ;@delay_ms flag1                     Allocated to registers ;size:1
                                           ;@delay_ms flag2                     Allocated to registers ;size:1
                                           ;@delay_ms flag3                     Allocated to registers ;size:1
                                           ;@delay_ms xms                       Allocated to registers ;size:2
                                           ;@delay_ms i                         Allocated to registers r0x104E r0x104F ;size:2
                                           ;@delay_ms INDF0                     Allocated to registers ;size:1
                                           ;@delay_ms INDF1                     Allocated to registers ;size:1
                                           ;@delay_ms INDF2                     Allocated to registers ;size:1
                                           ;@delay_ms HIBYTE                    Allocated to registers ;size:1
                                           ;@delay_ms FSR0                      Allocated to registers ;size:1
                                           ;@delay_ms FSR1                      Allocated to registers ;size:1
                                           ;@delay_ms PCL                       Allocated to registers ;size:1
                                           ;@delay_ms PFLAG                     Allocated to registers ;size:1
                                           ;@delay_ms MCR                       Allocated to registers ;size:1
                                           ;@delay_ms INDF3                     Allocated to registers ;size:1
                                           ;@delay_ms INTE                      Allocated to registers ;size:1
                                           ;@delay_ms INTF                      Allocated to registers ;size:1
                                           ;@delay_ms DRVCR                     Allocated to registers ;size:1
                                           ;@delay_ms PFRCCR                    Allocated to registers ;size:1
                                           ;@delay_ms P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_ms PFRCCAL                   Allocated to registers ;size:1
                                           ;@delay_ms IOP0                      Allocated to registers ;size:1
                                           ;@delay_ms OEP0                      Allocated to registers ;size:1
                                           ;@delay_ms PUP0                      Allocated to registers ;size:1
                                           ;@delay_ms PDP0                      Allocated to registers ;size:1
                                           ;@delay_ms IOP1                      Allocated to registers ;size:1
                                           ;@delay_ms OEP1                      Allocated to registers ;size:1
                                           ;@delay_ms PUP1                      Allocated to registers ;size:1
                                           ;@delay_ms PDP1                      Allocated to registers ;size:1
                                           ;@delay_ms T0CR                      Allocated to registers ;size:1
                                           ;@delay_ms T0CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T0LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T0DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T1CR                      Allocated to registers ;size:1
                                           ;@delay_ms T1CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T1DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T2CR                      Allocated to registers ;size:1
                                           ;@delay_ms T2CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T2LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T2DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T3CR                      Allocated to registers ;size:1
                                           ;@delay_ms T3CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T3LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms PWM0DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWM1DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWM2DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1                    Allocated to registers ;size:1
                                           ;@delay_ms OSCMR                     Allocated to registers ;size:1
                                           ;@delay_ms LVDCR                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR0                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR1                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR2                     Allocated to registers ;size:1
                                           ;@delay_ms OSADJCR                   Allocated to registers ;size:1
                                           ;@delay_ms ADRH                      Allocated to registers ;size:1
                                           ;@delay_ms ADRL                      Allocated to registers ;size:1
                                           ;@delay_ms ADIOS0                    Allocated to registers ;size:1
                                           ;@delay_ms ADIOS1                    Allocated to registers ;size:1
                                           ;@delay_ms PMOD                      Allocated to registers ;size:1
                                           ;@delay_ms PWMCR3                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR2                    Allocated to registers ;size:1
                                           ;@delay_ms PFRCAUX                   Allocated to registers ;size:1
                                           ;@delay_ms HIRCCAL                   Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'CLR_RAM'
                                           ;@end Allocation info for local variables in function 'CLR_RAM';
                                           ;@Allocation info for local variables in function 'adc_config'
                                           ;@end Allocation info for local variables in function 'adc_config';
                                           ;@Allocation info for local variables in function 'adc_sel_pin'
                                           ;@adc_sel_pin adc_pin                   Allocated to registers r0x1052 ;size:1
                                           ;@end Allocation info for local variables in function 'adc_sel_pin';
                                           ;@Allocation info for local variables in function 'adc_get_val'
                                           ;@adc_get_val i                         Allocated to registers r0x1054 ;size:1
                                           ;@adc_get_val g_temp_value              Allocated to registers r0x1055 r0x1056 ;size:2
                                           ;@adc_get_val g_tmpbuff                 Allocated to registers r0x1050 r0x1051 r0x1057 r0x1059 ;size:4
                                           ;@adc_get_val g_adcmax                  Allocated to registers r0x1050 r0x1051 ;size:2
                                           ;@adc_get_val g_adcmin                  Allocated to registers r0x1052 r0x1053 ;size:2
                                           ;@end Allocation info for local variables in function 'adc_get_val';
                                           ;@Allocation info for local variables in function 'adc_get_val_once'
                                           ;@adc_get_val_once g_temp_value              Allocated to registers r0x104F r0x104E ;size:2
                                           ;@end Allocation info for local variables in function 'adc_get_val_once';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'key_scan'
                                           ;@key_scan last_key_id               Allocated to registers ;size:1
                                           ;@key_scan press_cnt                 Allocated to registers ;size:1
                                           ;@key_scan filter_cnt                Allocated to registers ;size:1
                                           ;@key_scan filter_key_id             Allocated to registers ;size:1
                                           ;@key_scan cur_key_id                Allocated to registers ;size:1
                                           ;@key_scan flag_is_key_mode_hold     Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'key_scan';
                                           ;@Allocation info for local variables in function 'key_scan'
                                           ;@key_scan last_key_id               Allocated to registers ;size:1
                                           ;@key_scan press_cnt                 Allocated to registers ;size:1
                                           ;@key_scan filter_cnt                Allocated to registers ;size:1
                                           ;@key_scan filter_key_id             Allocated to registers ;size:1
                                           ;@key_scan cur_key_id                Allocated to registers ;size:1
                                           ;@key_scan flag_is_key_mode_hold     Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'key_scan';
                                           ;@Allocation info for local variables in function 'key_event_handle'
                                           ;@end Allocation info for local variables in function 'key_event_handle';
                                           ;@Allocation info for local variables in function 'adc_scan_handle'
                                           ;@adc_scan_handle cnt                       Allocated to registers ;size:1
                                           ;@adc_scan_handle need_charge_cnt           Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'adc_scan_handle';
                                           ;@Allocation info for local variables in function 'turn_dir_scan_handle'
                                           ;@end Allocation info for local variables in function 'turn_dir_scan_handle';
                                           ;@Allocation info for local variables in function 'shutdown_scan_handle'
                                           ;@end Allocation info for local variables in function 'shutdown_scan_handle';
                                           ;@Allocation info for local variables in function 'low_power_scan_handle'
                                           ;@end Allocation info for local variables in function 'low_power_scan_handle';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@main i                         Allocated to registers r0x105B r0x105C ;size:2
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@int_isr __1ms_cnt                 Allocated to registers ;size:1
                                           ;@int_isr key_scan_cnt              Allocated to registers ;size:1
                                           ;@int_isr low_bat_cnt               Allocated to registers ;size:2
                                           ;@int_isr shut_down_bat_cnt         Allocated to registers ;size:2
                                           ;@int_isr update_current_time_cnt   Allocated to registers ;size:2
                                           ;@int_isr cnt                       Allocated to registers ;size:2
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@int_isr __1ms_cnt                 Allocated to registers ;size:1
                                           ;@int_isr key_scan_cnt              Allocated to registers ;size:1
                                           ;@int_isr low_bat_cnt               Allocated to registers ;size:2
                                           ;@int_isr shut_down_bat_cnt         Allocated to registers ;size:2
                                           ;@int_isr update_current_time_cnt   Allocated to registers ;size:2
                                           ;@int_isr cnt                       Allocated to registers ;size:2
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   a0c4     goto    0xc4             	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;functions called:
                                           ;   _key_scan
                                           ;   _key_scan
                                           ;2 compiler assigned registers:
                                           ;   r0x1065
                                           ;   r0x1066
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	1461; "MC32P7351.c"	__endasm;
                                           	;
000008   568d     movra   0x8d             	movra	_abuf;
000009   4587     swapar  0x187            	swapar	_PFLAG;
00000a   568e     movra   0x8e             	movra	_statusbuf;
                                           	
                                           ;	.line	1468; "MC32P7351.c"	if (T3IF & T3IE)
00000b   7620     clrr    0x20             	CLRR	r0x1065
00000c   ff8b     jbclr   0x18b, 0x7       	JBCLR	_INTFbits,7
00000d   6620     incr    0x20             	INCR	r0x1065
00000e   7621     clrr    0x21             	CLRR	r0x1066
00000f   ff8a     jbclr   0x18a, 0x7       	JBCLR	_INTEbits,7
000010   6621     incr    0x21             	INCR	r0x1066
000011   5821     movar   0x21             	MOVAR	r0x1066
000012   7a20     andra   0x20             	ANDRA	r0x1065
000013   3c00     movai   0                	MOVAI	0x00
000014   5c20     orar    0x20             	ORAR	r0x1065
000015   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000016   a0bf     goto    0xbf             	GOTO	_01043_DS_
                                           ;	.line	1472; "MC32P7351.c"	__1ms_cnt++;
000017   662a     incr    0x2a             	INCR	_int_isr___1ms_cnt_196608_241
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           ;	.line	1473; "MC32P7351.c"	if (__1ms_cnt >= 10)
000018   3c0a     movai   0xa              	MOVAI	0x0a
000019   482a     rsubar  0x2a             	RSUBAR	_int_isr___1ms_cnt_196608_241
00001a   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00001b   a07b     goto    0x7b             	GOTO	_01020_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1475; "MC32P7351.c"	__1ms_cnt = 0;
00001c   762a     clrr    0x2a             	CLRR	_int_isr___1ms_cnt_196608_241
                                           ;	.line	1479; "MC32P7351.c"	key_scan_cnt++;
00001d   662b     incr    0x2b             	INCR	_int_isr_key_scan_cnt_327680_243
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           ;	.line	1480; "MC32P7351.c"	if (key_scan_cnt >= 10)
00001e   3c0a     movai   0xa              	MOVAI	0x0a
00001f   482b     rsubar  0x2b             	RSUBAR	_int_isr_key_scan_cnt_327680_243
000020   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000021   a024     goto    0x24             	GOTO	_00999_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1482; "MC32P7351.c"	key_scan_cnt = 0;
000022   762b     clrr    0x2b             	CLRR	_int_isr_key_scan_cnt_327680_243
                                           ;	.line	1483; "MC32P7351.c"	key_scan();
000023   851b     call    0x51b            	CALL	_key_scan
                                           _00999_DS_
                                           ;	.line	1487; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
000024   e08f     jbset   0x8f, 0          	JBSET	_flag1,0
000025   a034     goto    0x34             	GOTO	_01001_DS_
                                           ;	.line	1489; "MC32P7351.c"	turn_dir_ms_cnt++;  // 会在 turn_dir_scan_handle() 内处理并清零
000026   666b     incr    0x6b             	INCR	_turn_dir_ms_cnt
000027   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000028   666c     incr    0x6c             	INCR	(_turn_dir_ms_cnt + 1)
000029   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00002a   666d     incr    0x6d             	INCR	(_turn_dir_ms_cnt + 2)
00002b   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00002c   666e     incr    0x6e             	INCR	(_turn_dir_ms_cnt + 3)
                                           ;	.line	1490; "MC32P7351.c"	shut_down_ms_cnt++; // 会在 shutdown_scan_handle() 内处理并清零
00002d   666f     incr    0x6f             	INCR	_shut_down_ms_cnt
00002e   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00002f   6670     incr    0x70             	INCR	(_shut_down_ms_cnt + 1)
000030   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000031   6671     incr    0x71             	INCR	(_shut_down_ms_cnt + 2)
000032   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000033   6672     incr    0x72             	INCR	(_shut_down_ms_cnt + 3)
                                           _01001_DS_
                                           ;	.line	1497; "MC32P7351.c"	if (flag_maybe_low_battery)
000034   e491     jbset   0x91, 0x2        	JBSET	_flag3,2
000035   a045     goto    0x45             	GOTO	_01005_DS_
                                           ;	.line	1499; "MC32P7351.c"	low_bat_cnt++;
000036   662c     incr    0x2c             	INCR	_int_isr_low_bat_cnt_327680_246
000037   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000038   662d     incr    0x2d             	INCR	(_int_isr_low_bat_cnt_327680_246 + 1)
                                           ;;unsigned compare: left < lit(0x1388=5000), size=2
                                           ;	.line	1501; "MC32P7351.c"	if (low_bat_cnt >= 5000) // xx ms
000039   3c13     movai   0x13             	MOVAI	0x13
00003a   482d     rsubar  0x2d             	RSUBAR	(_int_isr_low_bat_cnt_327680_246 + 1)
00003b   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00003c   a03f     goto    0x3f             	GOTO	_01128_DS_
00003d   3c88     movai   0x88             	MOVAI	0x88
00003e   482c     rsubar  0x2c             	RSUBAR	_int_isr_low_bat_cnt_327680_246
                                           _01128_DS_
00003f   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000040   a047     goto    0x47             	GOTO	_01006_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1503; "MC32P7351.c"	low_bat_cnt = 0;
000041   762c     clrr    0x2c             	CLRR	_int_isr_low_bat_cnt_327680_246
000042   762d     clrr    0x2d             	CLRR	(_int_isr_low_bat_cnt_327680_246 + 1)
                                           ;	.line	1504; "MC32P7351.c"	flag_is_low_battery = 1;
000043   c490     bset    0x90, 0x2        	BSET	_flag2,2
000044   a047     goto    0x47             	GOTO	_01006_DS_
                                           _01005_DS_
                                           ;	.line	1509; "MC32P7351.c"	low_bat_cnt = 0;
000045   762c     clrr    0x2c             	CLRR	_int_isr_low_bat_cnt_327680_246
000046   762d     clrr    0x2d             	CLRR	(_int_isr_low_bat_cnt_327680_246 + 1)
                                           _01006_DS_
                                           ;	.line	1528; "MC32P7351.c"	if (flag_tim_scan_maybe_shut_down)
000047   e691     jbset   0x91, 0x3        	JBSET	_flag3,3
000048   a058     goto    0x58             	GOTO	_01010_DS_
                                           ;	.line	1530; "MC32P7351.c"	shut_down_bat_cnt++;
000049   662e     incr    0x2e             	INCR	_int_isr_shut_down_bat_cnt_327680_250
00004a   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00004b   662f     incr    0x2f             	INCR	(_int_isr_shut_down_bat_cnt_327680_250 + 1)
                                           ;;unsigned compare: left < lit(0x3E8=1000), size=2
                                           ;	.line	1531; "MC32P7351.c"	if (shut_down_bat_cnt >= 1000) // xx ms
00004c   3c03     movai   0x3              	MOVAI	0x03
00004d   482f     rsubar  0x2f             	RSUBAR	(_int_isr_shut_down_bat_cnt_327680_250 + 1)
00004e   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00004f   a052     goto    0x52             	GOTO	_01129_DS_
000050   3ce8     movai   0xe8             	MOVAI	0xe8
000051   482e     rsubar  0x2e             	RSUBAR	_int_isr_shut_down_bat_cnt_327680_250
                                           _01129_DS_
000052   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000053   a05b     goto    0x5b             	GOTO	_01011_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1533; "MC32P7351.c"	shut_down_bat_cnt = 0;
000054   762e     clrr    0x2e             	CLRR	_int_isr_shut_down_bat_cnt_327680_250
000055   762f     clrr    0x2f             	CLRR	(_int_isr_shut_down_bat_cnt_327680_250 + 1)
                                           ;	.line	1534; "MC32P7351.c"	flag_is_needed_shut_down = 1;
000056   c891     bset    0x91, 0x4        	BSET	_flag3,4
000057   a05b     goto    0x5b             	GOTO	_01011_DS_
                                           _01010_DS_
                                           ;	.line	1539; "MC32P7351.c"	shut_down_bat_cnt = 0;
000058   762e     clrr    0x2e             	CLRR	_int_isr_shut_down_bat_cnt_327680_250
000059   762f     clrr    0x2f             	CLRR	(_int_isr_shut_down_bat_cnt_327680_250 + 1)
                                           ;	.line	1540; "MC32P7351.c"	flag_is_needed_shut_down = 0;
00005a   d891     bclr    0x91, 0x4        	BCLR	_flag3,4
                                           _01011_DS_
                                           ;	.line	1546; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING)
00005b   e48f     jbset   0x8f, 0x2        	JBSET	_flag1,2
00005c   a06c     goto    0x6c             	GOTO	_01015_DS_
                                           ;	.line	1548; "MC32P7351.c"	update_current_time_cnt++;
00005d   6630     incr    0x30             	INCR	_int_isr_update_current_time_cnt_327680_254
00005e   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00005f   6631     incr    0x31             	INCR	(_int_isr_update_current_time_cnt_327680_254 + 1)
                                           ;;unsigned compare: left < lit(0x1F4=500), size=2
                                           ;	.line	1549; "MC32P7351.c"	if (update_current_time_cnt >= 500)
000060   3c01     movai   0x1              	MOVAI	0x01
000061   4831     rsubar  0x31             	RSUBAR	(_int_isr_update_current_time_cnt_327680_254 + 1)
000062   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000063   a066     goto    0x66             	GOTO	_01130_DS_
000064   3cf4     movai   0xf4             	MOVAI	0xf4
000065   4830     rsubar  0x30             	RSUBAR	_int_isr_update_current_time_cnt_327680_254
                                           _01130_DS_
000066   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000067   a06d     goto    0x6d             	GOTO	_01016_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1551; "MC32P7351.c"	update_current_time_cnt = 0;
000068   7630     clrr    0x30             	CLRR	_int_isr_update_current_time_cnt_327680_254
000069   7631     clrr    0x31             	CLRR	(_int_isr_update_current_time_cnt_327680_254 + 1)
                                           ;	.line	1552; "MC32P7351.c"	flag_is_update_current = 1;
00006a   ca91     bset    0x91, 0x5        	BSET	_flag3,5
00006b   a06d     goto    0x6d             	GOTO	_01016_DS_
                                           _01015_DS_
                                           ;	.line	1557; "MC32P7351.c"	FLAG_IS_IN_CHARGING = 0;
00006c   d48f     bclr    0x8f, 0x2        	BCLR	_flag1,2
                                           _01016_DS_
                                           ;	.line	1564; "MC32P7351.c"	cnt++;
00006d   6632     incr    0x32             	INCR	_int_isr_cnt_327680_258
00006e   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00006f   6633     incr    0x33             	INCR	(_int_isr_cnt_327680_258 + 1)
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x1F5=501), size=2
                                           ;	.line	1565; "MC32P7351.c"	if (cnt > 500)
000070   3c01     movai   0x1              	MOVAI	0x01
000071   4833     rsubar  0x33             	RSUBAR	(_int_isr_cnt_327680_258 + 1)
000072   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000073   a076     goto    0x76             	GOTO	_01131_DS_
000074   3cf5     movai   0xf5             	MOVAI	0xf5
000075   4832     rsubar  0x32             	RSUBAR	_int_isr_cnt_327680_258
                                           _01131_DS_
000076   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000077   a07b     goto    0x7b             	GOTO	_01020_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1567; "MC32P7351.c"	cnt = 0;
000078   7632     clrr    0x32             	CLRR	_int_isr_cnt_327680_258
000079   7633     clrr    0x33             	CLRR	(_int_isr_cnt_327680_258 + 1)
                                           ;	.line	1568; "MC32P7351.c"	flag_is_adjust_pwm_time_comes = 1;
00007a   cc91     bset    0x91, 0x6        	BSET	_flag3,6
                                           _01020_DS_
                                           ;	.line	1575; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING && 0 == FLAG_BAT_IS_FULL)
00007b   e48f     jbset   0x8f, 0x2        	JBSET	_flag1,2
00007c   a0be     goto    0xbe             	GOTO	_01040_DS_
00007d   fa8f     jbclr   0x8f, 0x5        	JBCLR	_flag1,5
00007e   a0be     goto    0xbe             	GOTO	_01040_DS_
                                           ;	.line	1578; "MC32P7351.c"	if (pwm_counter < pwm_duty)
00007f   5838     movar   0x38             	MOVAR	_pwm_duty
000080   5620     movra   0x20             	MOVRA	r0x1065
000081   7621     clrr    0x21             	CLRR	r0x1066
000082   3c00     movai   0                	MOVAI	0x00
000083   4836     rsubar  0x36             	RSUBAR	(_pwm_counter + 1)
000084   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000085   a088     goto    0x88             	GOTO	_01132_DS_
000086   5820     movar   0x20             	MOVAR	r0x1065
000087   4835     rsubar  0x35             	RSUBAR	_pwm_counter
                                           _01132_DS_
000088   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000089   a08d     goto    0x8d             	GOTO	_01022_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1580; "MC32P7351.c"	led_state = 1; // LED亮
00008a   3c01     movai   0x1              	MOVAI	0x01
00008b   5634     movra   0x34             	MOVRA	_led_state
00008c   a08e     goto    0x8e             	GOTO	_01023_DS_
                                           _01022_DS_
                                           ;	.line	1584; "MC32P7351.c"	led_state = 0; // LED灭
00008d   7634     clrr    0x34             	CLRR	_led_state
                                           _01023_DS_
                                           ;	.line	1588; "MC32P7351.c"	pwm_counter++;
00008e   6635     incr    0x35             	INCR	_pwm_counter
00008f   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000090   6636     incr    0x36             	INCR	(_pwm_counter + 1)
                                           ;;unsigned compare: left < lit(0x64=100), size=2
                                           ;	.line	1589; "MC32P7351.c"	if (pwm_counter >= PWM_MAX_LEVEL)
000091   3c00     movai   0                	MOVAI	0x00
000092   4836     rsubar  0x36             	RSUBAR	(_pwm_counter + 1)
000093   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000094   a097     goto    0x97             	GOTO	_01133_DS_
000095   3c64     movai   0x64             	MOVAI	0x64
000096   4835     rsubar  0x35             	RSUBAR	_pwm_counter
                                           _01133_DS_
000097   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000098   a09b     goto    0x9b             	GOTO	_01025_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1591; "MC32P7351.c"	pwm_counter = 0;
000099   7635     clrr    0x35             	CLRR	_pwm_counter
00009a   7636     clrr    0x36             	CLRR	(_pwm_counter + 1)
                                           _01025_DS_
                                           ;	.line	1595; "MC32P7351.c"	breath_counter++;
00009b   6637     incr    0x37             	INCR	_breath_counter
                                           ;;unsigned compare: left < lit(0xC8=200), size=1
                                           ;	.line	1596; "MC32P7351.c"	if (breath_counter >= BREATH_PERIOD)
00009c   3cc8     movai   0xc8             	MOVAI	0xc8
00009d   4837     rsubar  0x37             	RSUBAR	_breath_counter
00009e   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00009f   a0b7     goto    0xb7             	GOTO	_01035_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1598; "MC32P7351.c"	breath_counter = 0;
0000a0   7637     clrr    0x37             	CLRR	_breath_counter
                                           ;	.line	1601; "MC32P7351.c"	if (breath_direction == 0)
0000a1   3c00     movai   0                	MOVAI	0x00
0000a2   5c39     orar    0x39             	ORAR	_breath_direction
0000a3   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000a4   a0af     goto    0xaf             	GOTO	_01032_DS_
                                           ;	.line	1604; "MC32P7351.c"	pwm_duty++;
0000a5   6638     incr    0x38             	INCR	_pwm_duty
                                           ;;unsigned compare: left < lit(0x64=100), size=1
                                           ;	.line	1605; "MC32P7351.c"	if (pwm_duty >= PWM_MAX_LEVEL)
0000a6   3c64     movai   0x64             	MOVAI	0x64
0000a7   4838     rsubar  0x38             	RSUBAR	_pwm_duty
0000a8   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0000a9   a0b7     goto    0xb7             	GOTO	_01035_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1607; "MC32P7351.c"	pwm_duty = PWM_MAX_LEVEL;
0000aa   3c64     movai   0x64             	MOVAI	0x64
0000ab   5638     movra   0x38             	MOVRA	_pwm_duty
                                           ;	.line	1608; "MC32P7351.c"	breath_direction = 1; // 切换到渐暗
0000ac   3c01     movai   0x1              	MOVAI	0x01
0000ad   5639     movra   0x39             	MOVRA	_breath_direction
0000ae   a0b7     goto    0xb7             	GOTO	_01035_DS_
                                           _01032_DS_
                                           ;	.line	1614; "MC32P7351.c"	if (pwm_duty > 0)
0000af   3c00     movai   0                	MOVAI	0x00
0000b0   5c38     orar    0x38             	ORAR	_pwm_duty
0000b1   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0000b2   a0b5     goto    0xb5             	GOTO	_01029_DS_
                                           ;	.line	1616; "MC32P7351.c"	pwm_duty--;
0000b3   6e38     decr    0x38             	DECR	_pwm_duty
0000b4   a0b7     goto    0xb7             	GOTO	_01035_DS_
                                           _01029_DS_
                                           ;	.line	1620; "MC32P7351.c"	pwm_duty = 0;
0000b5   7638     clrr    0x38             	CLRR	_pwm_duty
                                           ;	.line	1621; "MC32P7351.c"	breath_direction = 0; // 切换到渐亮
0000b6   7639     clrr    0x39             	CLRR	_breath_direction
                                           _01035_DS_
                                           ;	.line	1628; "MC32P7351.c"	if (led_state)
0000b7   3c00     movai   0                	MOVAI	0x00
0000b8   5c34     orar    0x34             	ORAR	_led_state
0000b9   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0000ba   a0bd     goto    0xbd             	GOTO	_01037_DS_
                                           ;	.line	1630; "MC32P7351.c"	LED_CHARGING_PIN = LED_ON;
0000bb   d990     bclr    0x190, 0x4       	BCLR	_IOP0bits,4
0000bc   a0be     goto    0xbe             	GOTO	_01040_DS_
                                           _01037_DS_
                                           ;	.line	1634; "MC32P7351.c"	LED_CHARGING_PIN = LED_OFF;
0000bd   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           _01040_DS_
                                           ;	.line	1638; "MC32P7351.c"	T3IF = 0;
0000be   df8b     bclr    0x18b, 0x7       	BCLR	_INTFbits,7
                                           _01043_DS_
                                           ;	.line	1646; "MC32P7351.c"	__endasm;
                                           	;
0000bf   448e     swapar  0x8e             	swapar	_statusbuf;
0000c0   5787     movra   0x187            	movra	_PFLAG;
0000c1   468d     swapr   0x8d             	swapr	_abuf;
0000c2   448d     swapar  0x8d             	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	1647; "MC32P7351.c"	}
0000c3   000d     retie                    	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC32P7351	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _adc_scan_handle
                                           ;   _turn_dir_scan_handle
                                           ;   _shutdown_scan_handle
                                           ;   __mullong
                                           ;   __divulong
                                           ;   __mullong
                                           ;   __mullong
                                           ;   __divulong
                                           ;   __divulong
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _delay_ms
                                           ;   _low_power_scan_handle
                                           ;   _Sys_Init
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _adc_scan_handle
                                           ;   _turn_dir_scan_handle
                                           ;   _shutdown_scan_handle
                                           ;   __mullong
                                           ;   __divulong
                                           ;   __mullong
                                           ;   __mullong
                                           ;   __divulong
                                           ;   __divulong
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _delay_ms
                                           ;   _low_power_scan_handle
                                           ;17 compiler assigned registers:
                                           ;   STK00
                                           ;   r0x105B
                                           ;   r0x105C
                                           ;   STK06
                                           ;   STK05
                                           ;   STK04
                                           ;   STK03
                                           ;   STK02
                                           ;   STK01
                                           ;   r0x105D
                                           ;   r0x105E
                                           ;   r0x105F
                                           ;   r0x1060
                                           ;   r0x1061
                                           ;   r0x1062
                                           ;   r0x1063
                                           ;   r0x1064
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	1088; "MC32P7351.c"	Sys_Init();
0000c4   8586     call    0x586            	CALL	_Sys_Init
                                           ;	.line	1095; "MC32P7351.c"	PWM2EC = 1; // 打开控制升压电路的pwm
0000c5   cda0     bset    0x1a0, 0x6       	BSET	_T2CRbits,6
                                           ;	.line	1096; "MC32P7351.c"	T2DATA = 100;
0000c6   3c64     movai   0x64             	MOVAI	0x64
0000c7   57a3     movra   0x1a3            	MOVRA	_T2DATA
                                           ;	.line	1097; "MC32P7351.c"	adc_sel_pin(ADC_PIN_P02_AN1); // 切换到检测电池降压后的电压的检测引脚
0000c8   3c02     movai   0x2              	MOVAI	0x02
0000c9   8679     call    0x679            	CALL	_adc_sel_pin
                                           ;	.line	1098; "MC32P7351.c"	for (i = 0; i < 10; i++)      // 每55ms进入一次，循环内每次间隔约4.8ms
0000ca   7688     clrr    0x88             	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00865_DS_
0000cb   3c0a     movai   0xa              	MOVAI	0x0a
0000cc   4888     rsubar  0x88             	RSUBAR	_i
0000cd   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0000ce   a0e0     goto    0xe0             	GOTO	_00807_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1100; "MC32P7351.c"	adc_val = adc_get_val();
0000cf   85dc     call    0x5dc            	CALL	_adc_get_val
0000d0   567c     movra   0x7c             	MOVRA	(_adc_val + 1)
0000d1   5806     movar   0x6              	MOVAR	STK00
0000d2   567b     movra   0x7b             	MOVRA	_adc_val
                                           ;;unsigned compare: left < lit(0xF52=3922), size=2
                                           ;	.line	1101; "MC32P7351.c"	if (adc_val >= ADCDETECT_BAT_FULL + ADCDETECT_BAT_NULL_EX)
0000d3   3c0f     movai   0xf              	MOVAI	0x0f
0000d4   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
0000d5   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000d6   a0d9     goto    0xd9             	GOTO	_00982_DS_
0000d7   3c52     movai   0x52             	MOVAI	0x52
0000d8   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00982_DS_
0000d9   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0000da   a0de     goto    0xde             	GOTO	_00866_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1103; "MC32P7351.c"	flag_bat_is_empty = 1;
0000db   3c01     movai   0x1              	MOVAI	0x01
0000dc   568a     movra   0x8a             	MOVRA	_flag_bat_is_empty
                                           ;	.line	1104; "MC32P7351.c"	FLAG_DURING_CHARGING_BAT_IS_NULL = 1; // 标志位置一，在主循环让绿灯快闪
0000dd   ce8f     bset    0x8f, 0x7        	BSET	_flag1,7
                                           _00866_DS_
                                           ;	.line	1098; "MC32P7351.c"	for (i = 0; i < 10; i++)      // 每55ms进入一次，循环内每次间隔约4.8ms
0000de   6688     incr    0x88             	INCR	_i
0000df   a0cb     goto    0xcb             	GOTO	_00865_DS_
                                           _00807_DS_
                                           ;	.line	1107; "MC32P7351.c"	PWM2EC = 0; // 关闭控制升压电路的pwm
0000e0   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	1108; "MC32P7351.c"	T2DATA = 0;
0000e1   77a3     clrr    0x1a3            	CLRR	_T2DATA
                                           _00862_DS_
                                           ;	.line	1117; "MC32P7351.c"	if (flag_bat_is_empty)
0000e2   3c00     movai   0                	MOVAI	0x00
0000e3   5c8a     orar    0x8a             	ORAR	_flag_bat_is_empty
0000e4   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0000e5   a0f1     goto    0xf1             	GOTO	_00809_DS_
                                           ;	.line	1120; "MC32P7351.c"	LED_CHARGING_PIN = LED_ON;
0000e6   d990     bclr    0x190, 0x4       	BCLR	_IOP0bits,4
                                           ;	.line	1121; "MC32P7351.c"	delay_ms(500);
0000e7   3cf4     movai   0xf4             	MOVAI	0xf4
0000e8   5606     movra   0x6              	MOVRA	STK00
0000e9   3c01     movai   0x1              	MOVAI	0x01
0000ea   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	1122; "MC32P7351.c"	LED_CHARGING_PIN = LED_OFF;
0000eb   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	1123; "MC32P7351.c"	delay_ms(500);
0000ec   3cf4     movai   0xf4             	MOVAI	0xf4
0000ed   5606     movra   0x6              	MOVRA	STK00
0000ee   3c01     movai   0x1              	MOVAI	0x01
0000ef   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	1124; "MC32P7351.c"	continue;
0000f0   a0e2     goto    0xe2             	GOTO	_00862_DS_
                                           _00809_DS_
                                           ;	.line	1128; "MC32P7351.c"	key_event_handle(); // 按键事件处理函数，扫描在中断服务函数内执行
0000f1   84b0     call    0x4b0            	CALL	_key_event_handle
                                           ;	.line	1129; "MC32P7351.c"	adc_scan_handle();  // 充电扫描和处理函数(约占用89ms)
0000f2   8395     call    0x395            	CALL	_adc_scan_handle
                                           ;	.line	1131; "MC32P7351.c"	turn_dir_scan_handle();
0000f3   8365     call    0x365            	CALL	_turn_dir_scan_handle
                                           ;	.line	1132; "MC32P7351.c"	shutdown_scan_handle(); // 自动关机检测和处理函数
0000f4   8344     call    0x344            	CALL	_shutdown_scan_handle
                                           ;	.line	1136; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING)
0000f5   e48f     jbset   0x8f, 0x2        	JBSET	_flag1,2
0000f6   a2e1     goto    0x2e1            	GOTO	_00846_DS_
                                           ;	.line	1138; "MC32P7351.c"	last_pwm_val = T2DATA;      // 读出上一次PWM占空比对应的值
0000f7   59a3     movar   0x1a3            	MOVAR	_T2DATA
0000f8   567f     movra   0x7f             	MOVRA	_last_pwm_val
0000f9   7680     clrr    0x80             	CLRR	(_last_pwm_val + 1)
                                           ;	.line	1139; "MC32P7351.c"	max_pwm_val = (T2LOAD + 1); // 读出PWM占空比设定的、最大的值
0000fa   59a2     movar   0x1a2            	MOVAR	_T2LOAD
0000fb   5616     movra   0x16             	MOVRA	r0x105B
0000fc   7617     clrr    0x17             	CLRR	r0x105C
0000fd   3c01     movai   0x1              	MOVAI	0x01
0000fe   7c16     addar   0x16             	ADDAR	r0x105B
0000ff   5677     movra   0x77             	MOVRA	_max_pwm_val
000100   7678     clrr    0x78             	CLRR	(_max_pwm_val + 1)
000101   5278     rlr     0x78             	RLR	(_max_pwm_val + 1)
000102   3c00     movai   0                	MOVAI	0x00
000103   7e78     addra   0x78             	ADDRA	(_max_pwm_val + 1)
000104   7679     clrr    0x79             	CLRR	(_max_pwm_val + 2)
000105   767a     clrr    0x7a             	CLRR	(_max_pwm_val + 3)
                                           ;	.line	1161; "MC32P7351.c"	tmp_bat_val = adc_bat_val;
000106   5873     movar   0x73             	MOVAR	_adc_bat_val
000107   5683     movra   0x83             	MOVRA	_tmp_bat_val
000108   5874     movar   0x74             	MOVAR	(_adc_bat_val + 1)
000109   5684     movra   0x84             	MOVRA	(_tmp_bat_val + 1)
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xB16=2838), size=4
                                           ;	.line	1162; "MC32P7351.c"	if (adc_bat_val <= 2837) // 如果检测电池电压小于 6.5V
00010a   3c00     movai   0                	MOVAI	0x00
00010b   4876     rsubar  0x76             	RSUBAR	(_adc_bat_val + 3)
00010c   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00010d   a118     goto    0x118            	GOTO	_00983_DS_
00010e   3c00     movai   0                	MOVAI	0x00
00010f   4875     rsubar  0x75             	RSUBAR	(_adc_bat_val + 2)
000110   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000111   a118     goto    0x118            	GOTO	_00983_DS_
000112   3c0b     movai   0xb              	MOVAI	0x0b
000113   4874     rsubar  0x74             	RSUBAR	(_adc_bat_val + 1)
000114   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000115   a118     goto    0x118            	GOTO	_00983_DS_
000116   3c16     movai   0x16             	MOVAI	0x16
000117   4873     rsubar  0x73             	RSUBAR	_adc_bat_val
                                           _00983_DS_
000118   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000119   a11f     goto    0x11f            	GOTO	_00820_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1165; "MC32P7351.c"	tmp_bat_val += 70; /* 6.25--1.02，6.35--1.08 */
00011a   3c46     movai   0x46             	MOVAI	0x46
00011b   7e83     addra   0x83             	ADDRA	_tmp_bat_val
00011c   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00011d   6684     incr    0x84             	INCR	(_tmp_bat_val + 1)
00011e   a1a1     goto    0x1a1            	GOTO	_00821_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xBF1=3057), size=4
                                           _00820_DS_
                                           ;	.line	1167; "MC32P7351.c"	else if (adc_bat_val <= 3056) // 如果检测电池电压小于 7.0V
00011f   3c00     movai   0                	MOVAI	0x00
000120   4876     rsubar  0x76             	RSUBAR	(_adc_bat_val + 3)
000121   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000122   a12d     goto    0x12d            	GOTO	_00984_DS_
000123   3c00     movai   0                	MOVAI	0x00
000124   4875     rsubar  0x75             	RSUBAR	(_adc_bat_val + 2)
000125   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000126   a12d     goto    0x12d            	GOTO	_00984_DS_
000127   3c0b     movai   0xb              	MOVAI	0x0b
000128   4874     rsubar  0x74             	RSUBAR	(_adc_bat_val + 1)
000129   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00012a   a12d     goto    0x12d            	GOTO	_00984_DS_
00012b   3cf1     movai   0xf1             	MOVAI	0xf1
00012c   4873     rsubar  0x73             	RSUBAR	_adc_bat_val
                                           _00984_DS_
00012d   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00012e   a134     goto    0x134            	GOTO	_00817_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1170; "MC32P7351.c"	tmp_bat_val += 50; // 6.64--1.01，6.70--1.03，6.80--1.028，6.90--1.10
00012f   3c32     movai   0x32             	MOVAI	0x32
000130   7e83     addra   0x83             	ADDRA	_tmp_bat_val
000131   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000132   6684     incr    0x84             	INCR	(_tmp_bat_val + 1)
000133   a1a1     goto    0x1a1            	GOTO	_00821_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xC75=3189), size=4
                                           _00817_DS_
                                           ;	.line	1173; "MC32P7351.c"	else if (adc_bat_val <= 3188) // 如果检测电池电压小于 7.3V
000134   3c00     movai   0                	MOVAI	0x00
000135   4876     rsubar  0x76             	RSUBAR	(_adc_bat_val + 3)
000136   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000137   a142     goto    0x142            	GOTO	_00985_DS_
000138   3c00     movai   0                	MOVAI	0x00
000139   4875     rsubar  0x75             	RSUBAR	(_adc_bat_val + 2)
00013a   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00013b   a142     goto    0x142            	GOTO	_00985_DS_
00013c   3c0c     movai   0xc              	MOVAI	0x0c
00013d   4874     rsubar  0x74             	RSUBAR	(_adc_bat_val + 1)
00013e   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00013f   a142     goto    0x142            	GOTO	_00985_DS_
000140   3c75     movai   0x75             	MOVAI	0x75
000141   4873     rsubar  0x73             	RSUBAR	_adc_bat_val
                                           _00985_DS_
000142   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000143   a149     goto    0x149            	GOTO	_00814_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1176; "MC32P7351.c"	tmp_bat_val += 35; // 7.20--1.08，7.25--1.04
000144   3c23     movai   0x23             	MOVAI	0x23
000145   7e83     addra   0x83             	ADDRA	_tmp_bat_val
000146   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000147   6684     incr    0x84             	INCR	(_tmp_bat_val + 1)
000148   a1a1     goto    0x1a1            	GOTO	_00821_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xCFF=3327), size=4
                                           _00814_DS_
                                           ;	.line	1180; "MC32P7351.c"	else if (adc_bat_val <= 3326) // 如果检测电池电压小于 7.62V
000149   3c00     movai   0                	MOVAI	0x00
00014a   4876     rsubar  0x76             	RSUBAR	(_adc_bat_val + 3)
00014b   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00014c   a157     goto    0x157            	GOTO	_00986_DS_
00014d   3c00     movai   0                	MOVAI	0x00
00014e   4875     rsubar  0x75             	RSUBAR	(_adc_bat_val + 2)
00014f   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000150   a157     goto    0x157            	GOTO	_00986_DS_
000151   3c0c     movai   0xc              	MOVAI	0x0c
000152   4874     rsubar  0x74             	RSUBAR	(_adc_bat_val + 1)
000153   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000154   a157     goto    0x157            	GOTO	_00986_DS_
000155   3cff     movai   0xff             	MOVAI	0xff
000156   4873     rsubar  0x73             	RSUBAR	_adc_bat_val
                                           _00986_DS_
000157   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000158   a15e     goto    0x15e            	GOTO	_00811_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1183; "MC32P7351.c"	tmp_bat_val += 20; // 7.33--0.991，7.37--1.03，7.40--1.021，7.50--1.05
000159   3c14     movai   0x14             	MOVAI	0x14
00015a   7e83     addra   0x83             	ADDRA	_tmp_bat_val
00015b   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00015c   6684     incr    0x84             	INCR	(_tmp_bat_val + 1)
00015d   a1a1     goto    0x1a1            	GOTO	_00821_DS_
                                           _00811_DS_
                                           ;	.line	1193; "MC32P7351.c"	tmp_bat_val += 15; 
00015e   3c0f     movai   0xf              	MOVAI	0x0f
00015f   7e83     addra   0x83             	ADDRA	_tmp_bat_val
000160   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000161   6684     incr    0x84             	INCR	(_tmp_bat_val + 1)
                                           ;	.line	1204; "MC32P7351.c"	tmp_bat_val -= ((u32)adc_bat_val * 157 / 1000 - 522);
000162   5873     movar   0x73             	MOVAR	_adc_bat_val
000163   5600     movra   0                	MOVRA	STK06
000164   5874     movar   0x74             	MOVAR	(_adc_bat_val + 1)
000165   5601     movra   0x1              	MOVRA	STK05
000166   5875     movar   0x75             	MOVAR	(_adc_bat_val + 2)
000167   5602     movra   0x2              	MOVRA	STK04
000168   5876     movar   0x76             	MOVAR	(_adc_bat_val + 3)
000169   5603     movra   0x3              	MOVRA	STK03
00016a   3c9d     movai   0x9d             	MOVAI	0x9d
00016b   5604     movra   0x4              	MOVRA	STK02
00016c   3c00     movai   0                	MOVAI	0x00
00016d   5605     movra   0x5              	MOVRA	STK01
00016e   3c00     movai   0                	MOVAI	0x00
00016f   5606     movra   0x6              	MOVRA	STK00
000170   3c00     movai   0                	MOVAI	0x00
000171   86c8     call    0x6c8            	CALL	__mullong
000172   5619     movra   0x19             	MOVRA	r0x105D
000173   5806     movar   0x6              	MOVAR	STK00
000174   5618     movra   0x18             	MOVRA	r0x105E
000175   5805     movar   0x5              	MOVAR	STK01
000176   5617     movra   0x17             	MOVRA	r0x105C
000177   5804     movar   0x4              	MOVAR	STK02
000178   5616     movra   0x16             	MOVRA	r0x105B
000179   3ce8     movai   0xe8             	MOVAI	0xe8
00017a   5600     movra   0                	MOVRA	STK06
00017b   3c03     movai   0x3              	MOVAI	0x03
00017c   5601     movra   0x1              	MOVRA	STK05
00017d   3c00     movai   0                	MOVAI	0x00
00017e   5602     movra   0x2              	MOVRA	STK04
00017f   3c00     movai   0                	MOVAI	0x00
000180   5603     movra   0x3              	MOVRA	STK03
000181   5816     movar   0x16             	MOVAR	r0x105B
000182   5604     movra   0x4              	MOVRA	STK02
000183   5817     movar   0x17             	MOVAR	r0x105C
000184   5605     movra   0x5              	MOVRA	STK01
000185   5818     movar   0x18             	MOVAR	r0x105E
000186   5606     movra   0x6              	MOVRA	STK00
000187   5819     movar   0x19             	MOVAR	r0x105D
000188   8753     call    0x753            	CALL	__divulong
000189   5619     movra   0x19             	MOVRA	r0x105D
00018a   5806     movar   0x6              	MOVAR	STK00
00018b   5618     movra   0x18             	MOVRA	r0x105E
00018c   5805     movar   0x5              	MOVAR	STK01
00018d   561b     movra   0x1b             	MOVRA	r0x1060
00018e   5617     movra   0x17             	MOVRA	r0x105C
00018f   5804     movar   0x4              	MOVAR	STK02
000190   561a     movra   0x1a             	MOVRA	r0x105F
000191   5616     movra   0x16             	MOVRA	r0x105B
                                           ;;124	MOVAR	r0x105B
                                           ;;125	MOVAR	r0x105C
000192   3cf6     movai   0xf6             	MOVAI	0xf6
000193   7c1a     addar   0x1a             	ADDAR	r0x105F
000194   5616     movra   0x16             	MOVRA	r0x105B
000195   3cfd     movai   0xfd             	MOVAI	0xfd
000196   5617     movra   0x17             	MOVRA	r0x105C
000197   581b     movar   0x1b             	MOVAR	r0x1060
000198   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000199   601b     jzar    0x1b             	JZAR	r0x1060
00019a   7e17     addra   0x17             	ADDRA	r0x105C
00019b   5816     movar   0x16             	MOVAR	r0x105B
00019c   4a83     rsubra  0x83             	RSUBRA	_tmp_bat_val
00019d   5817     movar   0x17             	MOVAR	r0x105C
00019e   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00019f   6017     jzar    0x17             	JZAR	r0x105C
0001a0   4a84     rsubra  0x84             	RSUBRA	(_tmp_bat_val + 1)
                                           _00821_DS_
                                           ;	.line	1208; "MC32P7351.c"	tmp_bat_val += 80;
0001a1   3c50     movai   0x50             	MOVAI	0x50
0001a2   7e83     addra   0x83             	ADDRA	_tmp_bat_val
0001a3   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0001a4   6684     incr    0x84             	INCR	(_tmp_bat_val + 1)
                                           ;;unsigned compare: left < lit(0xE27=3623), size=4
                                           ;	.line	1212; "MC32P7351.c"	if (adc_bat_val >= 3623) // 8.30V及以上 , 降低电流
0001a5   3c00     movai   0                	MOVAI	0x00
0001a6   4876     rsubar  0x76             	RSUBAR	(_adc_bat_val + 3)
0001a7   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001a8   a1b3     goto    0x1b3            	GOTO	_00987_DS_
0001a9   3c00     movai   0                	MOVAI	0x00
0001aa   4875     rsubar  0x75             	RSUBAR	(_adc_bat_val + 2)
0001ab   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001ac   a1b3     goto    0x1b3            	GOTO	_00987_DS_
0001ad   3c0e     movai   0xe              	MOVAI	0x0e
0001ae   4874     rsubar  0x74             	RSUBAR	(_adc_bat_val + 1)
0001af   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001b0   a1b3     goto    0x1b3            	GOTO	_00987_DS_
0001b1   3c27     movai   0x27             	MOVAI	0x27
0001b2   4873     rsubar  0x73             	RSUBAR	_adc_bat_val
                                           _00987_DS_
0001b3   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0001b4   a1ce     goto    0x1ce            	GOTO	_00826_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1223; "MC32P7351.c"	for (i = 0; i < 120; i++) // 8.32--0.737，8.34--0.725
0001b5   7616     clrr    0x16             	CLRR	r0x105B
0001b6   7617     clrr    0x17             	CLRR	r0x105C
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x3=3), size=2
                                           _00867_DS_
                                           ;	.line	1225; "MC32P7351.c"	if (tmp_bat_val > 2)
0001b7   3c00     movai   0                	MOVAI	0x00
0001b8   4884     rsubar  0x84             	RSUBAR	(_tmp_bat_val + 1)
0001b9   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001ba   a1bd     goto    0x1bd            	GOTO	_00988_DS_
0001bb   3c03     movai   0x3              	MOVAI	0x03
0001bc   4883     rsubar  0x83             	RSUBAR	_tmp_bat_val
                                           _00988_DS_
0001bd   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0001be   a1c3     goto    0x1c3            	GOTO	_00868_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1227; "MC32P7351.c"	tmp_bat_val--;
0001bf   3cff     movai   0xff             	MOVAI	0xff
0001c0   7e83     addra   0x83             	ADDRA	_tmp_bat_val
0001c1   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0001c2   6e84     decr    0x84             	DECR	(_tmp_bat_val + 1)
                                           _00868_DS_
                                           ;	.line	1223; "MC32P7351.c"	for (i = 0; i < 120; i++) // 8.32--0.737，8.34--0.725
0001c3   6616     incr    0x16             	INCR	r0x105B
0001c4   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0001c5   6617     incr    0x17             	INCR	r0x105C
                                           ;;unsigned compare: left < lit(0x78=120), size=2
0001c6   3c00     movai   0                	MOVAI	0x00
0001c7   4817     rsubar  0x17             	RSUBAR	r0x105C
0001c8   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001c9   a1cc     goto    0x1cc            	GOTO	_00989_DS_
0001ca   3c78     movai   0x78             	MOVAI	0x78
0001cb   4816     rsubar  0x16             	RSUBAR	r0x105B
                                           _00989_DS_
0001cc   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0001cd   a1b7     goto    0x1b7            	GOTO	_00867_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00826_DS_
                                           ;	.line	1261; "MC32P7351.c"	tmp_val = max_pwm_val - (adc_charging_val * max_pwm_val * 94 / 147) / tmp_bat_val;
0001ce   587d     movar   0x7d             	MOVAR	_adc_charging_val
0001cf   5616     movra   0x16             	MOVRA	r0x105B
0001d0   587e     movar   0x7e             	MOVAR	(_adc_charging_val + 1)
0001d1   5617     movra   0x17             	MOVRA	r0x105C
0001d2   761a     clrr    0x1a             	CLRR	r0x105F
0001d3   761b     clrr    0x1b             	CLRR	r0x1060
0001d4   5877     movar   0x77             	MOVAR	_max_pwm_val
0001d5   5600     movra   0                	MOVRA	STK06
0001d6   5878     movar   0x78             	MOVAR	(_max_pwm_val + 1)
0001d7   5601     movra   0x1              	MOVRA	STK05
0001d8   5879     movar   0x79             	MOVAR	(_max_pwm_val + 2)
0001d9   5602     movra   0x2              	MOVRA	STK04
0001da   587a     movar   0x7a             	MOVAR	(_max_pwm_val + 3)
0001db   5603     movra   0x3              	MOVRA	STK03
0001dc   5816     movar   0x16             	MOVAR	r0x105B
0001dd   5604     movra   0x4              	MOVRA	STK02
0001de   5817     movar   0x17             	MOVAR	r0x105C
0001df   5605     movra   0x5              	MOVRA	STK01
0001e0   3c00     movai   0                	MOVAI	0x00
0001e1   5606     movra   0x6              	MOVRA	STK00
0001e2   3c00     movai   0                	MOVAI	0x00
0001e3   86c8     call    0x6c8            	CALL	__mullong
0001e4   561b     movra   0x1b             	MOVRA	r0x1060
0001e5   5806     movar   0x6              	MOVAR	STK00
0001e6   561a     movra   0x1a             	MOVRA	r0x105F
0001e7   5805     movar   0x5              	MOVAR	STK01
0001e8   5617     movra   0x17             	MOVRA	r0x105C
0001e9   5804     movar   0x4              	MOVAR	STK02
0001ea   5616     movra   0x16             	MOVRA	r0x105B
0001eb   5816     movar   0x16             	MOVAR	r0x105B
0001ec   5600     movra   0                	MOVRA	STK06
0001ed   5817     movar   0x17             	MOVAR	r0x105C
0001ee   5601     movra   0x1              	MOVRA	STK05
0001ef   581a     movar   0x1a             	MOVAR	r0x105F
0001f0   5602     movra   0x2              	MOVRA	STK04
0001f1   581b     movar   0x1b             	MOVAR	r0x1060
0001f2   5603     movra   0x3              	MOVRA	STK03
0001f3   3c5e     movai   0x5e             	MOVAI	0x5e
0001f4   5604     movra   0x4              	MOVRA	STK02
0001f5   3c00     movai   0                	MOVAI	0x00
0001f6   5605     movra   0x5              	MOVRA	STK01
0001f7   3c00     movai   0                	MOVAI	0x00
0001f8   5606     movra   0x6              	MOVRA	STK00
0001f9   3c00     movai   0                	MOVAI	0x00
0001fa   86c8     call    0x6c8            	CALL	__mullong
0001fb   561b     movra   0x1b             	MOVRA	r0x1060
0001fc   5806     movar   0x6              	MOVAR	STK00
0001fd   561a     movra   0x1a             	MOVRA	r0x105F
0001fe   5805     movar   0x5              	MOVAR	STK01
0001ff   5617     movra   0x17             	MOVRA	r0x105C
000200   5804     movar   0x4              	MOVAR	STK02
000201   5616     movra   0x16             	MOVRA	r0x105B
000202   3c93     movai   0x93             	MOVAI	0x93
000203   5600     movra   0                	MOVRA	STK06
000204   3c00     movai   0                	MOVAI	0x00
000205   5601     movra   0x1              	MOVRA	STK05
000206   3c00     movai   0                	MOVAI	0x00
000207   5602     movra   0x2              	MOVRA	STK04
000208   3c00     movai   0                	MOVAI	0x00
000209   5603     movra   0x3              	MOVRA	STK03
00020a   5816     movar   0x16             	MOVAR	r0x105B
00020b   5604     movra   0x4              	MOVRA	STK02
00020c   5817     movar   0x17             	MOVAR	r0x105C
00020d   5605     movra   0x5              	MOVRA	STK01
00020e   581a     movar   0x1a             	MOVAR	r0x105F
00020f   5606     movra   0x6              	MOVRA	STK00
000210   581b     movar   0x1b             	MOVAR	r0x1060
000211   8753     call    0x753            	CALL	__divulong
000212   561b     movra   0x1b             	MOVRA	r0x1060
000213   5806     movar   0x6              	MOVAR	STK00
000214   561a     movra   0x1a             	MOVRA	r0x105F
000215   5805     movar   0x5              	MOVAR	STK01
000216   5617     movra   0x17             	MOVRA	r0x105C
000217   5804     movar   0x4              	MOVAR	STK02
000218   5616     movra   0x16             	MOVRA	r0x105B
000219   5883     movar   0x83             	MOVAR	_tmp_bat_val
00021a   561c     movra   0x1c             	MOVRA	r0x1061
00021b   5884     movar   0x84             	MOVAR	(_tmp_bat_val + 1)
00021c   561d     movra   0x1d             	MOVRA	r0x1062
00021d   761e     clrr    0x1e             	CLRR	r0x1063
00021e   761f     clrr    0x1f             	CLRR	r0x1064
00021f   581c     movar   0x1c             	MOVAR	r0x1061
000220   5600     movra   0                	MOVRA	STK06
000221   581d     movar   0x1d             	MOVAR	r0x1062
000222   5601     movra   0x1              	MOVRA	STK05
000223   3c00     movai   0                	MOVAI	0x00
000224   5602     movra   0x2              	MOVRA	STK04
000225   3c00     movai   0                	MOVAI	0x00
000226   5603     movra   0x3              	MOVRA	STK03
000227   5816     movar   0x16             	MOVAR	r0x105B
000228   5604     movra   0x4              	MOVRA	STK02
000229   5817     movar   0x17             	MOVAR	r0x105C
00022a   5605     movra   0x5              	MOVRA	STK01
00022b   581a     movar   0x1a             	MOVAR	r0x105F
00022c   5606     movra   0x6              	MOVRA	STK00
00022d   581b     movar   0x1b             	MOVAR	r0x1060
00022e   8753     call    0x753            	CALL	__divulong
00022f   561b     movra   0x1b             	MOVRA	r0x1060
000230   5806     movar   0x6              	MOVAR	STK00
000231   561a     movra   0x1a             	MOVRA	r0x105F
000232   5805     movar   0x5              	MOVAR	STK01
000233   561f     movra   0x1f             	MOVRA	r0x1064
000234   5617     movra   0x17             	MOVRA	r0x105C
000235   5804     movar   0x4              	MOVAR	STK02
000236   561e     movra   0x1e             	MOVRA	r0x1063
000237   5616     movra   0x16             	MOVRA	r0x105B
000238   5877     movar   0x77             	MOVAR	_max_pwm_val
000239   561c     movra   0x1c             	MOVRA	r0x1061
00023a   5878     movar   0x78             	MOVAR	(_max_pwm_val + 1)
00023b   561d     movra   0x1d             	MOVRA	r0x1062
                                           ;;121	MOVAR	r0x105B
                                           ;;122	MOVAR	r0x105C
00023c   581e     movar   0x1e             	MOVAR	r0x1063
00023d   481c     rsubar  0x1c             	RSUBAR	r0x1061
00023e   5681     movra   0x81             	MOVRA	_tmp_val
00023f   581f     movar   0x1f             	MOVAR	r0x1064
000240   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000241   641f     incar   0x1f             	INCAR	r0x1064
000242   481d     rsubar  0x1d             	RSUBAR	r0x1062
000243   5682     movra   0x82             	MOVRA	(_tmp_val + 1)
                                           ;	.line	1266; "MC32P7351.c"	if (tmp_val >= max_pwm_val)
000244   5881     movar   0x81             	MOVAR	_tmp_val
000245   5616     movra   0x16             	MOVRA	r0x105B
000246   5882     movar   0x82             	MOVAR	(_tmp_val + 1)
000247   5617     movra   0x17             	MOVRA	r0x105C
000248   761a     clrr    0x1a             	CLRR	r0x105F
000249   761b     clrr    0x1b             	CLRR	r0x1060
00024a   587a     movar   0x7a             	MOVAR	(_max_pwm_val + 3)
00024b   481b     rsubar  0x1b             	RSUBAR	r0x1060
00024c   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00024d   a258     goto    0x258            	GOTO	_00990_DS_
00024e   5879     movar   0x79             	MOVAR	(_max_pwm_val + 2)
00024f   481a     rsubar  0x1a             	RSUBAR	r0x105F
000250   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000251   a258     goto    0x258            	GOTO	_00990_DS_
000252   5878     movar   0x78             	MOVAR	(_max_pwm_val + 1)
000253   4817     rsubar  0x17             	RSUBAR	r0x105C
000254   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000255   a258     goto    0x258            	GOTO	_00990_DS_
000256   5877     movar   0x77             	MOVAR	_max_pwm_val
000257   4816     rsubar  0x16             	RSUBAR	r0x105B
                                           _00990_DS_
000258   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000259   a25c     goto    0x25c            	GOTO	_00828_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1269; "MC32P7351.c"	tmp_val = 0;
00025a   7681     clrr    0x81             	CLRR	_tmp_val
00025b   7682     clrr    0x82             	CLRR	(_tmp_val + 1)
                                           _00828_DS_
                                           ;	.line	1273; "MC32P7351.c"	tmp_val_cnt++;
00025c   6689     incr    0x89             	INCR	_tmp_val_cnt
                                           ;	.line	1274; "MC32P7351.c"	tmp_val_cnt &= 0x07;
00025d   3c07     movai   0x7              	MOVAI	0x07
00025e   7a89     andra   0x89             	ANDRA	_tmp_val_cnt
                                           ;	.line	1275; "MC32P7351.c"	tmp_val_l[tmp_val_cnt] = (tmp_val_l[tmp_val_cnt] + tmp_val) >> 1;
00025f   d187     bclr    0x187, 0         	BCLR	PFLAG,0
000260   5089     rlar    0x89             	RLAR	_tmp_val_cnt
000261   5616     movra   0x16             	MOVRA	r0x105B
000262   5816     movar   0x16             	MOVAR	r0x105B
000263   3f4b     addai   0x4b             	ADDAI	(_tmp_val_l + 0)
000264   5616     movra   0x16             	MOVRA	r0x105B
000265   3c00     movai   0                	MOVAI	high (_tmp_val_l + 0)
000266   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000267   3f01     addai   0x1              	ADDAI	0x01
000268   5617     movra   0x17             	MOVRA	r0x105C
000269   d187     bclr    0x187, 0         	BCLR	PFLAG,0
00026a   5089     rlar    0x89             	RLAR	_tmp_val_cnt
00026b   561a     movra   0x1a             	MOVRA	r0x105F
00026c   581a     movar   0x1a             	MOVAR	r0x105F
00026d   3f4b     addai   0x4b             	ADDAI	(_tmp_val_l + 0)
00026e   561a     movra   0x1a             	MOVRA	r0x105F
00026f   3c00     movai   0                	MOVAI	high (_tmp_val_l + 0)
000270   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000271   3f01     addai   0x1              	ADDAI	0x01
000272   561b     movra   0x1b             	MOVRA	r0x1060
000273   581a     movar   0x1a             	MOVAR	r0x105F
000274   5784     movra   0x184            	MOVRA	FSR0
000275   581b     movar   0x1b             	MOVAR	r0x1060
000276   5785     movra   0x185            	MOVRA	FSR1
000277   5982     movar   0x182            	MOVAR	INDF2
000278   561c     movra   0x1c             	MOVRA	r0x1061
000279   6784     incr    0x184            	INCR	FSR0
00027a   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00027b   6785     incr    0x185            	INCR	FSR1
00027c   5982     movar   0x182            	MOVAR	INDF2
00027d   561b     movra   0x1b             	MOVRA	r0x1060
00027e   561d     movra   0x1d             	MOVRA	r0x1062
00027f   5881     movar   0x81             	MOVAR	_tmp_val
000280   7c1c     addar   0x1c             	ADDAR	r0x1061
000281   561a     movra   0x1a             	MOVRA	r0x105F
                                           ;;123	MOVAR	r0x1062
000282   5882     movar   0x82             	MOVAR	(_tmp_val + 1)
000283   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000284   6082     jzar    0x82             	JZAR	(_tmp_val + 1)
000285   7e1b     addra   0x1b             	ADDRA	r0x1060
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=0, offr=0
000286   d187     bclr    0x187, 0         	BCLR	PFLAG,0
000287   4c1b     rrar    0x1b             	RRAR	r0x1060
000288   561d     movra   0x1d             	MOVRA	r0x1062
000289   4c1a     rrar    0x1a             	RRAR	r0x105F
00028a   561c     movra   0x1c             	MOVRA	r0x1061
00028b   5816     movar   0x16             	MOVAR	r0x105B
00028c   5784     movra   0x184            	MOVRA	FSR0
00028d   5817     movar   0x17             	MOVAR	r0x105C
00028e   5785     movra   0x185            	MOVRA	FSR1
00028f   581c     movar   0x1c             	MOVAR	r0x1061
000290   5782     movra   0x182            	MOVRA	INDF2
000291   6784     incr    0x184            	INCR	FSR0
000292   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000293   6785     incr    0x185            	INCR	FSR1
000294   581d     movar   0x1d             	MOVAR	r0x1062
000295   5782     movra   0x182            	MOVRA	INDF2
                                           ;	.line	1276; "MC32P7351.c"	tmp_val = 0;
000296   7681     clrr    0x81             	CLRR	_tmp_val
000297   7682     clrr    0x82             	CLRR	(_tmp_val + 1)
                                           ;	.line	1277; "MC32P7351.c"	for (i = 0; i < 8; i++)
000298   7688     clrr    0x88             	CLRR	_i
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00870_DS_
000299   3c08     movai   0x8              	MOVAI	0x08
00029a   4888     rsubar  0x88             	RSUBAR	_i
00029b   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00029c   a2ba     goto    0x2ba            	GOTO	_00829_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1279; "MC32P7351.c"	tmp_val += tmp_val_l[i];
00029d   d187     bclr    0x187, 0         	BCLR	PFLAG,0
00029e   5088     rlar    0x88             	RLAR	_i
00029f   5616     movra   0x16             	MOVRA	r0x105B
0002a0   5816     movar   0x16             	MOVAR	r0x105B
0002a1   3f4b     addai   0x4b             	ADDAI	(_tmp_val_l + 0)
0002a2   5616     movra   0x16             	MOVRA	r0x105B
0002a3   3c00     movai   0                	MOVAI	high (_tmp_val_l + 0)
0002a4   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0002a5   3f01     addai   0x1              	ADDAI	0x01
0002a6   5617     movra   0x17             	MOVRA	r0x105C
0002a7   5816     movar   0x16             	MOVAR	r0x105B
0002a8   5784     movra   0x184            	MOVRA	FSR0
0002a9   5817     movar   0x17             	MOVAR	r0x105C
0002aa   5785     movra   0x185            	MOVRA	FSR1
0002ab   5982     movar   0x182            	MOVAR	INDF2
0002ac   561a     movra   0x1a             	MOVRA	r0x105F
0002ad   6784     incr    0x184            	INCR	FSR0
0002ae   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0002af   6785     incr    0x185            	INCR	FSR1
0002b0   5982     movar   0x182            	MOVAR	INDF2
0002b1   561b     movra   0x1b             	MOVRA	r0x1060
0002b2   581a     movar   0x1a             	MOVAR	r0x105F
0002b3   7e81     addra   0x81             	ADDRA	_tmp_val
0002b4   581b     movar   0x1b             	MOVAR	r0x1060
0002b5   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0002b6   601b     jzar    0x1b             	JZAR	r0x1060
0002b7   7e82     addra   0x82             	ADDRA	(_tmp_val + 1)
                                           ;	.line	1277; "MC32P7351.c"	for (i = 0; i < 8; i++)
0002b8   6688     incr    0x88             	INCR	_i
0002b9   a299     goto    0x299            	GOTO	_00870_DS_
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=1, offr=0
                                           _00829_DS_
                                           ;	.line	1281; "MC32P7351.c"	tmp_val >>= 3;
0002ba   d187     bclr    0x187, 0         	BCLR	PFLAG,0
0002bb   4e82     rrr     0x82             	RRR	(_tmp_val + 1)
0002bc   4e81     rrr     0x81             	RRR	_tmp_val
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=1, offr=0
0002bd   d187     bclr    0x187, 0         	BCLR	PFLAG,0
0002be   4e82     rrr     0x82             	RRR	(_tmp_val + 1)
0002bf   4e81     rrr     0x81             	RRR	_tmp_val
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=1, offr=0
0002c0   d187     bclr    0x187, 0         	BCLR	PFLAG,0
0002c1   4e82     rrr     0x82             	RRR	(_tmp_val + 1)
0002c2   4e81     rrr     0x81             	RRR	_tmp_val
                                           ;	.line	1319; "MC32P7351.c"	if (flag_is_adjust_pwm_time_comes)
0002c3   ec91     jbset   0x91, 0x6        	JBSET	_flag3,6
0002c4   a2de     goto    0x2de            	GOTO	_00836_DS_
                                           ;	.line	1321; "MC32P7351.c"	flag_is_adjust_pwm_time_comes = 0;
0002c5   dc91     bclr    0x91, 0x6        	BCLR	_flag3,6
                                           ;	.line	1323; "MC32P7351.c"	if (tmp_val > last_pwm_val)
0002c6   5882     movar   0x82             	MOVAR	(_tmp_val + 1)
0002c7   4880     rsubar  0x80             	RSUBAR	(_last_pwm_val + 1)
0002c8   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0002c9   a2cc     goto    0x2cc            	GOTO	_00992_DS_
0002ca   5881     movar   0x81             	MOVAR	_tmp_val
0002cb   487f     rsubar  0x7f             	RSUBAR	_last_pwm_val
                                           _00992_DS_
0002cc   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0002cd   a2d2     goto    0x2d2            	GOTO	_00833_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1328; "MC32P7351.c"	last_pwm_val++;
0002ce   667f     incr    0x7f             	INCR	_last_pwm_val
0002cf   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0002d0   6680     incr    0x80             	INCR	(_last_pwm_val + 1)
0002d1   a2de     goto    0x2de            	GOTO	_00836_DS_
                                           _00833_DS_
                                           ;	.line	1332; "MC32P7351.c"	else if (tmp_val < last_pwm_val)
0002d2   5880     movar   0x80             	MOVAR	(_last_pwm_val + 1)
0002d3   4882     rsubar  0x82             	RSUBAR	(_tmp_val + 1)
0002d4   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0002d5   a2d8     goto    0x2d8            	GOTO	_00993_DS_
0002d6   587f     movar   0x7f             	MOVAR	_last_pwm_val
0002d7   4881     rsubar  0x81             	RSUBAR	_tmp_val
                                           _00993_DS_
0002d8   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0002d9   a2de     goto    0x2de            	GOTO	_00836_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1337; "MC32P7351.c"	last_pwm_val--;
0002da   3cff     movai   0xff             	MOVAI	0xff
0002db   7e7f     addra   0x7f             	ADDRA	_last_pwm_val
0002dc   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0002dd   6e80     decr    0x80             	DECR	(_last_pwm_val + 1)
                                           _00836_DS_
                                           ;	.line	1398; "MC32P7351.c"	T2DATA = last_pwm_val;
0002de   587f     movar   0x7f             	MOVAR	_last_pwm_val
0002df   57a3     movra   0x1a3            	MOVRA	_T2DATA
0002e0   a2ed     goto    0x2ed            	GOTO	_00847_DS_
                                           _00846_DS_
                                           ;	.line	1403; "MC32P7351.c"	if (FLAG_DURING_CHARGING_BAT_IS_NULL)
0002e1   ee8f     jbset   0x8f, 0x7        	JBSET	_flag1,7
0002e2   a2ed     goto    0x2ed            	GOTO	_00847_DS_
                                           ;	.line	1406; "MC32P7351.c"	LED_FULL_CHARGE_ON();
0002e3   d790     bclr    0x190, 0x3       	BCLR	_IOP0bits,3
                                           ;	.line	1407; "MC32P7351.c"	delay_ms(200);
0002e4   3cc8     movai   0xc8             	MOVAI	0xc8
0002e5   5606     movra   0x6              	MOVRA	STK00
0002e6   3c00     movai   0                	MOVAI	0x00
0002e7   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	1408; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
0002e8   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	1409; "MC32P7351.c"	delay_ms(200);
0002e9   3cc8     movai   0xc8             	MOVAI	0xc8
0002ea   5606     movra   0x6              	MOVRA	STK00
0002eb   3c00     movai   0                	MOVAI	0x00
0002ec   86a8     call    0x6a8            	CALL	_delay_ms
                                           _00847_DS_
                                           ;	.line	1413; "MC32P7351.c"	if (flag_is_low_battery)
0002ed   e490     jbset   0x90, 0x2        	JBSET	_flag2,2
0002ee   a30a     goto    0x30a            	GOTO	_00860_DS_
                                           ;	.line	1415; "MC32P7351.c"	LED_WORKING_OFF();
0002ef   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	1418; "MC32P7351.c"	LED_CHARGING_ON();
0002f0   d990     bclr    0x190, 0x4       	BCLR	_IOP0bits,4
                                           ;	.line	1420; "MC32P7351.c"	for (i = 0; i < 20; i++)
0002f1   7688     clrr    0x88             	CLRR	_i
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00873_DS_
0002f2   3c14     movai   0x14             	MOVAI	0x14
0002f3   4888     rsubar  0x88             	RSUBAR	_i
0002f4   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0002f5   a2fd     goto    0x2fd            	GOTO	_00855_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1423; "MC32P7351.c"	key_event_handle();
0002f6   84b0     call    0x4b0            	CALL	_key_event_handle
                                           ;	.line	1424; "MC32P7351.c"	delay_ms(10);
0002f7   3c0a     movai   0xa              	MOVAI	0x0a
0002f8   5606     movra   0x6              	MOVRA	STK00
0002f9   3c00     movai   0                	MOVAI	0x00
0002fa   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	1420; "MC32P7351.c"	for (i = 0; i < 20; i++)
0002fb   6688     incr    0x88             	INCR	_i
0002fc   a2f2     goto    0x2f2            	GOTO	_00873_DS_
                                           _00855_DS_
                                           ;	.line	1427; "MC32P7351.c"	LED_CHARGING_OFF();
0002fd   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	1429; "MC32P7351.c"	for (i = 0; i < 20; i++)
0002fe   7688     clrr    0x88             	CLRR	_i
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00876_DS_
0002ff   3c14     movai   0x14             	MOVAI	0x14
000300   4888     rsubar  0x88             	RSUBAR	_i
000301   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000302   a30a     goto    0x30a            	GOTO	_00860_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1432; "MC32P7351.c"	key_event_handle();
000303   84b0     call    0x4b0            	CALL	_key_event_handle
                                           ;	.line	1433; "MC32P7351.c"	delay_ms(10);
000304   3c0a     movai   0xa              	MOVAI	0x0a
000305   5606     movra   0x6              	MOVRA	STK00
000306   3c00     movai   0                	MOVAI	0x00
000307   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	1429; "MC32P7351.c"	for (i = 0; i < 20; i++)
000308   6688     incr    0x88             	INCR	_i
000309   a2ff     goto    0x2ff            	GOTO	_00876_DS_
                                           _00860_DS_
                                           ;	.line	1437; "MC32P7351.c"	low_power_scan_handle();
00030a   830e     call    0x30e            	CALL	_low_power_scan_handle
                                           ;	.line	1444; "MC32P7351.c"	__endasm;
                                           	;
00030b   000e     clrwdt                   	CLRWDT;
                                           	
00030c   a0e2     goto    0xe2             	GOTO	_00862_DS_
                                           ;	.line	1447; "MC32P7351.c"	}
00030d   000c     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _low_power_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _adc_config
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val_once
                                           ;   _Sys_Init
                                           ;   _CLR_RAM
                                           ;   _adc_config
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val_once
                                           ;   _Sys_Init
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _low_power_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	984; "MC32P7351.c"	if (FLAG_DURING_CHARGING_BAT_IS_NULL || // 只插着充电器且没有电池时，不进入低功耗
00030e   fe8f     jbclr   0x8f, 0x7        	JBCLR	_flag1,7
00030f   a316     goto    0x316            	GOTO	_00760_DS_
                                           ;	.line	985; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN ||              // 如果设备已经启动，不进入低功耗
000310   f08f     jbclr   0x8f, 0          	JBCLR	_flag1,0
000311   a316     goto    0x316            	GOTO	_00760_DS_
                                           ;	.line	986; "MC32P7351.c"	FLAG_IS_IN_CHARGING ||              // 如果正在充电，不进入低功耗，因为还需要输出PWM来控制充电
000312   f48f     jbclr   0x8f, 0x2        	JBCLR	_flag1,2
000313   a316     goto    0x316            	GOTO	_00760_DS_
                                           ;	.line	987; "MC32P7351.c"	(0 == P01D))                        // 如果检测到 开关/模式 按键按下，不进入低功耗(交给按键事件处理函数来判断是否要开机)
000314   f390     jbclr   0x190, 0x1       	JBCLR	_IOP0bits,1
000315   a317     goto    0x317            	GOTO	_00765_DS_
                                           _00760_DS_
                                           ;	.line	989; "MC32P7351.c"	return;
000316   a343     goto    0x343            	GOTO	_00778_DS_
                                           _00765_DS_
                                           ;	.line	1007; "MC32P7351.c"	GIE = 0;  // 禁用所有中断
000317   df88     bclr    0x188, 0x7       	BCLR	_MCRbits,7
                                           ;	.line	1008; "MC32P7351.c"	T0EN = 0; // 关闭定时器和PWM输出
000318   df98     bclr    0x198, 0x7       	BCLR	_T0CRbits,7
                                           ;	.line	1009; "MC32P7351.c"	T1EN = 0;
000319   df9c     bclr    0x19c, 0x7       	BCLR	_T1CRbits,7
                                           ;	.line	1010; "MC32P7351.c"	T2EN = 0;
00031a   dfa0     bclr    0x1a0, 0x7       	BCLR	_T2CRbits,7
                                           ;	.line	1011; "MC32P7351.c"	T3EN = 0;
00031b   dfa4     bclr    0x1a4, 0x7       	BCLR	_T3CRbits,7
                                           ;	.line	1013; "MC32P7351.c"	PWM0EC = 0;
00031c   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	1014; "MC32P7351.c"	PWM1EC = 0;
00031d   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	1015; "MC32P7351.c"	PWM2EC = 0;
00031e   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	1016; "MC32P7351.c"	T2DATA = 0;
00031f   77a3     clrr    0x1a3            	CLRR	_T2DATA
                                           ;	.line	1017; "MC32P7351.c"	ADEN = 0; // 不使能ad
000320   d1b0     bclr    0x1b0, 0         	BCLR	_ADCR0bits,0
                                           ;	.line	1024; "MC32P7351.c"	LED_WORKING_OFF();
000321   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	1025; "MC32P7351.c"	LED_CHARGING_OFF();
000322   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	1026; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
000323   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	1029; "MC32P7351.c"	P01PU = 1;
000324   c392     bset    0x192, 0x1       	BSET	_PUP0bits,1
                                           ;	.line	1030; "MC32P7351.c"	P01OE = 0;
000325   d391     bclr    0x191, 0x1       	BCLR	_OEP0bits,1
                                           ;	.line	1033; "MC32P7351.c"	P00PD = 1;
000326   c193     bset    0x193, 0         	BSET	_PDP0bits,0
                                           ;	.line	1034; "MC32P7351.c"	P00OE = 0;
000327   d191     bclr    0x191, 0         	BCLR	_OEP0bits,0
                                           ;	.line	1036; "MC32P7351.c"	HFEN = 0; // 关闭高速时钟
000328   d1ae     bclr    0x1ae, 0         	BCLR	_OSCMRbits,0
                                           ;	.line	1037; "MC32P7351.c"	LFEN = 1;
000329   c3ae     bset    0x1ae, 0x1       	BSET	_OSCMRbits,1
                                           ;	.line	1040; "MC32P7351.c"	Nop();
00032a   0000     nop                      	nop	
                                           ;	.line	1041; "MC32P7351.c"	Nop();
00032b   0000     nop                      	nop	
                                           ;	.line	1042; "MC32P7351.c"	Stop();
00032c   000b     stop                     	stop	
                                           ;	.line	1043; "MC32P7351.c"	Nop();
00032d   0000     nop                      	nop	
                                           ;	.line	1044; "MC32P7351.c"	Nop();
00032e   0000     nop                      	nop	
                                           ;	.line	1046; "MC32P7351.c"	HFEN = 1; // 开启高速时钟
00032f   c1ae     bset    0x1ae, 0         	BSET	_OSCMRbits,0
                                           ;	.line	1048; "MC32P7351.c"	CLR_RAM();
000330   869c     call    0x69c            	CALL	_CLR_RAM
                                           ;	.line	1050; "MC32P7351.c"	adc_config();
000331   8690     call    0x690            	CALL	_adc_config
                                           ;	.line	1051; "MC32P7351.c"	adc_sel_pin(ADC_PIN_P00_AN0);
000332   3c01     movai   0x1              	MOVAI	0x01
000333   8679     call    0x679            	CALL	_adc_sel_pin
                                           ;	.line	1052; "MC32P7351.c"	adc_val = adc_get_val_once();
000334   85c0     call    0x5c0            	CALL	_adc_get_val_once
000335   567c     movra   0x7c             	MOVRA	(_adc_val + 1)
000336   5806     movar   0x6              	MOVAR	STK00
000337   567b     movra   0x7b             	MOVRA	_adc_val
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           ;	.line	1054; "MC32P7351.c"	if (adc_val < ADCDETECT_CHARING_THRESHOLD && P01D)
000338   3c08     movai   0x8              	MOVAI	0x08
000339   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
00033a   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00033b   a33e     goto    0x33e            	GOTO	_00800_DS_
00033c   3c00     movai   0                	MOVAI	0x00
00033d   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00800_DS_
00033e   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00033f   a342     goto    0x342            	GOTO	_00776_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
000340   f390     jbclr   0x190, 0x1       	JBCLR	_IOP0bits,1
000341   a317     goto    0x317            	GOTO	_00765_DS_
                                           _00776_DS_
                                           ;	.line	1080; "MC32P7351.c"	Sys_Init();
000342   8586     call    0x586            	CALL	_Sys_Init
                                           _00778_DS_
                                           ;	.line	1084; "MC32P7351.c"	}
000343   000c     return                   	RETURN	
                                           ; exit point of _low_power_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _shutdown_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _shutdown_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	955; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
000344   e08f     jbset   0x8f, 0          	JBSET	_flag1,0
000345   a360     goto    0x360            	GOTO	_00743_DS_
                                           ;;unsigned compare: left < lit(0xDBBA0=900000), size=4
                                           ;	.line	959; "MC32P7351.c"	if (shut_down_ms_cnt >= 900000)
000346   3c00     movai   0                	MOVAI	0x00
000347   4872     rsubar  0x72             	RSUBAR	(_shut_down_ms_cnt + 3)
000348   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000349   a354     goto    0x354            	GOTO	_00755_DS_
00034a   3c0d     movai   0xd              	MOVAI	0x0d
00034b   4871     rsubar  0x71             	RSUBAR	(_shut_down_ms_cnt + 2)
00034c   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00034d   a354     goto    0x354            	GOTO	_00755_DS_
00034e   3cbb     movai   0xbb             	MOVAI	0xbb
00034f   4870     rsubar  0x70             	RSUBAR	(_shut_down_ms_cnt + 1)
000350   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000351   a354     goto    0x354            	GOTO	_00755_DS_
000352   3ca0     movai   0xa0             	MOVAI	0xa0
000353   486f     rsubar  0x6f             	RSUBAR	_shut_down_ms_cnt
                                           _00755_DS_
000354   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000355   a364     goto    0x364            	GOTO	_00745_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	962; "MC32P7351.c"	LED_WORKING_OFF(); // 关闭电源指示灯
000356   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	963; "MC32P7351.c"	LED_CHARGING_OFF();
000357   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	964; "MC32P7351.c"	HEATING_OFF(); // 关闭加热
000358   d594     bclr    0x194, 0x2       	BCLR	_IOP1bits,2
                                           ;	.line	965; "MC32P7351.c"	FLAG_IS_HEATING = 0;
000359   d28f     bclr    0x8f, 0x1        	BCLR	_flag1,1
                                           ;	.line	966; "MC32P7351.c"	mode_flag = MODE_4; // 下一次切换模式时，会变成 MODE_1
00035a   3c03     movai   0x3              	MOVAI	0x03
00035b   5686     movra   0x86             	MOVRA	_mode_flag
                                           ;	.line	968; "MC32P7351.c"	PWM0EC = 0;
00035c   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	969; "MC32P7351.c"	PWM1EC = 0;
00035d   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	971; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 0;
00035e   d08f     bclr    0x8f, 0          	BCLR	_flag1,0
00035f   a364     goto    0x364            	GOTO	_00745_DS_
                                           _00743_DS_
                                           ;	.line	977; "MC32P7351.c"	shut_down_ms_cnt = 0;
000360   766f     clrr    0x6f             	CLRR	_shut_down_ms_cnt
000361   7670     clrr    0x70             	CLRR	(_shut_down_ms_cnt + 1)
000362   7671     clrr    0x71             	CLRR	(_shut_down_ms_cnt + 2)
000363   7672     clrr    0x72             	CLRR	(_shut_down_ms_cnt + 3)
                                           _00745_DS_
                                           ;	.line	979; "MC32P7351.c"	}
000364   000c     return                   	RETURN	
                                           ; exit point of _shutdown_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _turn_dir_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _turn_dir_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	920; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
000365   e08f     jbset   0x8f, 0          	JBSET	_flag1,0
000366   a390     goto    0x390            	GOTO	_00710_DS_
                                           ;;unsigned compare: left < lit(0x1D4C0=120000), size=4
                                           ;	.line	924; "MC32P7351.c"	if (turn_dir_ms_cnt >= (120000) ||
000367   3c00     movai   0                	MOVAI	0x00
000368   486e     rsubar  0x6e             	RSUBAR	(_turn_dir_ms_cnt + 3)
000369   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00036a   a375     goto    0x375            	GOTO	_00726_DS_
00036b   3c01     movai   0x1              	MOVAI	0x01
00036c   486d     rsubar  0x6d             	RSUBAR	(_turn_dir_ms_cnt + 2)
00036d   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00036e   a375     goto    0x375            	GOTO	_00726_DS_
00036f   3cd4     movai   0xd4             	MOVAI	0xd4
000370   486c     rsubar  0x6c             	RSUBAR	(_turn_dir_ms_cnt + 1)
000371   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000372   a375     goto    0x375            	GOTO	_00726_DS_
000373   3cc0     movai   0xc0             	MOVAI	0xc0
000374   486b     rsubar  0x6b             	RSUBAR	_turn_dir_ms_cnt
                                           _00726_DS_
000375   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000376   a379     goto    0x379            	GOTO	_00706_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	925; "MC32P7351.c"	flag_ctl_dir)
000377   e091     jbset   0x91, 0          	JBSET	_flag3,0
000378   a394     goto    0x394            	GOTO	_00712_DS_
                                           _00706_DS_
                                           ;	.line	927; "MC32P7351.c"	if (0 == FLAG_DIR)
000379   f68f     jbclr   0x8f, 0x3        	JBCLR	_flag1,3
00037a   a383     goto    0x383            	GOTO	_00704_DS_
                                           ;	.line	929; "MC32P7351.c"	PWM1EC = 0;
00037b   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	930; "MC32P7351.c"	delay_ms(1000);
00037c   3ce8     movai   0xe8             	MOVAI	0xe8
00037d   5606     movra   0x6              	MOVRA	STK00
00037e   3c03     movai   0x3              	MOVAI	0x03
00037f   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	931; "MC32P7351.c"	PWM0EC = 1;
000380   cd98     bset    0x198, 0x6       	BSET	_T0CRbits,6
                                           ;	.line	932; "MC32P7351.c"	FLAG_DIR = 1; //
000381   c68f     bset    0x8f, 0x3        	BSET	_flag1,3
000382   a38a     goto    0x38a            	GOTO	_00705_DS_
                                           _00704_DS_
                                           ;	.line	936; "MC32P7351.c"	PWM0EC = 0; //
000383   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	937; "MC32P7351.c"	delay_ms(1000);
000384   3ce8     movai   0xe8             	MOVAI	0xe8
000385   5606     movra   0x6              	MOVRA	STK00
000386   3c03     movai   0x3              	MOVAI	0x03
000387   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	938; "MC32P7351.c"	PWM1EC = 1;   //
000388   cd9c     bset    0x19c, 0x6       	BSET	_T1CRbits,6
                                           ;	.line	939; "MC32P7351.c"	FLAG_DIR = 0; //
000389   d68f     bclr    0x8f, 0x3        	BCLR	_flag1,3
                                           _00705_DS_
                                           ;	.line	942; "MC32P7351.c"	flag_ctl_dir = 0;
00038a   d091     bclr    0x91, 0          	BCLR	_flag3,0
                                           ;	.line	943; "MC32P7351.c"	turn_dir_ms_cnt = 0;
00038b   766b     clrr    0x6b             	CLRR	_turn_dir_ms_cnt
00038c   766c     clrr    0x6c             	CLRR	(_turn_dir_ms_cnt + 1)
00038d   766d     clrr    0x6d             	CLRR	(_turn_dir_ms_cnt + 2)
00038e   766e     clrr    0x6e             	CLRR	(_turn_dir_ms_cnt + 3)
00038f   a394     goto    0x394            	GOTO	_00712_DS_
                                           _00710_DS_
                                           ;	.line	948; "MC32P7351.c"	turn_dir_ms_cnt = 0; // 设备未运行时，清空计数值
000390   766b     clrr    0x6b             	CLRR	_turn_dir_ms_cnt
000391   766c     clrr    0x6c             	CLRR	(_turn_dir_ms_cnt + 1)
000392   766d     clrr    0x6d             	CLRR	(_turn_dir_ms_cnt + 2)
000393   766e     clrr    0x6e             	CLRR	(_turn_dir_ms_cnt + 3)
                                           _00712_DS_
                                           ;	.line	950; "MC32P7351.c"	}
000394   000c     return                   	RETURN	
                                           ; exit point of _turn_dir_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _key_event_handle
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _key_event_handle
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _key_event_handle
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _key_event_handle
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	654; "MC32P7351.c"	volatile u8 cnt = 0;             // 计数值，用于检测电池是否满电，也是用于检测是否插入/拔出充电器的计数值
000395   7628     clrr    0x28             	CLRR	_adc_scan_handle_cnt_65536_100
                                           ;	.line	655; "MC32P7351.c"	volatile u8 need_charge_cnt = 0; // 计数值，用于检测是否要快速充电
000396   7629     clrr    0x29             	CLRR	_adc_scan_handle_need_charge_cnt_65536_100
                                           ;	.line	657; "MC32P7351.c"	adc_bat_val = 0;
000397   7673     clrr    0x73             	CLRR	_adc_bat_val
000398   7674     clrr    0x74             	CLRR	(_adc_bat_val + 1)
000399   7675     clrr    0x75             	CLRR	(_adc_bat_val + 2)
00039a   7676     clrr    0x76             	CLRR	(_adc_bat_val + 3)
                                           ;	.line	658; "MC32P7351.c"	adc_charging_val = 0;
00039b   767d     clrr    0x7d             	CLRR	_adc_charging_val
00039c   767e     clrr    0x7e             	CLRR	(_adc_charging_val + 1)
                                           ;	.line	660; "MC32P7351.c"	adc_sel_pin(ADC_PIN_P02_AN1); // 切换到检测电池降压后的电压的检测引脚
00039d   3c02     movai   0x2              	MOVAI	0x02
00039e   8679     call    0x679            	CALL	_adc_sel_pin
                                           ;	.line	661; "MC32P7351.c"	for (i = 0; i < 10; i++)      //  // 每55ms进入一次，循环内每次间隔约4.8ms
00039f   7688     clrr    0x88             	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00535_DS_
0003a0   3c0a     movai   0xa              	MOVAI	0x0a
0003a1   4888     rsubar  0x88             	RSUBAR	_i
0003a2   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0003a3   a447     goto    0x447            	GOTO	_00485_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	663; "MC32P7351.c"	adc_val = adc_get_val();
0003a4   85dc     call    0x5dc            	CALL	_adc_get_val
0003a5   567c     movra   0x7c             	MOVRA	(_adc_val + 1)
0003a6   5806     movar   0x6              	MOVAR	STK00
0003a7   567b     movra   0x7b             	MOVRA	_adc_val
                                           ;	.line	665; "MC32P7351.c"	if (i == 0)
0003a8   3c00     movai   0                	MOVAI	0x00
0003a9   5c88     orar    0x88             	ORAR	_i
0003aa   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0003ab   a3b2     goto    0x3b2            	GOTO	_00418_DS_
                                           ;	.line	667; "MC32P7351.c"	adc_bat_val = adc_val;
0003ac   587b     movar   0x7b             	MOVAR	_adc_val
0003ad   5673     movra   0x73             	MOVRA	_adc_bat_val
0003ae   587c     movar   0x7c             	MOVAR	(_adc_val + 1)
0003af   5674     movra   0x74             	MOVRA	(_adc_bat_val + 1)
0003b0   7675     clrr    0x75             	CLRR	(_adc_bat_val + 2)
0003b1   7676     clrr    0x76             	CLRR	(_adc_bat_val + 3)
                                           _00418_DS_
                                           ;	.line	670; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING)
0003b2   e48f     jbset   0x8f, 0x2        	JBSET	_flag1,2
0003b3   a3fc     goto    0x3fc            	GOTO	_00483_DS_
                                           ;;unsigned compare: left < lit(0xF52=3922), size=2
                                           ;	.line	673; "MC32P7351.c"	if (adc_val >= ADCDETECT_BAT_FULL + ADCDETECT_BAT_NULL_EX)
0003b4   3c0f     movai   0xf              	MOVAI	0x0f
0003b5   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
0003b6   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0003b7   a3ba     goto    0x3ba            	GOTO	_00683_DS_
0003b8   3c52     movai   0x52             	MOVAI	0x52
0003b9   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00683_DS_
0003ba   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003bb   a3be     goto    0x3be            	GOTO	_00420_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	676; "MC32P7351.c"	T2DATA = 0;
0003bc   77a3     clrr    0x1a3            	CLRR	_T2DATA
                                           ;	.line	677; "MC32P7351.c"	over_charging_cnt++;
0003bd   668b     incr    0x8b             	INCR	_over_charging_cnt
                                           ;;unsigned compare: left < lit(0xE3A=3642), size=2
                                           _00420_DS_
                                           ;	.line	680; "MC32P7351.c"	if (adc_val >= ADCDETECT_BAT_FULL) // 检测电池是否满电
0003be   3c0e     movai   0xe              	MOVAI	0x0e
0003bf   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
0003c0   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0003c1   a3c4     goto    0x3c4            	GOTO	_00684_DS_
0003c2   3c3a     movai   0x3a             	MOVAI	0x3a
0003c3   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00684_DS_
0003c4   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003c5   a3c8     goto    0x3c8            	GOTO	_00424_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	682; "MC32P7351.c"	cnt++;
0003c6   6628     incr    0x28             	INCR	_adc_scan_handle_cnt_65536_100
0003c7   a3d1     goto    0x3d1            	GOTO	_00425_DS_
                                           ;;unsigned compare: left < lit(0xD90=3472), size=2
                                           _00424_DS_
                                           ;	.line	684; "MC32P7351.c"	else if (adc_val < ADCDETECT_BAT_WILL_FULL) // 检测是否要快速充电
0003c8   3c0d     movai   0xd              	MOVAI	0x0d
0003c9   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
0003ca   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0003cb   a3ce     goto    0x3ce            	GOTO	_00685_DS_
0003cc   3c90     movai   0x90             	MOVAI	0x90
0003cd   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00685_DS_
0003ce   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0003cf   a3d1     goto    0x3d1            	GOTO	_00425_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	686; "MC32P7351.c"	need_charge_cnt++;
0003d0   6629     incr    0x29             	INCR	_adc_scan_handle_need_charge_cnt_65536_100
                                           _00425_DS_
                                           ;	.line	689; "MC32P7351.c"	if (flag_bat_is_empty)
0003d1   3c00     movai   0                	MOVAI	0x00
0003d2   5c8a     orar    0x8a             	ORAR	_flag_bat_is_empty
0003d3   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0003d4   a3db     goto    0x3db            	GOTO	_00448_DS_
                                           ;	.line	693; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭充电指示灯
0003d5   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	694; "MC32P7351.c"	PWM2EC = 0;         // 关闭控制升压电路的pwm（建议是，插上充钱器时，不关闭控制升压电路的PWM，但是在测试时，充电一侧会严重发热）
0003d6   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	695; "MC32P7351.c"	T2DATA = 0;
0003d7   77a3     clrr    0x1a3            	CLRR	_T2DATA
                                           ;	.line	696; "MC32P7351.c"	FLAG_BAT_IS_NEED_CHARGE = 0;
0003d8   d88f     bclr    0x8f, 0x4        	BCLR	_flag1,4
                                           ;	.line	697; "MC32P7351.c"	FLAG_DURING_CHARGING_BAT_IS_NULL = 1; // 标志位置一，在主循环让绿灯快闪
0003d9   ce8f     bset    0x8f, 0x7        	BSET	_flag1,7
                                           ;	.line	699; "MC32P7351.c"	break;
0003da   a447     goto    0x447            	GOTO	_00485_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00448_DS_
                                           ;	.line	701; "MC32P7351.c"	else if (cnt >= 8 || over_charging_cnt >= 8)
0003db   3c08     movai   0x8              	MOVAI	0x08
0003dc   4828     rsubar  0x28             	RSUBAR	_adc_scan_handle_cnt_65536_100
0003dd   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0003de   a3e3     goto    0x3e3            	GOTO	_00443_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x8=8), size=1
0003df   3c08     movai   0x8              	MOVAI	0x08
0003e0   488b     rsubar  0x8b             	RSUBAR	_over_charging_cnt
0003e1   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003e2   a3f4     goto    0x3f4            	GOTO	_00444_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00443_DS_
                                           ;	.line	704; "MC32P7351.c"	full_charge_cnt++;
0003e3   668c     incr    0x8c             	INCR	_full_charge_cnt
                                           ;;unsigned compare: left < lit(0x64=100), size=1
                                           ;	.line	705; "MC32P7351.c"	if (full_charge_cnt >= 100 || over_charging_cnt >= 8) // 5.5s或者是连续触发了若干次过充保护
0003e4   3c64     movai   0x64             	MOVAI	0x64
0003e5   488c     rsubar  0x8c             	RSUBAR	_full_charge_cnt
0003e6   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0003e7   a3ec     goto    0x3ec            	GOTO	_00435_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x8=8), size=1
0003e8   3c08     movai   0x8              	MOVAI	0x08
0003e9   488b     rsubar  0x8b             	RSUBAR	_over_charging_cnt
0003ea   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003eb   a444     goto    0x444            	GOTO	_00484_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00435_DS_
                                           ;	.line	707; "MC32P7351.c"	full_charge_cnt = 0; //
0003ec   768c     clrr    0x8c             	CLRR	_full_charge_cnt
                                           ;	.line	709; "MC32P7351.c"	PWM2EC = 0; // 关闭控制升压电路的pwm
0003ed   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	710; "MC32P7351.c"	T2DATA = 0;
0003ee   77a3     clrr    0x1a3            	CLRR	_T2DATA
                                           ;	.line	712; "MC32P7351.c"	FLAG_BAT_IS_NEED_CHARGE = 0;
0003ef   d88f     bclr    0x8f, 0x4        	BCLR	_flag1,4
                                           ;	.line	713; "MC32P7351.c"	FLAG_BAT_IS_FULL = 1;
0003f0   ca8f     bset    0x8f, 0x5        	BSET	_flag1,5
                                           ;	.line	715; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭充电指示灯
0003f1   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	718; "MC32P7351.c"	LED_WORKING_ON(); // 打开电源指示灯，表示充满电
0003f2   d994     bclr    0x194, 0x4       	BCLR	_IOP1bits,4
                                           ;	.line	719; "MC32P7351.c"	break;
0003f3   a447     goto    0x447            	GOTO	_00485_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00444_DS_
                                           ;	.line	722; "MC32P7351.c"	else if (need_charge_cnt >= 8)
0003f4   3c08     movai   0x8              	MOVAI	0x08
0003f5   4829     rsubar  0x29             	RSUBAR	_adc_scan_handle_need_charge_cnt_65536_100
0003f6   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003f7   a444     goto    0x444            	GOTO	_00484_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	726; "MC32P7351.c"	LED_FULL_CHARGE_OFF(); // 关闭充满电的指示灯
0003f8   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	727; "MC32P7351.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
0003f9   c88f     bset    0x8f, 0x4        	BSET	_flag1,4
                                           ;	.line	728; "MC32P7351.c"	FLAG_BAT_IS_FULL = 0;
0003fa   da8f     bclr    0x8f, 0x5        	BCLR	_flag1,5
                                           ;	.line	729; "MC32P7351.c"	break;
0003fb   a447     goto    0x447            	GOTO	_00485_DS_
                                           _00483_DS_
                                           ;	.line	735; "MC32P7351.c"	if (flag_bat_is_empty == 0 && adc_val <= ADCDETECT_BAT_FULL - ((ADCDETECT_BAT_FULL - ADCDETECT_BAT_WILL_FULL) / 2))
0003fc   3c00     movai   0                	MOVAI	0x00
0003fd   5c8a     orar    0x8a             	ORAR	_flag_bat_is_empty
0003fe   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0003ff   a409     goto    0x409            	GOTO	_00451_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xDE6=3558), size=2
000400   3c0d     movai   0xd              	MOVAI	0x0d
000401   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
000402   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000403   a406     goto    0x406            	GOTO	_00691_DS_
000404   3ce6     movai   0xe6             	MOVAI	0xe6
000405   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00691_DS_
000406   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000407   a409     goto    0x409            	GOTO	_00451_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	737; "MC32P7351.c"	cnt++;
000408   6628     incr    0x28             	INCR	_adc_scan_handle_cnt_65536_100
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00451_DS_
                                           ;	.line	740; "MC32P7351.c"	if (cnt >= 8)
000409   3c08     movai   0x8              	MOVAI	0x08
00040a   4828     rsubar  0x28             	RSUBAR	_adc_scan_handle_cnt_65536_100
00040b   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00040c   a410     goto    0x410            	GOTO	_00454_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	743; "MC32P7351.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
00040d   c88f     bset    0x8f, 0x4        	BSET	_flag1,4
                                           ;	.line	744; "MC32P7351.c"	FLAG_BAT_IS_FULL = 0;
00040e   da8f     bclr    0x8f, 0x5        	BCLR	_flag1,5
                                           ;	.line	745; "MC32P7351.c"	break;
00040f   a447     goto    0x447            	GOTO	_00485_DS_
                                           _00454_DS_
                                           ;	.line	749; "MC32P7351.c"	flag_bat_is_empty == 0 &&  /* 电池不为空 */
000410   3c00     movai   0                	MOVAI	0x00
000411   5c8a     orar    0x8a             	ORAR	_flag_bat_is_empty
000412   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000413   a420     goto    0x420            	GOTO	_00461_DS_
                                           ;	.line	750; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN &&     /* 设备正在运行 */
000414   e08f     jbset   0x8f, 0          	JBSET	_flag1,0
000415   a420     goto    0x420            	GOTO	_00461_DS_
                                           ;;unsigned compare: left < lit(0xA93=2707), size=2
                                           ;	.line	752; "MC32P7351.c"	)
000416   3c0a     movai   0xa              	MOVAI	0x0a
000417   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
000418   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000419   a41c     goto    0x41c            	GOTO	_00693_DS_
00041a   3c93     movai   0x93             	MOVAI	0x93
00041b   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00693_DS_
00041c   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00041d   a420     goto    0x420            	GOTO	_00461_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	754; "MC32P7351.c"	flag_tim_scan_maybe_shut_down = 1;
00041e   c691     bset    0x91, 0x3        	BSET	_flag3,3
00041f   a433     goto    0x433            	GOTO	_00462_DS_
                                           _00461_DS_
                                           ;	.line	756; "MC32P7351.c"	else if (flag_bat_is_empty == 0 &&
000420   3c00     movai   0                	MOVAI	0x00
000421   5c8a     orar    0x8a             	ORAR	_flag_bat_is_empty
000422   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000423   a431     goto    0x431            	GOTO	_00456_DS_
                                           ;	.line	757; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN &&
000424   e08f     jbset   0x8f, 0          	JBSET	_flag1,0
000425   a431     goto    0x431            	GOTO	_00456_DS_
                                           ;;unsigned compare: left < lit(0xB15=2837), size=2
                                           ;	.line	758; "MC32P7351.c"	adc_val < LOW_BATTERY_AD_VAL)
000426   3c0b     movai   0xb              	MOVAI	0x0b
000427   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
000428   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000429   a42c     goto    0x42c            	GOTO	_00694_DS_
00042a   3c15     movai   0x15             	MOVAI	0x15
00042b   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00694_DS_
00042c   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00042d   a431     goto    0x431            	GOTO	_00456_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	761; "MC32P7351.c"	flag_maybe_low_battery = 1;
00042e   c491     bset    0x91, 0x2        	BSET	_flag3,2
                                           ;	.line	762; "MC32P7351.c"	flag_tim_scan_maybe_shut_down = 0;
00042f   d691     bclr    0x91, 0x3        	BCLR	_flag3,3
000430   a433     goto    0x433            	GOTO	_00462_DS_
                                           _00456_DS_
                                           ;	.line	766; "MC32P7351.c"	flag_maybe_low_battery = 0;
000431   d491     bclr    0x91, 0x2        	BCLR	_flag3,2
                                           ;	.line	767; "MC32P7351.c"	flag_tim_scan_maybe_shut_down = 0;
000432   d691     bclr    0x91, 0x3        	BCLR	_flag3,3
                                           _00462_DS_
                                           ;	.line	771; "MC32P7351.c"	if (flag_is_needed_shut_down && FLAG_IS_DEVICE_OPEN)
000433   e891     jbset   0x91, 0x4        	JBSET	_flag3,4
000434   a444     goto    0x444            	GOTO	_00484_DS_
000435   e08f     jbset   0x8f, 0          	JBSET	_flag1,0
000436   a444     goto    0x444            	GOTO	_00484_DS_
                                           ;	.line	773; "MC32P7351.c"	flag_is_needed_shut_down = 0;
000437   d891     bclr    0x91, 0x4        	BCLR	_flag3,4
                                           ;	.line	775; "MC32P7351.c"	LED_WORKING_OFF(); // 关闭电源指示灯
000438   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	776; "MC32P7351.c"	LED_CHARGING_OFF();
000439   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	777; "MC32P7351.c"	HEATING_OFF(); // 关闭加热
00043a   d594     bclr    0x194, 0x2       	BCLR	_IOP1bits,2
                                           ;	.line	778; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 0;
00043b   d08f     bclr    0x8f, 0          	BCLR	_flag1,0
                                           ;	.line	779; "MC32P7351.c"	FLAG_IS_HEATING = 0;
00043c   d28f     bclr    0x8f, 0x1        	BCLR	_flag1,1
                                           ;	.line	781; "MC32P7351.c"	if (flag_is_low_battery)
00043d   e490     jbset   0x90, 0x2        	JBSET	_flag2,2
00043e   a441     goto    0x441            	GOTO	_00478_DS_
                                           ;	.line	784; "MC32P7351.c"	flag_is_low_battery = 0;
00043f   d490     bclr    0x90, 0x2        	BCLR	_flag2,2
                                           ;	.line	785; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭用于报警的LED
000440   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           _00478_DS_
                                           ;	.line	788; "MC32P7351.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
000441   7686     clrr    0x86             	CLRR	_mode_flag
                                           ;	.line	791; "MC32P7351.c"	PWM0EC = 0;
000442   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	792; "MC32P7351.c"	PWM1EC = 0;
000443   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           _00484_DS_
                                           ;	.line	797; "MC32P7351.c"	key_event_handle();
000444   84b0     call    0x4b0            	CALL	_key_event_handle
                                           ;	.line	661; "MC32P7351.c"	for (i = 0; i < 10; i++)      //  // 每55ms进入一次，循环内每次间隔约4.8ms
000445   6688     incr    0x88             	INCR	_i
000446   a3a0     goto    0x3a0            	GOTO	_00535_DS_
                                           _00485_DS_
                                           ;	.line	800; "MC32P7351.c"	cnt = 0;
000447   7628     clrr    0x28             	CLRR	_adc_scan_handle_cnt_65536_100
                                           ;	.line	801; "MC32P7351.c"	adc_sel_pin(ADC_PIN_P00_AN0); // 切换到检测充电的电压检测引脚(检测到的充电电压 == USB-C口电压 / 2)
000448   3c01     movai   0x1              	MOVAI	0x01
000449   8679     call    0x679            	CALL	_adc_sel_pin
                                           ;	.line	802; "MC32P7351.c"	for (i = 0; i < 10; i++)
00044a   7688     clrr    0x88             	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00538_DS_
00044b   3c0a     movai   0xa              	MOVAI	0x0a
00044c   4888     rsubar  0x88             	RSUBAR	_i
00044d   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00044e   a4af     goto    0x4af            	GOTO	_00540_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	804; "MC32P7351.c"	adc_val = adc_get_val();
00044f   85dc     call    0x5dc            	CALL	_adc_get_val
000450   567c     movra   0x7c             	MOVRA	(_adc_val + 1)
000451   5806     movar   0x6              	MOVAR	STK00
000452   567b     movra   0x7b             	MOVRA	_adc_val
                                           ;	.line	805; "MC32P7351.c"	if (flag_bat_is_empty) // 如果电池为空
000453   3c00     movai   0                	MOVAI	0x00
000454   5c8a     orar    0x8a             	ORAR	_flag_bat_is_empty
000455   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000456   a45b     goto    0x45b            	GOTO	_00487_DS_
                                           ;	.line	807; "MC32P7351.c"	adc_val = 4095; // 防止进入下面的if (adc_val < ADCDETECT_CHARING_THRESHOLD)
000457   3cff     movai   0xff             	MOVAI	0xff
000458   567b     movra   0x7b             	MOVRA	_adc_val
000459   3c0f     movai   0xf              	MOVAI	0x0f
00045a   567c     movra   0x7c             	MOVRA	(_adc_val + 1)
                                           _00487_DS_
                                           ;	.line	810; "MC32P7351.c"	if (adc_charging_val != 0)
00045b   587d     movar   0x7d             	MOVAR	_adc_charging_val
00045c   5c7e     orar    0x7e             	ORAR	(_adc_charging_val + 1)
00045d   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00045e   a469     goto    0x469            	GOTO	_00489_DS_
                                           ;	.line	812; "MC32P7351.c"	adc_charging_val += adc_val;
00045f   587b     movar   0x7b             	MOVAR	_adc_val
000460   7e7d     addra   0x7d             	ADDRA	_adc_charging_val
000461   587c     movar   0x7c             	MOVAR	(_adc_val + 1)
000462   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000463   607c     jzar    0x7c             	JZAR	(_adc_val + 1)
000464   7e7e     addra   0x7e             	ADDRA	(_adc_charging_val + 1)
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=1, offr=0
                                           ;	.line	813; "MC32P7351.c"	adc_charging_val /= 2;
000465   d187     bclr    0x187, 0         	BCLR	PFLAG,0
000466   4e7e     rrr     0x7e             	RRR	(_adc_charging_val + 1)
000467   4e7d     rrr     0x7d             	RRR	_adc_charging_val
000468   a46f     goto    0x46f            	GOTO	_00490_DS_
                                           _00489_DS_
                                           ;	.line	817; "MC32P7351.c"	adc_charging_val += adc_val;
000469   587b     movar   0x7b             	MOVAR	_adc_val
00046a   7e7d     addra   0x7d             	ADDRA	_adc_charging_val
00046b   587c     movar   0x7c             	MOVAR	(_adc_val + 1)
00046c   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00046d   607c     jzar    0x7c             	JZAR	(_adc_val + 1)
00046e   7e7e     addra   0x7e             	ADDRA	(_adc_charging_val + 1)
                                           _00490_DS_
                                           ;	.line	820; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING)
00046f   e48f     jbset   0x8f, 0x2        	JBSET	_flag1,2
000470   a48d     goto    0x48d            	GOTO	_00531_DS_
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           ;	.line	823; "MC32P7351.c"	if (adc_val < ADCDETECT_CHARING_THRESHOLD)
000471   3c08     movai   0x8              	MOVAI	0x08
000472   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
000473   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000474   a477     goto    0x477            	GOTO	_00696_DS_
000475   3c00     movai   0                	MOVAI	0x00
000476   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00696_DS_
000477   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000478   a47a     goto    0x47a            	GOTO	_00492_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	825; "MC32P7351.c"	cnt++;
000479   6628     incr    0x28             	INCR	_adc_scan_handle_cnt_65536_100
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00492_DS_
                                           ;	.line	828; "MC32P7351.c"	if (cnt >= 8)
00047a   3c08     movai   0x8              	MOVAI	0x08
00047b   4828     rsubar  0x28             	RSUBAR	_adc_scan_handle_cnt_65536_100
00047c   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00047d   a486     goto    0x486            	GOTO	_00503_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	831; "MC32P7351.c"	FLAG_IS_IN_CHARGING = 0;
00047e   d48f     bclr    0x8f, 0x2        	BCLR	_flag1,2
                                           ;	.line	832; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭充电指示灯
00047f   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	833; "MC32P7351.c"	PWM2EC = 0;         // 关闭控制升压电路的pwm
000480   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	834; "MC32P7351.c"	T2DATA = 0;
000481   77a3     clrr    0x1a3            	CLRR	_T2DATA
                                           ;	.line	835; "MC32P7351.c"	LED_FULL_CHARGE_OFF(); // 关闭电池充满电的指示灯
000482   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	836; "MC32P7351.c"	LED_WORKING_OFF();     // 关闭电池充满电的指示灯（白灯）
000483   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	838; "MC32P7351.c"	FLAG_DURING_CHARGING_BAT_IS_NULL = 0; // 清空该标志位，因为已经不在充电的情况下
000484   de8f     bclr    0x8f, 0x7        	BCLR	_flag1,7
                                           ;	.line	839; "MC32P7351.c"	break;
000485   a4af     goto    0x4af            	GOTO	_00540_DS_
                                           _00503_DS_
                                           ;	.line	842; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
000486   f08f     jbclr   0x8f, 0          	JBCLR	_flag1,0
000487   a4ac     goto    0x4ac            	GOTO	_00532_DS_
                                           ;	.line	847; "MC32P7351.c"	if (FLAG_BAT_IS_FULL)
000488   fa8f     jbclr   0x8f, 0x5        	JBCLR	_flag1,5
000489   a4ac     goto    0x4ac            	GOTO	_00532_DS_
                                           ;	.line	853; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
00048a   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	854; "MC32P7351.c"	LED_WORKING_OFF();
00048b   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
00048c   a4ac     goto    0x4ac            	GOTO	_00532_DS_
                                           _00531_DS_
                                           ;	.line	862; "MC32P7351.c"	if (flag_bat_is_empty == 0 && adc_val >= ADCDETECT_CHARING_THRESHOLD)
00048d   3c00     movai   0                	MOVAI	0x00
00048e   5c8a     orar    0x8a             	ORAR	_flag_bat_is_empty
00048f   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000490   a49a     goto    0x49a            	GOTO	_00517_DS_
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
000491   3c08     movai   0x8              	MOVAI	0x08
000492   487c     rsubar  0x7c             	RSUBAR	(_adc_val + 1)
000493   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000494   a497     goto    0x497            	GOTO	_00698_DS_
000495   3c00     movai   0                	MOVAI	0x00
000496   487b     rsubar  0x7b             	RSUBAR	_adc_val
                                           _00698_DS_
000497   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000498   a49a     goto    0x49a            	GOTO	_00517_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	864; "MC32P7351.c"	cnt++;
000499   6628     incr    0x28             	INCR	_adc_scan_handle_cnt_65536_100
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00517_DS_
                                           ;	.line	867; "MC32P7351.c"	if (cnt >= 8)
00049a   3c08     movai   0x8              	MOVAI	0x08
00049b   4828     rsubar  0x28             	RSUBAR	_adc_scan_handle_cnt_65536_100
00049c   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00049d   a4ac     goto    0x4ac            	GOTO	_00532_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	871; "MC32P7351.c"	full_charge_cnt = 0;
00049e   768c     clrr    0x8c             	CLRR	_full_charge_cnt
                                           ;	.line	872; "MC32P7351.c"	over_charging_cnt = 0;
00049f   768b     clrr    0x8b             	CLRR	_over_charging_cnt
                                           ;	.line	874; "MC32P7351.c"	FLAG_IS_IN_CHARGING = 1;
0004a0   c48f     bset    0x8f, 0x2        	BSET	_flag1,2
                                           ;	.line	877; "MC32P7351.c"	PWM2EC = 1; // 开启控制升压电路的pwm
0004a1   cda0     bset    0x1a0, 0x6       	BSET	_T2CRbits,6
                                           ;	.line	878; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
0004a2   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	879; "MC32P7351.c"	LED_WORKING_OFF(); // 关闭电源指示灯
0004a3   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	880; "MC32P7351.c"	HEATING_OFF();     // 关闭加热
0004a4   d594     bclr    0x194, 0x2       	BCLR	_IOP1bits,2
                                           ;	.line	881; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 0;
0004a5   d08f     bclr    0x8f, 0          	BCLR	_flag1,0
                                           ;	.line	882; "MC32P7351.c"	FLAG_IS_HEATING = 0;
0004a6   d28f     bclr    0x8f, 0x1        	BCLR	_flag1,1
                                           ;	.line	883; "MC32P7351.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
0004a7   7686     clrr    0x86             	CLRR	_mode_flag
                                           ;	.line	885; "MC32P7351.c"	PWM0EC = 0;
0004a8   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	886; "MC32P7351.c"	PWM1EC = 0;
0004a9   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	888; "MC32P7351.c"	flag_is_low_battery = 0; // 清除该标志位
0004aa   d490     bclr    0x90, 0x2        	BCLR	_flag2,2
                                           ;	.line	889; "MC32P7351.c"	break;
0004ab   a4af     goto    0x4af            	GOTO	_00540_DS_
                                           _00532_DS_
                                           ;	.line	914; "MC32P7351.c"	key_event_handle();
0004ac   84b0     call    0x4b0            	CALL	_key_event_handle
                                           ;	.line	802; "MC32P7351.c"	for (i = 0; i < 10; i++)
0004ad   6688     incr    0x88             	INCR	_i
0004ae   a44b     goto    0x44b            	GOTO	_00538_DS_
                                           _00540_DS_
                                           ;	.line	916; "MC32P7351.c"	}
0004af   000c     return                   	RETURN	
                                           ; exit point of _adc_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_event_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _key_event_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	542; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
0004b0   e08f     jbset   0x8f, 0          	JBSET	_flag1,0
0004b1   a509     goto    0x509            	GOTO	_00411_DS_
                                           ;	.line	545; "MC32P7351.c"	if (KEY_EVENT_MODE_HOLD == key_event)
0004b2   5885     movar   0x85             	MOVAR	_key_event
0004b3   3903     xorai   0x3              	XORAI	0x03
0004b4   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0004b5   a4c3     goto    0x4c3            	GOTO	_00396_DS_
                                           ;	.line	548; "MC32P7351.c"	LED_WORKING_OFF(); // 关闭电源指示灯
0004b6   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	549; "MC32P7351.c"	LED_CHARGING_OFF();
0004b7   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	550; "MC32P7351.c"	HEATING_OFF(); // 关闭加热
0004b8   d594     bclr    0x194, 0x2       	BCLR	_IOP1bits,2
                                           ;	.line	551; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 0;
0004b9   d08f     bclr    0x8f, 0          	BCLR	_flag1,0
                                           ;	.line	552; "MC32P7351.c"	FLAG_IS_HEATING = 0;
0004ba   d28f     bclr    0x8f, 0x1        	BCLR	_flag1,1
                                           ;	.line	554; "MC32P7351.c"	if (flag_is_low_battery)
0004bb   e490     jbset   0x90, 0x2        	JBSET	_flag2,2
0004bc   a4bf     goto    0x4bf            	GOTO	_00357_DS_
                                           ;	.line	557; "MC32P7351.c"	flag_is_low_battery = 0;
0004bd   d490     bclr    0x90, 0x2        	BCLR	_flag2,2
                                           ;	.line	558; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭用于报警的LED
0004be   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           _00357_DS_
                                           ;	.line	561; "MC32P7351.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
0004bf   7686     clrr    0x86             	CLRR	_mode_flag
                                           ;	.line	564; "MC32P7351.c"	PWM0EC = 0;
0004c0   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	565; "MC32P7351.c"	PWM1EC = 0;
0004c1   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
0004c2   a519     goto    0x519            	GOTO	_00412_DS_
                                           _00396_DS_
                                           ;	.line	567; "MC32P7351.c"	else if (KEY_EVENT_MODE_PRESS == key_event)
0004c3   5885     movar   0x85             	MOVAR	_key_event
0004c4   3902     xorai   0x2              	XORAI	0x02
0004c5   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0004c6   a4f9     goto    0x4f9            	GOTO	_00393_DS_
                                           ;	.line	569; "MC32P7351.c"	if (MODE_1 == mode_flag)
0004c7   3c00     movai   0                	MOVAI	0x00
0004c8   5c86     orar    0x86             	ORAR	_mode_flag
0004c9   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0004ca   a4d3     goto    0x4d3            	GOTO	_00367_DS_
                                           ;	.line	572; "MC32P7351.c"	T0DATA = 160;
0004cb   3ca0     movai   0xa0             	MOVAI	0xa0
0004cc   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	573; "MC32P7351.c"	T1DATA = 160;
0004cd   3ca0     movai   0xa0             	MOVAI	0xa0
0004ce   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	575; "MC32P7351.c"	mode_flag = MODE_2;
0004cf   3c01     movai   0x1              	MOVAI	0x01
0004d0   5686     movra   0x86             	MOVRA	_mode_flag
                                           ;	.line	576; "MC32P7351.c"	flag_ctl_dir = 1;
0004d1   c091     bset    0x91, 0          	BSET	_flag3,0
0004d2   a4f4     goto    0x4f4            	GOTO	_00368_DS_
                                           _00367_DS_
                                           ;	.line	578; "MC32P7351.c"	else if (MODE_2 == mode_flag)
0004d3   5886     movar   0x86             	MOVAR	_mode_flag
0004d4   3901     xorai   0x1              	XORAI	0x01
0004d5   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0004d6   a4df     goto    0x4df            	GOTO	_00364_DS_
                                           ;	.line	581; "MC32P7351.c"	T0DATA = 255;
0004d7   3cff     movai   0xff             	MOVAI	0xff
0004d8   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	582; "MC32P7351.c"	T1DATA = 255; // 100%占空比（确保大于TxLOAD的值就可以）
0004d9   3cff     movai   0xff             	MOVAI	0xff
0004da   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	584; "MC32P7351.c"	mode_flag = MODE_3;
0004db   3c02     movai   0x2              	MOVAI	0x02
0004dc   5686     movra   0x86             	MOVRA	_mode_flag
                                           ;	.line	585; "MC32P7351.c"	flag_ctl_dir = 1;
0004dd   c091     bset    0x91, 0          	BSET	_flag3,0
0004de   a4f4     goto    0x4f4            	GOTO	_00368_DS_
                                           _00364_DS_
                                           ;	.line	587; "MC32P7351.c"	else if (MODE_3 == mode_flag)
0004df   5886     movar   0x86             	MOVAR	_mode_flag
0004e0   3902     xorai   0x2              	XORAI	0x02
0004e1   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0004e2   a4ea     goto    0x4ea            	GOTO	_00361_DS_
                                           ;	.line	590; "MC32P7351.c"	T0DATA = 0;
0004e3   779b     clrr    0x19b            	CLRR	_T0DATA
                                           ;	.line	591; "MC32P7351.c"	T1DATA = 0;
0004e4   779f     clrr    0x19f            	CLRR	_T1DATA
                                           ;	.line	592; "MC32P7351.c"	PWM0EC = 0;
0004e5   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	593; "MC32P7351.c"	PWM1EC = 0;
0004e6   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	594; "MC32P7351.c"	mode_flag = MODE_4;
0004e7   3c03     movai   0x3              	MOVAI	0x03
0004e8   5686     movra   0x86             	MOVRA	_mode_flag
0004e9   a4f4     goto    0x4f4            	GOTO	_00368_DS_
                                           _00361_DS_
                                           ;	.line	596; "MC32P7351.c"	else if (MODE_4 == mode_flag)
0004ea   5886     movar   0x86             	MOVAR	_mode_flag
0004eb   3903     xorai   0x3              	XORAI	0x03
0004ec   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0004ed   a4f4     goto    0x4f4            	GOTO	_00368_DS_
                                           ;	.line	600; "MC32P7351.c"	T0DATA = 150;
0004ee   3c96     movai   0x96             	MOVAI	0x96
0004ef   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	601; "MC32P7351.c"	T1DATA = 150;
0004f0   3c96     movai   0x96             	MOVAI	0x96
0004f1   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	602; "MC32P7351.c"	mode_flag = MODE_1;
0004f2   7686     clrr    0x86             	CLRR	_mode_flag
                                           ;	.line	603; "MC32P7351.c"	flag_ctl_dir = 1;
0004f3   c091     bset    0x91, 0          	BSET	_flag3,0
                                           _00368_DS_
                                           ;	.line	606; "MC32P7351.c"	turn_dir_ms_cnt = 0; // 重置切换方向的计数
0004f4   766b     clrr    0x6b             	CLRR	_turn_dir_ms_cnt
0004f5   766c     clrr    0x6c             	CLRR	(_turn_dir_ms_cnt + 1)
0004f6   766d     clrr    0x6d             	CLRR	(_turn_dir_ms_cnt + 2)
0004f7   766e     clrr    0x6e             	CLRR	(_turn_dir_ms_cnt + 3)
0004f8   a519     goto    0x519            	GOTO	_00412_DS_
                                           _00393_DS_
                                           ;	.line	608; "MC32P7351.c"	else if (KEY_EVENT_HEAT_PRESS == key_event)
0004f9   5885     movar   0x85             	MOVAR	_key_event
0004fa   3901     xorai   0x1              	XORAI	0x01
0004fb   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0004fc   a519     goto    0x519            	GOTO	_00412_DS_
                                           ;	.line	610; "MC32P7351.c"	if (0 == FLAG_IS_HEATING)
0004fd   f28f     jbclr   0x8f, 0x1        	JBCLR	_flag1,1
0004fe   a504     goto    0x504            	GOTO	_00378_DS_
                                           ;	.line	612; "MC32P7351.c"	HEATING_ON(); // 打开加热
0004ff   c594     bset    0x194, 0x2       	BSET	_IOP1bits,2
                                           ;	.line	613; "MC32P7351.c"	LED_WORKING_OFF();
000500   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	614; "MC32P7351.c"	LED_CHARGING_ON();
000501   d990     bclr    0x190, 0x4       	BCLR	_IOP0bits,4
                                           ;	.line	615; "MC32P7351.c"	FLAG_IS_HEATING = 1;
000502   c28f     bset    0x8f, 0x1        	BSET	_flag1,1
000503   a519     goto    0x519            	GOTO	_00412_DS_
                                           _00378_DS_
                                           ;	.line	619; "MC32P7351.c"	HEATING_OFF(); // 关闭加热
000504   d594     bclr    0x194, 0x2       	BCLR	_IOP1bits,2
                                           ;	.line	620; "MC32P7351.c"	LED_CHARGING_OFF();
000505   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	621; "MC32P7351.c"	LED_WORKING_ON();
000506   d994     bclr    0x194, 0x4       	BCLR	_IOP1bits,4
                                           ;	.line	622; "MC32P7351.c"	FLAG_IS_HEATING = 0;
000507   d28f     bclr    0x8f, 0x1        	BCLR	_flag1,1
000508   a519     goto    0x519            	GOTO	_00412_DS_
                                           _00411_DS_
                                           ;	.line	629; "MC32P7351.c"	if (KEY_EVENT_MODE_HOLD == key_event && 0 == FLAG_IS_IN_CHARGING)
000509   5885     movar   0x85             	MOVAR	_key_event
00050a   3903     xorai   0x3              	XORAI	0x03
00050b   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00050c   a519     goto    0x519            	GOTO	_00412_DS_
00050d   f48f     jbclr   0x8f, 0x2        	JBCLR	_flag1,2
00050e   a519     goto    0x519            	GOTO	_00412_DS_
                                           ;	.line	631; "MC32P7351.c"	LED_FULL_CHARGE_OFF(); // 关闭满电指示灯
00050f   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	632; "MC32P7351.c"	LED_CHARGING_OFF();    // 关闭充电指示灯
000510   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	633; "MC32P7351.c"	LED_WORKING_ON();      // 打开电源指示灯
000511   d994     bclr    0x194, 0x4       	BCLR	_IOP1bits,4
                                           ;	.line	634; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 1;
000512   c08f     bset    0x8f, 0          	BSET	_flag1,0
                                           ;	.line	637; "MC32P7351.c"	T0DATA = 150;
000513   3c96     movai   0x96             	MOVAI	0x96
000514   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	638; "MC32P7351.c"	T1DATA = 150;
000515   3c96     movai   0x96             	MOVAI	0x96
000516   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	639; "MC32P7351.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
000517   7686     clrr    0x86             	CLRR	_mode_flag
                                           ;	.line	644; "MC32P7351.c"	PWM1EC = 1;
000518   cd9c     bset    0x19c, 0x6       	BSET	_T1CRbits,6
                                           _00412_DS_
                                           ;	.line	649; "MC32P7351.c"	key_event = KEY_EVENT_NONE;
000519   7685     clrr    0x85             	CLRR	_key_event
                                           ;	.line	650; "MC32P7351.c"	}
00051a   000c     return                   	RETURN	
                                           ; exit point of _key_event_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_scan	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _key_scan	;Function start
                                           ; 2 exit points
                                           ;	.line	425; "MC32P7351.c"	volatile u8 cur_key_id = KEY_ID_NONE;
00051b   7622     clrr    0x22             	CLRR	_key_scan_cur_key_id_65536_35
                                           ;	.line	429; "MC32P7351.c"	if (0 == KEY_MODE_PIN)
00051c   f390     jbclr   0x190, 0x1       	JBCLR	_IOP0bits,1
00051d   a521     goto    0x521            	GOTO	_00216_DS_
                                           ;	.line	431; "MC32P7351.c"	cur_key_id = KEY_ID_MODE;
00051e   3c01     movai   0x1              	MOVAI	0x01
00051f   5622     movra   0x22             	MOVRA	_key_scan_cur_key_id_65536_35
000520   a525     goto    0x525            	GOTO	_00217_DS_
                                           _00216_DS_
                                           ;	.line	433; "MC32P7351.c"	else if (0 == KEY_HEAT_PIN)
000521   f394     jbclr   0x194, 0x1       	JBCLR	_IOP1bits,1
000522   a525     goto    0x525            	GOTO	_00217_DS_
                                           ;	.line	435; "MC32P7351.c"	cur_key_id = KEY_ID_HEAT;
000523   3c02     movai   0x2              	MOVAI	0x02
000524   5622     movra   0x22             	MOVRA	_key_scan_cur_key_id_65536_35
                                           _00217_DS_
                                           ;	.line	438; "MC32P7351.c"	if (cur_key_id != filter_key_id)
000525   5824     movar   0x24             	MOVAR	_key_scan_filter_key_id_65536_35
000526   4022     xorar   0x22             	XORAR	_key_scan_cur_key_id_65536_35
000527   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000528   a52a     goto    0x52a            	GOTO	_00337_DS_
000529   a52e     goto    0x52e            	GOTO	_00219_DS_
                                           _00337_DS_
                                           ;	.line	441; "MC32P7351.c"	filter_cnt = 0;
00052a   7623     clrr    0x23             	CLRR	_key_scan_filter_cnt_65536_35
                                           ;	.line	442; "MC32P7351.c"	filter_key_id = cur_key_id;
00052b   5822     movar   0x22             	MOVAR	_key_scan_cur_key_id_65536_35
00052c   5624     movra   0x24             	MOVRA	_key_scan_filter_key_id_65536_35
                                           ;	.line	443; "MC32P7351.c"	return;
00052d   a585     goto    0x585            	GOTO	_00259_DS_
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00219_DS_
                                           ;	.line	446; "MC32P7351.c"	if (filter_cnt < KEY_FILTER_TIMES)
00052e   3c03     movai   0x3              	MOVAI	0x03
00052f   4823     rsubar  0x23             	RSUBAR	_key_scan_filter_cnt_65536_35
000530   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000531   a534     goto    0x534            	GOTO	_00221_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	450; "MC32P7351.c"	filter_cnt++;
000532   6623     incr    0x23             	INCR	_key_scan_filter_cnt_65536_35
                                           ;	.line	451; "MC32P7351.c"	return;
000533   a585     goto    0x585            	GOTO	_00259_DS_
                                           _00221_DS_
                                           ;	.line	456; "MC32P7351.c"	if (last_key_id != cur_key_id)
000534   5822     movar   0x22             	MOVAR	_key_scan_cur_key_id_65536_35
000535   4027     xorar   0x27             	XORAR	_key_scan_last_key_id_65536_35
000536   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000537   a539     goto    0x539            	GOTO	_00339_DS_
000538   a55b     goto    0x55b            	GOTO	_00257_DS_
                                           _00339_DS_
                                           ;	.line	458; "MC32P7351.c"	if (last_key_id == KEY_ID_NONE)
000539   3c00     movai   0                	MOVAI	0x00
00053a   5c27     orar    0x27             	ORAR	_key_scan_last_key_id_65536_35
00053b   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00053c   a53f     goto    0x53f            	GOTO	_00235_DS_
                                           ;	.line	461; "MC32P7351.c"	press_cnt = 0;
00053d   7625     clrr    0x25             	CLRR	_key_scan_press_cnt_65536_35
00053e   a583     goto    0x583            	GOTO	_00258_DS_
                                           _00235_DS_
                                           ;	.line	463; "MC32P7351.c"	else if (cur_key_id == KEY_ID_NONE)
00053f   3c00     movai   0                	MOVAI	0x00
000540   5c22     orar    0x22             	ORAR	_key_scan_cur_key_id_65536_35
000541   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000542   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;;unsigned compare: left < lit(0x4B=75), size=1
                                           ;	.line	466; "MC32P7351.c"	if (press_cnt < 75)
000543   3c4b     movai   0x4b             	MOVAI	0x4b
000544   4825     rsubar  0x25             	RSUBAR	_key_scan_press_cnt_65536_35
000545   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000546   a555     goto    0x555            	GOTO	_00230_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	469; "MC32P7351.c"	if (KEY_ID_MODE == last_key_id)
000547   5827     movar   0x27             	MOVAR	_key_scan_last_key_id_65536_35
000548   3901     xorai   0x1              	XORAI	0x01
000549   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00054a   a54e     goto    0x54e            	GOTO	_00225_DS_
                                           ;	.line	472; "MC32P7351.c"	key_event = KEY_EVENT_MODE_PRESS;
00054b   3c02     movai   0x2              	MOVAI	0x02
00054c   5685     movra   0x85             	MOVRA	_key_event
00054d   a583     goto    0x583            	GOTO	_00258_DS_
                                           _00225_DS_
                                           ;	.line	478; "MC32P7351.c"	else if (KEY_ID_HEAT == last_key_id)
00054e   5827     movar   0x27             	MOVAR	_key_scan_last_key_id_65536_35
00054f   3902     xorai   0x2              	XORAI	0x02
000550   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000551   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;	.line	481; "MC32P7351.c"	key_event = KEY_EVENT_HEAT_PRESS;
000552   3c01     movai   0x1              	MOVAI	0x01
000553   5685     movra   0x85             	MOVRA	_key_event
000554   a583     goto    0x583            	GOTO	_00258_DS_
                                           _00230_DS_
                                           ;	.line	489; "MC32P7351.c"	if (KEY_ID_MODE == last_key_id)
000555   5827     movar   0x27             	MOVAR	_key_scan_last_key_id_65536_35
000556   3901     xorai   0x1              	XORAI	0x01
000557   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000558   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;	.line	491; "MC32P7351.c"	flag_is_key_mode_hold = 0;
000559   7626     clrr    0x26             	CLRR	_key_scan_flag_is_key_mode_hold_65536_35
00055a   a583     goto    0x583            	GOTO	_00258_DS_
                                           _00257_DS_
                                           ;	.line	496; "MC32P7351.c"	else if (cur_key_id != KEY_ID_NONE)
00055b   3c00     movai   0                	MOVAI	0x00
00055c   5c22     orar    0x22             	ORAR	_key_scan_cur_key_id_65536_35
00055d   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00055e   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           ;	.line	499; "MC32P7351.c"	if (press_cnt < 255)
00055f   3cff     movai   0xff             	MOVAI	0xff
000560   4825     rsubar  0x25             	RSUBAR	_key_scan_press_cnt_65536_35
000561   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000562   a564     goto    0x564            	GOTO	_00238_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	500; "MC32P7351.c"	press_cnt++;
000563   6625     incr    0x25             	INCR	_key_scan_press_cnt_65536_35
                                           _00238_DS_
                                           ;	.line	502; "MC32P7351.c"	if (KEY_ID_MODE == cur_key_id)
000564   5822     movar   0x22             	MOVAR	_key_scan_cur_key_id_65536_35
000565   3901     xorai   0x1              	XORAI	0x01
000566   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000567   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;	.line	504; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
000568   e08f     jbset   0x8f, 0          	JBSET	_flag1,0
000569   a577     goto    0x577            	GOTO	_00250_DS_
                                           ;;unsigned compare: left < lit(0xC8=200), size=1
                                           ;	.line	506; "MC32P7351.c"	if (press_cnt >= 200) // 2000ms
00056a   3cc8     movai   0xc8             	MOVAI	0xc8
00056b   4825     rsubar  0x25             	RSUBAR	_key_scan_press_cnt_65536_35
00056c   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00056d   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	508; "MC32P7351.c"	if (flag_is_key_mode_hold)
00056e   3c00     movai   0                	MOVAI	0x00
00056f   5c26     orar    0x26             	ORAR	_key_scan_flag_is_key_mode_hold_65536_35
000570   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000571   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;	.line	513; "MC32P7351.c"	key_event = KEY_EVENT_MODE_HOLD;
000572   3c03     movai   0x3              	MOVAI	0x03
000573   5685     movra   0x85             	MOVRA	_key_event
                                           ;	.line	514; "MC32P7351.c"	flag_is_key_mode_hold = 1;
000574   3c01     movai   0x1              	MOVAI	0x01
000575   5626     movra   0x26             	MOVRA	_key_scan_flag_is_key_mode_hold_65536_35
000576   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;;unsigned compare: left < lit(0x64=100), size=1
                                           _00250_DS_
                                           ;	.line	521; "MC32P7351.c"	if (press_cnt >= 100) // 1000ms加上看门狗唤醒的1024ms
000577   3c64     movai   0x64             	MOVAI	0x64
000578   4825     rsubar  0x25             	RSUBAR	_key_scan_press_cnt_65536_35
000579   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00057a   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	523; "MC32P7351.c"	if (flag_is_key_mode_hold)
00057b   3c00     movai   0                	MOVAI	0x00
00057c   5c26     orar    0x26             	ORAR	_key_scan_flag_is_key_mode_hold_65536_35
00057d   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00057e   a583     goto    0x583            	GOTO	_00258_DS_
                                           ;	.line	528; "MC32P7351.c"	key_event = KEY_EVENT_MODE_HOLD;
00057f   3c03     movai   0x3              	MOVAI	0x03
000580   5685     movra   0x85             	MOVRA	_key_event
                                           ;	.line	529; "MC32P7351.c"	flag_is_key_mode_hold = 1;
000581   3c01     movai   0x1              	MOVAI	0x01
000582   5626     movra   0x26             	MOVRA	_key_scan_flag_is_key_mode_hold_65536_35
                                           _00258_DS_
                                           ;	.line	536; "MC32P7351.c"	last_key_id = cur_key_id;
000583   5822     movar   0x22             	MOVAR	_key_scan_cur_key_id_65536_35
000584   5627     movra   0x27             	MOVRA	_key_scan_last_key_id_65536_35
                                           _00259_DS_
                                           ;	.line	537; "MC32P7351.c"	}
000585   000c     return                   	RETURN	
                                           ; exit point of _key_scan
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _adc_config
                                           ;   _delay_ms
                                           ;   _CLR_RAM
                                           ;   _adc_config
                                           ;   _delay_ms
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	276; "MC32P7351.c"	GIE = 0;
000586   df88     bclr    0x188, 0x7       	BCLR	_MCRbits,7
                                           ;	.line	277; "MC32P7351.c"	CLR_RAM();
000587   869c     call    0x69c            	CALL	_CLR_RAM
                                           ;	.line	280; "MC32P7351.c"	IOP0 = 0x00;   // io口数据位
000588   7790     clrr    0x190            	CLRR	_IOP0
                                           ;	.line	281; "MC32P7351.c"	OEP0 = 0x3F;   // io口方向 1:out  0:in
000589   3c3f     movai   0x3f             	MOVAI	0x3f
00058a   5791     movra   0x191            	MOVRA	_OEP0
                                           ;	.line	282; "MC32P7351.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
00058b   7792     clrr    0x192            	CLRR	_PUP0
                                           ;	.line	283; "MC32P7351.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
00058c   7793     clrr    0x193            	CLRR	_PDP0
                                           ;	.line	284; "MC32P7351.c"	ADIOS0 = 0x00; // io类型选择  1:模拟输入  0:通用io
00058d   77b6     clrr    0x1b6            	CLRR	_ADIOS0
                                           ;	.line	286; "MC32P7351.c"	IOP1 = 0x00;   // io口数据位
00058e   7794     clrr    0x194            	CLRR	_IOP1
                                           ;	.line	287; "MC32P7351.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in
00058f   3cff     movai   0xff             	MOVAI	0xff
000590   5795     movra   0x195            	MOVRA	_OEP1
                                           ;	.line	288; "MC32P7351.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
000591   7796     clrr    0x196            	CLRR	_PUP1
                                           ;	.line	289; "MC32P7351.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
000592   7797     clrr    0x197            	CLRR	_PDP1
                                           ;	.line	290; "MC32P7351.c"	ADIOS1 = 0x00; // io类型选择  1:模拟输入  0:通用io
000593   77b7     clrr    0x1b7            	CLRR	_ADIOS1
                                           ;	.line	297; "MC32P7351.c"	PMOD = 0x00;  // P00、P01、P13 io端口值从寄存器读，推挽输出
000594   77bc     clrr    0x1bc            	CLRR	_PMOD
                                           ;	.line	298; "MC32P7351.c"	DRVCR = 0x80; // 普通驱动
000595   3c80     movai   0x80             	MOVAI	0x80
000596   578c     movra   0x18c            	MOVRA	_DRVCR
                                           ;	.line	301; "MC32P7351.c"	LED_WORKING_OFF();
000597   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	302; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
000598   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	303; "MC32P7351.c"	LED_CHARGING_OFF();
000599   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	307; "MC32P7351.c"	T0LOAD = 172 - 1;
00059a   3cab     movai   0xab             	MOVAI	0xab
00059b   579a     movra   0x19a            	MOVRA	_T0LOAD
                                           ;	.line	309; "MC32P7351.c"	PWM0EC = 0;  // 禁止PWM输出
00059c   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	310; "MC32P7351.c"	T0CR = 0x81; // 使能定时器，时钟源为FCPU，2分频
00059d   3c81     movai   0x81             	MOVAI	0x81
00059e   5798     movra   0x198            	MOVRA	_T0CR
                                           ;	.line	317; "MC32P7351.c"	T1LOAD = 172 - 1;
00059f   3cab     movai   0xab             	MOVAI	0xab
0005a0   579e     movra   0x19e            	MOVRA	_T1LOAD
                                           ;	.line	319; "MC32P7351.c"	PWM1EC = 0;  // 禁止PWM1输出
0005a1   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	320; "MC32P7351.c"	T1CR = 0x81; // 使能定时器，时钟源为FCPU，2分频
0005a2   3c81     movai   0x81             	MOVAI	0x81
0005a3   579c     movra   0x19c            	MOVRA	_T1CR
                                           ;	.line	347; "MC32P7351.c"	T2CKS1 = 0;
0005a4   d9a0     bclr    0x1a0, 0x4       	BCLR	_T2CRbits,4
                                           ;	.line	348; "MC32P7351.c"	T2CKS0 = 1;
0005a5   c7a0     bset    0x1a0, 0x3       	BSET	_T2CRbits,3
                                           ;	.line	350; "MC32P7351.c"	TMRCKS1 = 1;
0005a6   c9ad     bset    0x1ad, 0x4       	BSET	_PWMCR1bits,4
                                           ;	.line	351; "MC32P7351.c"	TMRCKS0 = 0;
0005a7   d7ad     bclr    0x1ad, 0x3       	BCLR	_PWMCR1bits,3
                                           ;	.line	354; "MC32P7351.c"	T2PRS2 = 0;
0005a8   d5a0     bclr    0x1a0, 0x2       	BCLR	_T2CRbits,2
                                           ;	.line	355; "MC32P7351.c"	T2PRS1 = 0;
0005a9   d3a0     bclr    0x1a0, 0x1       	BCLR	_T2CRbits,1
                                           ;	.line	356; "MC32P7351.c"	T2PRS0 = 1;
0005aa   c1a0     bset    0x1a0, 0         	BSET	_T2CRbits,0
                                           ;	.line	365; "MC32P7351.c"	T2LOAD = 127; // 【125或125.654KHz】
0005ab   3c7f     movai   0x7f             	MOVAI	0x7f
0005ac   57a2     movra   0x1a2            	MOVRA	_T2LOAD
                                           ;	.line	367; "MC32P7351.c"	T2DATA = 0;
0005ad   77a3     clrr    0x1a3            	CLRR	_T2DATA
                                           ;	.line	368; "MC32P7351.c"	PWM2EC = 0; // 禁止PWM输出
0005ae   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	369; "MC32P7351.c"	T2EN = 1;
0005af   cfa0     bset    0x1a0, 0x7       	BSET	_T2CRbits,7
                                           ;	.line	378; "MC32P7351.c"	T3LOAD = 25 - 1; //
0005b0   3c18     movai   0x18             	MOVAI	0x18
0005b1   57a6     movra   0x1a6            	MOVRA	_T3LOAD
                                           ;	.line	379; "MC32P7351.c"	T3CR = 0x85;     // 使能定时器，时钟源选择FCPU，32分频
0005b2   3c85     movai   0x85             	MOVAI	0x85
0005b3   57a4     movra   0x1a4            	MOVRA	_T3CR
                                           ;	.line	380; "MC32P7351.c"	T3IE = 1;
0005b4   cf8a     bset    0x18a, 0x7       	BSET	_INTEbits,7
                                           ;	.line	386; "MC32P7351.c"	P11PU = 1; // 上拉
0005b5   c396     bset    0x196, 0x1       	BSET	_PUP1bits,1
                                           ;	.line	387; "MC32P7351.c"	P11OE = 0; // 输入模式
0005b6   d395     bclr    0x195, 0x1       	BCLR	_OEP1bits,1
                                           ;	.line	390; "MC32P7351.c"	P01PU = 1; // 上拉
0005b7   c392     bset    0x192, 0x1       	BSET	_PUP0bits,1
                                           ;	.line	391; "MC32P7351.c"	P01OE = 0; // 输入模式
0005b8   d391     bclr    0x191, 0x1       	BCLR	_OEP0bits,1
                                           ;	.line	393; "MC32P7351.c"	adc_config();
0005b9   8690     call    0x690            	CALL	_adc_config
                                           ;	.line	395; "MC32P7351.c"	GIE = 1;
0005ba   cf88     bset    0x188, 0x7       	BSET	_MCRbits,7
                                           ;	.line	397; "MC32P7351.c"	delay_ms(1); // 等待系统稳定
0005bb   3c01     movai   0x1              	MOVAI	0x01
0005bc   5606     movra   0x6              	MOVRA	STK00
0005bd   3c00     movai   0                	MOVAI	0x00
0005be   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	398; "MC32P7351.c"	}
0005bf   000c     return                   	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_get_val_once	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;7 compiler assigned registers:
                                           ;   r0x104C
                                           ;   r0x104D
                                           ;   r0x104E
                                           ;   r0x104F
                                           ;   r0x1050
                                           ;   r0x1051
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_get_val_once	;Function start
                                           ; 2 exit points
                                           ;	.line	237; "MC32P7351.c"	ADEOC = 0; // 清除ADC转换完成标志位，启动AD转换
0005c0   d3b0     bclr    0x1b0, 0x1       	BCLR	_ADCR0bits,1
                                           _00204_DS_
                                           ;	.line	238; "MC32P7351.c"	while (!ADEOC)
0005c1   e3b0     jbset   0x1b0, 0x1       	JBSET	_ADCR0bits,1
0005c2   a5c1     goto    0x5c1            	GOTO	_00204_DS_
                                           ;	.line	240; "MC32P7351.c"	g_temp_value = ADRH; // 取出转换后的值
0005c3   59b4     movar   0x1b4            	MOVAR	_ADRH
0005c4   5608     movra   0x8              	MOVRA	r0x104C
0005c5   7607     clrr    0x7              	CLRR	r0x104D
                                           ;	.line	241; "MC32P7351.c"	g_temp_value = g_temp_value << 4 | (ADRL & 0x0F);
0005c6   4407     swapar  0x7              	SWAPAR	r0x104D
0005c7   3ef0     andai   0xf0             	ANDAI	0xf0
0005c8   5609     movra   0x9              	MOVRA	r0x104E
0005c9   4408     swapar  0x8              	SWAPAR	r0x104C
0005ca   560a     movra   0xa              	MOVRA	r0x104F
0005cb   3e0f     andai   0xf              	ANDAI	0x0f
0005cc   5e09     orra    0x9              	ORRA	r0x104E
0005cd   420a     xorra   0xa              	XORRA	r0x104F
0005ce   59b5     movar   0x1b5            	MOVAR	_ADRL
0005cf   5608     movra   0x8              	MOVRA	r0x104C
0005d0   7607     clrr    0x7              	CLRR	r0x104D
0005d1   3c0f     movai   0xf              	MOVAI	0x0f
0005d2   7a08     andra   0x8              	ANDRA	r0x104C
0005d3   7607     clrr    0x7              	CLRR	r0x104D
                                           ;;101	MOVAR	r0x104C
                                           ;;99	MOVRA	r0x1050
                                           ;;104	MOVAR	r0x104D
                                           ;;102	MOVRA	r0x1051
                                           ;;100	MOVAR	r0x1050
0005d4   5808     movar   0x8              	MOVAR	r0x104C
0005d5   5e0a     orra    0xa              	ORRA	r0x104F
                                           ;;103	MOVAR	r0x1051
0005d6   3c00     movai   0                	MOVAI	0x00
0005d7   5e09     orra    0x9              	ORRA	r0x104E
                                           ;	.line	265; "MC32P7351.c"	return g_temp_value;
0005d8   580a     movar   0xa              	MOVAR	r0x104F
0005d9   5606     movra   0x6              	MOVRA	STK00
0005da   5809     movar   0x9              	MOVAR	r0x104E
                                           ;	.line	266; "MC32P7351.c"	}
0005db   000c     return                   	RETURN	
                                           ; exit point of _adc_get_val_once
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_get_val	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;16 compiler assigned registers:
                                           ;   r0x104C
                                           ;   r0x104D
                                           ;   r0x104E
                                           ;   r0x104F
                                           ;   r0x1050
                                           ;   r0x1051
                                           ;   r0x1052
                                           ;   r0x1053
                                           ;   r0x1054
                                           ;   r0x1055
                                           ;   r0x1056
                                           ;   r0x1057
                                           ;   r0x1058
                                           ;   r0x1059
                                           ;   r0x105A
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_get_val	;Function start
                                           ; 2 exit points
                                           ;	.line	184; "MC32P7351.c"	u32 g_tmpbuff = 0;
0005dc   7608     clrr    0x8              	CLRR	r0x104C
0005dd   7607     clrr    0x7              	CLRR	r0x104D
0005de   7609     clrr    0x9              	CLRR	r0x104E
0005df   760a     clrr    0xa              	CLRR	r0x104F
                                           ;	.line	185; "MC32P7351.c"	u16 g_adcmax = 0;
0005e0   760b     clrr    0xb              	CLRR	r0x1050
0005e1   760c     clrr    0xc              	CLRR	r0x1051
                                           ;	.line	186; "MC32P7351.c"	u16 g_adcmin = 0xFFFF;
0005e2   3cff     movai   0xff             	MOVAI	0xff
0005e3   560d     movra   0xd              	MOVRA	r0x1052
0005e4   560e     movra   0xe              	MOVRA	r0x1053
                                           ;	.line	189; "MC32P7351.c"	for (i = 0; i < 20; i++)
0005e5   760f     clrr    0xf              	CLRR	r0x1054
                                           _00158_DS_
                                           ;	.line	191; "MC32P7351.c"	ADEOC = 0; // 清除ADC转换完成标志位，启动AD转换
0005e6   d3b0     bclr    0x1b0, 0x1       	BCLR	_ADCR0bits,1
                                           _00147_DS_
                                           ;	.line	192; "MC32P7351.c"	while (!ADEOC)
0005e7   e3b0     jbset   0x1b0, 0x1       	JBSET	_ADCR0bits,1
0005e8   a5e7     goto    0x5e7            	GOTO	_00147_DS_
                                           ;	.line	194; "MC32P7351.c"	g_temp_value = ADRH; // 取出转换后的值
0005e9   59b4     movar   0x1b4            	MOVAR	_ADRH
0005ea   5610     movra   0x10             	MOVRA	r0x1055
0005eb   7611     clrr    0x11             	CLRR	r0x1056
                                           ;	.line	195; "MC32P7351.c"	g_temp_value = g_temp_value << 4 | (ADRL & 0x0F);
0005ec   4411     swapar  0x11             	SWAPAR	r0x1056
0005ed   3ef0     andai   0xf0             	ANDAI	0xf0
0005ee   5613     movra   0x13             	MOVRA	r0x1057
0005ef   4410     swapar  0x10             	SWAPAR	r0x1055
0005f0   5612     movra   0x12             	MOVRA	r0x1058
0005f1   3e0f     andai   0xf              	ANDAI	0x0f
0005f2   5e13     orra    0x13             	ORRA	r0x1057
0005f3   4212     xorra   0x12             	XORRA	r0x1058
0005f4   59b5     movar   0x1b5            	MOVAR	_ADRL
0005f5   5610     movra   0x10             	MOVRA	r0x1055
0005f6   7611     clrr    0x11             	CLRR	r0x1056
0005f7   3c0f     movai   0xf              	MOVAI	0x0f
0005f8   7a10     andra   0x10             	ANDRA	r0x1055
0005f9   7611     clrr    0x11             	CLRR	r0x1056
                                           ;;120	MOVAR	r0x1055
0005fa   3c00     movai   0                	MOVAI	0x00
0005fb   5615     movra   0x15             	MOVRA	r0x105A
                                           ;;119	MOVAR	r0x1059
0005fc   5810     movar   0x10             	MOVAR	r0x1055
0005fd   5614     movra   0x14             	MOVRA	r0x1059
0005fe   5c12     orar    0x12             	ORAR	r0x1058
0005ff   5610     movra   0x10             	MOVRA	r0x1055
000600   5815     movar   0x15             	MOVAR	r0x105A
000601   5c13     orar    0x13             	ORAR	r0x1057
000602   5611     movra   0x11             	MOVRA	r0x1056
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	196; "MC32P7351.c"	if (i < 2)
000603   3c02     movai   0x2              	MOVAI	0x02
000604   480f     rsubar  0xf              	RSUBAR	r0x1054
000605   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000606   a631     goto    0x631            	GOTO	_00156_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	198; "MC32P7351.c"	if (g_temp_value > g_adcmax)
000607   5811     movar   0x11             	MOVAR	r0x1056
000608   480c     rsubar  0xc              	RSUBAR	r0x1051
000609   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00060a   a60d     goto    0x60d            	GOTO	_00198_DS_
00060b   5810     movar   0x10             	MOVAR	r0x1055
00060c   480b     rsubar  0xb              	RSUBAR	r0x1050
                                           _00198_DS_
00060d   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00060e   a613     goto    0x613            	GOTO	_00153_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	199; "MC32P7351.c"	g_adcmax = g_temp_value; // 最大
00060f   5810     movar   0x10             	MOVAR	r0x1055
000610   560b     movra   0xb              	MOVRA	r0x1050
000611   5811     movar   0x11             	MOVAR	r0x1056
000612   560c     movra   0xc              	MOVRA	r0x1051
                                           _00153_DS_
                                           ;	.line	200; "MC32P7351.c"	if (g_temp_value < g_adcmin)
000613   580e     movar   0xe              	MOVAR	r0x1053
000614   4811     rsubar  0x11             	RSUBAR	r0x1056
000615   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000616   a619     goto    0x619            	GOTO	_00199_DS_
000617   580d     movar   0xd              	MOVAR	r0x1052
000618   4810     rsubar  0x10             	RSUBAR	r0x1055
                                           _00199_DS_
000619   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00061a   a61f     goto    0x61f            	GOTO	_00155_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	201; "MC32P7351.c"	g_adcmin = g_temp_value; // 最小
00061b   5810     movar   0x10             	MOVAR	r0x1055
00061c   560d     movra   0xd              	MOVRA	r0x1052
00061d   5811     movar   0x11             	MOVAR	r0x1056
00061e   560e     movra   0xe              	MOVRA	r0x1053
                                           ;;116	MOVAR	r0x1055
                                           ;;118	MOVAR	r0x1056
                                           _00155_DS_
                                           ;	.line	202; "MC32P7351.c"	g_tmpbuff += g_temp_value;
00061f   7614     clrr    0x14             	CLRR	r0x1059
000620   7615     clrr    0x15             	CLRR	r0x105A
                                           ;;115	MOVAR	r0x1058
000621   5810     movar   0x10             	MOVAR	r0x1055
000622   5612     movra   0x12             	MOVRA	r0x1058
000623   7e08     addra   0x8              	ADDRA	r0x104C
                                           ;;117	MOVAR	r0x1057
000624   5811     movar   0x11             	MOVAR	r0x1056
000625   5613     movra   0x13             	MOVRA	r0x1057
000626   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000627   6013     jzar    0x13             	JZAR	r0x1057
000628   7e07     addra   0x7              	ADDRA	r0x104D
000629   5814     movar   0x14             	MOVAR	r0x1059
00062a   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00062b   6014     jzar    0x14             	JZAR	r0x1059
00062c   7e09     addra   0x9              	ADDRA	r0x104E
00062d   5815     movar   0x15             	MOVAR	r0x105A
00062e   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00062f   6015     jzar    0x15             	JZAR	r0x105A
000630   7e0a     addra   0xa              	ADDRA	r0x104F
                                           _00156_DS_
                                           ;	.line	189; "MC32P7351.c"	for (i = 0; i < 20; i++)
000631   660f     incr    0xf              	INCR	r0x1054
                                           ;;unsigned compare: left < lit(0x14=20), size=1
000632   3c14     movai   0x14             	MOVAI	0x14
000633   480f     rsubar  0xf              	RSUBAR	r0x1054
000634   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000635   a5e6     goto    0x5e6            	GOTO	_00158_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;114	MOVAR	r0x1050
                                           ;	.line	204; "MC32P7351.c"	g_tmpbuff -= g_adcmax;           // 去掉一个最大
000636   580c     movar   0xc              	MOVAR	r0x1051
000637   5610     movra   0x10             	MOVRA	r0x1055
000638   7611     clrr    0x11             	CLRR	r0x1056
000639   7612     clrr    0x12             	CLRR	r0x1058
                                           ;;113	MOVAR	r0x1054
00063a   580b     movar   0xb              	MOVAR	r0x1050
00063b   560f     movra   0xf              	MOVRA	r0x1054
00063c   4808     rsubar  0x8              	RSUBAR	r0x104C
00063d   560b     movra   0xb              	MOVRA	r0x1050
00063e   5807     movar   0x7              	MOVAR	r0x104D
00063f   560c     movra   0xc              	MOVRA	r0x1051
000640   5810     movar   0x10             	MOVAR	r0x1055
000641   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000642   6010     jzar    0x10             	JZAR	r0x1055
000643   4a0c     rsubra  0xc              	RSUBRA	r0x1051
000644   5809     movar   0x9              	MOVAR	r0x104E
000645   5613     movra   0x13             	MOVRA	r0x1057
000646   5811     movar   0x11             	MOVAR	r0x1056
000647   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000648   6011     jzar    0x11             	JZAR	r0x1056
000649   4a13     rsubra  0x13             	RSUBRA	r0x1057
00064a   5812     movar   0x12             	MOVAR	r0x1058
00064b   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00064c   6412     incar   0x12             	INCAR	r0x1058
00064d   480a     rsubar  0xa              	RSUBAR	r0x104F
00064e   5614     movra   0x14             	MOVRA	r0x1059
                                           ;;106	MOVAR	r0x1052
                                           ;;108	MOVAR	r0x1053
                                           ;	.line	205; "MC32P7351.c"	g_tmpbuff -= g_adcmin;           // 去掉一个最小
00064f   7609     clrr    0x9              	CLRR	r0x104E
000650   760a     clrr    0xa              	CLRR	r0x104F
                                           ;;105	MOVAR	r0x104C
000651   580d     movar   0xd              	MOVAR	r0x1052
000652   5608     movra   0x8              	MOVRA	r0x104C
000653   4a0b     rsubra  0xb              	RSUBRA	r0x1050
                                           ;;107	MOVAR	r0x104D
000654   580e     movar   0xe              	MOVAR	r0x1053
000655   5607     movra   0x7              	MOVRA	r0x104D
000656   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000657   6007     jzar    0x7              	JZAR	r0x104D
000658   4a0c     rsubra  0xc              	RSUBRA	r0x1051
000659   5809     movar   0x9              	MOVAR	r0x104E
00065a   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00065b   6009     jzar    0x9              	JZAR	r0x104E
00065c   4a13     rsubra  0x13             	RSUBRA	r0x1057
00065d   580a     movar   0xa              	MOVAR	r0x104F
00065e   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00065f   600a     jzar    0xa              	JZAR	r0x104F
000660   4a14     rsubra  0x14             	RSUBRA	r0x1059
                                           ;	.line	206; "MC32P7351.c"	g_temp_value = (g_tmpbuff >> 4); // 除以16，取平均值
000661   440b     swapar  0xb              	SWAPAR	r0x1050
000662   3e0f     andai   0xf              	ANDAI	0x0f
000663   5608     movra   0x8              	MOVRA	r0x104C
000664   440c     swapar  0xc              	SWAPAR	r0x1051
000665   5607     movra   0x7              	MOVRA	r0x104D
000666   3ef0     andai   0xf0             	ANDAI	0xf0
000667   5e08     orra    0x8              	ORRA	r0x104C
000668   4207     xorra   0x7              	XORRA	r0x104D
000669   4413     swapar  0x13             	SWAPAR	r0x1057
00066a   5609     movra   0x9              	MOVRA	r0x104E
00066b   3ef0     andai   0xf0             	ANDAI	0xf0
00066c   5e07     orra    0x7              	ORRA	r0x104D
00066d   4209     xorra   0x9              	XORRA	r0x104E
00066e   4414     swapar  0x14             	SWAPAR	r0x1059
00066f   560a     movra   0xa              	MOVRA	r0x104F
000670   3ef0     andai   0xf0             	ANDAI	0xf0
000671   5e09     orra    0x9              	ORRA	r0x104E
000672   420a     xorra   0xa              	XORRA	r0x104F
                                           ;;110	MOVAR	r0x104C
                                           ;;112	MOVAR	r0x104D
                                           ;;109	MOVAR	r0x1050
                                           ;	.line	230; "MC32P7351.c"	return g_temp_value;
000673   5808     movar   0x8              	MOVAR	r0x104C
000674   560b     movra   0xb              	MOVRA	r0x1050
000675   5606     movra   0x6              	MOVRA	STK00
                                           ;;111	MOVAR	r0x1051
000676   5807     movar   0x7              	MOVAR	r0x104D
000677   560c     movra   0xc              	MOVRA	r0x1051
                                           ;	.line	231; "MC32P7351.c"	}
000678   000c     return                   	RETURN	
                                           ; exit point of _adc_get_val
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;2 compiler assigned registers:
                                           ;   r0x1052
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;	.line	145; "MC32P7351.c"	void adc_sel_pin(u8 adc_pin)
000679   560d     movra   0xd              	MOVRA	r0x1052
                                           ;	.line	148; "MC32P7351.c"	switch (adc_pin)
00067a   580d     movar   0xd              	MOVAR	r0x1052
00067b   3901     xorai   0x1              	XORAI	0x01
00067c   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00067d   a67f     goto    0x67f            	GOTO	_00141_DS_
00067e   a685     goto    0x685            	GOTO	_00127_DS_
                                           _00141_DS_
00067f   580d     movar   0xd              	MOVAR	r0x1052
000680   3902     xorai   0x2              	XORAI	0x02
000681   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000682   a684     goto    0x684            	GOTO	_00142_DS_
000683   a688     goto    0x688            	GOTO	_00128_DS_
                                           _00142_DS_
000684   a68b     goto    0x68b            	GOTO	_00130_DS_
                                           _00127_DS_
                                           ;	.line	151; "MC32P7351.c"	ADCR0 &= ~(0x0F << 4); // 清空寄存器的通道选择位
000685   3c0f     movai   0xf              	MOVAI	0x0f
000686   7bb0     andra   0x1b0            	ANDRA	_ADCR0
                                           ;	.line	159; "MC32P7351.c"	break;
000687   a68b     goto    0x68b            	GOTO	_00130_DS_
                                           _00128_DS_
                                           ;	.line	162; "MC32P7351.c"	ADCR0 &= ~(0x0F << 4); // 清空寄存器的通道选择位
000688   3c0f     movai   0xf              	MOVAI	0x0f
000689   7bb0     andra   0x1b0            	ANDRA	_ADCR0
                                           ;	.line	163; "MC32P7351.c"	ADCR0 |= 0x01 << 4;    // AIN1--P02;
00068a   c9b0     bset    0x1b0, 0x4       	BSET	_ADCR0,4
                                           _00130_DS_
                                           ;	.line	176; "MC32P7351.c"	delay_ms(1); // 切换adc检测的引脚后，要延时一段时间，等待adc稳定，防止意料之外的检测结果
00068b   3c01     movai   0x1              	MOVAI	0x01
00068c   5606     movra   0x6              	MOVRA	STK00
00068d   3c00     movai   0                	MOVAI	0x00
00068e   86a8     call    0x6a8            	CALL	_delay_ms
                                           ;	.line	177; "MC32P7351.c"	}
00068f   000c     return                   	RETURN	
                                           ; exit point of _adc_sel_pin
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _adc_config	;Function start
                                           ; 2 exit points
                                           ;	.line	62; "MC32P7351.c"	P00OE = 0; // 输入模式
000690   d191     bclr    0x191, 0         	BCLR	_OEP0bits,0
                                           ;	.line	63; "MC32P7351.c"	P00DC = 1; // 模拟模式
000691   c1b6     bset    0x1b6, 0         	BSET	_ADIOS0bits,0
                                           ;	.line	66; "MC32P7351.c"	P02OE = 0; // 输入模式
000692   d591     bclr    0x191, 0x2       	BCLR	_OEP0bits,2
                                           ;	.line	67; "MC32P7351.c"	P02DC = 1; // 模拟模式
000693   c3b6     bset    0x1b6, 0x1       	BSET	_ADIOS0bits,1
                                           ;	.line	69; "MC32P7351.c"	ADCR0 = 0x0A; // 12位精度、不启用ADC转换，不使能ADC
000694   3c0a     movai   0xa              	MOVAI	0x0a
000695   57b0     movra   0x1b0            	MOVRA	_ADCR0
                                           ;	.line	70; "MC32P7351.c"	ADCR1 = 0xE1; // 125K采样（最高精度）  内部3V参考电压
000696   3ce1     movai   0xe1             	MOVAI	0xe1
000697   57b1     movra   0x1b1            	MOVRA	_ADCR1
                                           ;	.line	71; "MC32P7351.c"	ADCR2 = 0xFF; // ADC采样时间为15个ADC时钟
000698   3cff     movai   0xff             	MOVAI	0xff
000699   57b2     movra   0x1b2            	MOVRA	_ADCR2
                                           ;	.line	72; "MC32P7351.c"	ADEN = 1;     // 使能ADC
00069a   c1b0     bset    0x1b0, 0         	BSET	_ADCR0bits,0
                                           ;	.line	73; "MC32P7351.c"	}
00069b   000c     return                   	RETURN	
                                           ; exit point of _adc_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	22; "MC32P7351.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
00069c   7784     clrr    0x184            	CLRR	_FSR0
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           _00118_DS_
00069d   3cff     movai   0xff             	MOVAI	0xff
00069e   4984     rsubar  0x184            	RSUBAR	_FSR0
00069f   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0006a0   a6a4     goto    0x6a4            	GOTO	_00116_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	24; "MC32P7351.c"	INDF0 = 0x00;
0006a1   7780     clrr    0x180            	CLRR	_INDF0
                                           ;	.line	22; "MC32P7351.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
0006a2   6784     incr    0x184            	INCR	_FSR0
0006a3   a69d     goto    0x69d            	GOTO	_00118_DS_
                                           _00116_DS_
                                           ;	.line	26; "MC32P7351.c"	FSR0 = 0xFF;
0006a4   3cff     movai   0xff             	MOVAI	0xff
0006a5   5784     movra   0x184            	MOVRA	_FSR0
                                           ;	.line	27; "MC32P7351.c"	INDF0 = 0x00;
0006a6   7780     clrr    0x180            	CLRR	_INDF0
                                           ;	.line	28; "MC32P7351.c"	}
0006a7   000c     return                   	RETURN	
                                           ; exit point of _CLR_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;7 compiler assigned registers:
                                           ;   r0x104C
                                           ;   STK00
                                           ;   r0x104D
                                           ;   r0x104E
                                           ;   r0x104F
                                           ;   r0x1050
                                           ;   r0x1051
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	365; "user.h"	void delay_ms(u16 xms)
0006a8   5608     movra   0x8              	MOVRA	r0x104C
0006a9   5806     movar   0x6              	MOVAR	STK00
0006aa   5607     movra   0x7              	MOVRA	r0x104D
                                           _00108_DS_
                                           ;	.line	367; "user.h"	while (xms)
0006ab   5807     movar   0x7              	MOVAR	r0x104D
0006ac   5c08     orar    0x8              	ORAR	r0x104C
0006ad   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0006ae   a6c7     goto    0x6c7            	GOTO	_00111_DS_
                                           ;	.line	370; "user.h"	while (i--)
0006af   3c3c     movai   0x3c             	MOVAI	0x3c
0006b0   5609     movra   0x9              	MOVRA	r0x104E
0006b1   3c02     movai   0x2              	MOVAI	0x02
0006b2   560a     movra   0xa              	MOVRA	r0x104F
                                           _00105_DS_
0006b3   5809     movar   0x9              	MOVAR	r0x104E
0006b4   560b     movra   0xb              	MOVRA	r0x1050
0006b5   580a     movar   0xa              	MOVAR	r0x104F
0006b6   560c     movra   0xc              	MOVRA	r0x1051
0006b7   3cff     movai   0xff             	MOVAI	0xff
0006b8   7e09     addra   0x9              	ADDRA	r0x104E
0006b9   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0006ba   6e0a     decr    0xa              	DECR	r0x104F
0006bb   580b     movar   0xb              	MOVAR	r0x1050
0006bc   5c0c     orar    0xc              	ORAR	r0x1051
0006bd   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0006be   a6c1     goto    0x6c1            	GOTO	_00107_DS_
                                           ;	.line	372; "user.h"	Nop();
0006bf   0000     nop                      	nop	
0006c0   a6b3     goto    0x6b3            	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	374; "user.h"	xms--; // 把 --操作放在while()判断条件外面，更节省空间
0006c1   3cff     movai   0xff             	MOVAI	0xff
0006c2   7e07     addra   0x7              	ADDRA	r0x104D
0006c3   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0006c4   6e08     decr    0x8              	DECR	r0x104C
                                           ;	.line	378; "user.h"	__endasm;
                                           	;
0006c5   000e     clrwdt                   	clrwdt;
                                           	
0006c6   a6ab     goto    0x6ab            	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	380; "user.h"	}
0006c7   000c     return                   	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           
                                           ;	code size estimation:
                                           ;	 1713+    0 =  1713 instructions ( 3426 byte)
                                           
                                           	end
                                           ;--------------------------------------------------------
                                           ; File Created by SN-SDCC : SinoMCU ANSI-C Compiler
                                           ; Version 2.0.0 (Dec 11 2019) (MINGW32)
                                           ; This file was generated Wed May 14 14:36:53 2025
                                           ;--------------------------------------------------------
                                           ; MC32 port for the RISC core
                                           ;--------------------------------------------------------
                                           ;	.file	"MC32P7351.c"
                                           	list	p=7351
                                           	radix dec
                                           	include "7351.inc"
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	__mullong
                                           	extern	__divulong
                                           	extern	_INDF0bits
                                           	extern	_INDF1bits
                                           	extern	_INDF2bits
                                           	extern	_HIBYTEbits
                                           	extern	_FSR0bits
                                           	extern	_FSR1bits
                                           	extern	_PCLbits
                                           	extern	_PFLAGbits
                                           	extern	_MCRbits
                                           	extern	_INDF3bits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_DRVCRbits
                                           	extern	_PFRCCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_PFRCCALbits
                                           	extern	_IOP0bits
                                           	extern	_OEP0bits
                                           	extern	_PUP0bits
                                           	extern	_PDP0bits
                                           	extern	_IOP1bits
                                           	extern	_OEP1bits
                                           	extern	_PUP1bits
                                           	extern	_PDP1bits
                                           	extern	_T0CRbits
                                           	extern	_T0CNTbits
                                           	extern	_T0LOADbits
                                           	extern	_T0DATAbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_T2CRbits
                                           	extern	_T2CNTbits
                                           	extern	_T2LOADbits
                                           	extern	_T2DATAbits
                                           	extern	_T3CRbits
                                           	extern	_T3CNTbits
                                           	extern	_T3LOADbits
                                           	extern	_PWM0DRbits
                                           	extern	_PWM1DRbits
                                           	extern	_PWM2DRbits
                                           	extern	_PWMCR0bits
                                           	extern	_PWMCR1bits
                                           	extern	_OSCMRbits
                                           	extern	_LVDCRbits
                                           	extern	_ADCR0bits
                                           	extern	_ADCR1bits
                                           	extern	_ADCR2bits
                                           	extern	_OSADJCRbits
                                           	extern	_ADRHbits
                                           	extern	_ADRLbits
                                           	extern	_ADIOS0bits
                                           	extern	_ADIOS1bits
                                           	extern	_PMODbits
                                           	extern	_PWMCR3bits
                                           	extern	_PWMCR2bits
                                           	extern	_PFRCAUXbits
                                           	extern	_HIRCCALbits
                                           	extern	_INDF0
                                           	extern	_INDF1
                                           	extern	_INDF2
                                           	extern	_HIBYTE
                                           	extern	_FSR0
                                           	extern	_FSR1
                                           	extern	_PCL
                                           	extern	_PFLAG
                                           	extern	_MCR
                                           	extern	_INDF3
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_DRVCR
                                           	extern	_PFRCCR
                                           	extern	_P1KBCR
                                           	extern	_PFRCCAL
                                           	extern	_IOP0
                                           	extern	_OEP0
                                           	extern	_PUP0
                                           	extern	_PDP0
                                           	extern	_IOP1
                                           	extern	_OEP1
                                           	extern	_PUP1
                                           	extern	_PDP1
                                           	extern	_T0CR
                                           	extern	_T0CNT
                                           	extern	_T0LOAD
                                           	extern	_T0DATA
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           	extern	_T2CR
                                           	extern	_T2CNT
                                           	extern	_T2LOAD
                                           	extern	_T2DATA
                                           	extern	_T3CR
                                           	extern	_T3CNT
                                           	extern	_T3LOAD
                                           	extern	_PWM0DR
                                           	extern	_PWM1DR
                                           	extern	_PWM2DR
                                           	extern	_PWMCR0
                                           	extern	_PWMCR1
                                           	extern	_OSCMR
                                           	extern	_LVDCR
                                           	extern	_ADCR0
                                           	extern	_ADCR1
                                           	extern	_ADCR2
                                           	extern	_OSADJCR
                                           	extern	_ADRH
                                           	extern	_ADRL
                                           	extern	_ADIOS0
                                           	extern	_ADIOS1
                                           	extern	_PMOD
                                           	extern	_PWMCR3
                                           	extern	_PWMCR2
                                           	extern	_PFRCAUX
                                           	extern	_HIRCCAL
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_delay_ms
                                           	global	_CLR_RAM
                                           	global	_adc_config
                                           	global	_adc_sel_pin
                                           	global	_adc_get_val
                                           	global	_adc_get_val_once
                                           	global	_Sys_Init
                                           	global	_key_scan
                                           	global	_key_event_handle
                                           	global	_adc_scan_handle
                                           	global	_turn_dir_scan_handle
                                           	global	_shutdown_scan_handle
                                           	global	_low_power_scan_handle
                                           	global	_main
                                           	global	_int_isr
                                           	global	_key_event
                                           	global	_mode_flag
                                           	global	_key_press_flag
                                           	global	_i
                                           	global	_adc_val
                                           	global	_turn_dir_ms_cnt
                                           	global	_shut_down_ms_cnt
                                           	global	_adc_bat_val
                                           	global	_adc_charging_val
                                           	global	_max_pwm_val
                                           	global	_last_pwm_val
                                           	global	_tmp_val
                                           	global	_tmp_val_l
                                           	global	_tmp_val_cnt
                                           	global	_flag_bat_is_empty
                                           	global	_tmp_bat_val
                                           	global	_over_charging_cnt
                                           	global	_full_charge_cnt
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_flag1
                                           	global	_flag2
                                           	global	_flag3
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0000
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC32P7351_0	udata
                                           _key_event	res	1
                                           
                                           UD_MC32P7351_1	udata
                                           _mode_flag	res	1
                                           
                                           UD_MC32P7351_2	udata
                                           _key_press_flag	res	1
                                           
                                           UD_MC32P7351_3	udata
                                           _i	res	1
                                           
                                           UD_MC32P7351_4	udata
                                           _adc_val	res	2
                                           
                                           UD_MC32P7351_5	udata
                                           _turn_dir_ms_cnt	res	4
                                           
                                           UD_MC32P7351_6	udata
                                           _shut_down_ms_cnt	res	4
                                           
                                           UD_MC32P7351_7	udata
                                           _adc_bat_val	res	4
                                           
                                           UD_MC32P7351_8	udata
                                           _adc_charging_val	res	2
                                           
                                           UD_MC32P7351_9	udata
                                           _max_pwm_val	res	4
                                           
                                           UD_MC32P7351_10	udata
                                           _last_pwm_val	res	2
                                           
                                           UD_MC32P7351_11	udata
                                           _tmp_val	res	2
                                           
                                           UD_MC32P7351_12	udata
                                           _tmp_val_l	res	16
                                           
                                           UD_MC32P7351_13	udata
                                           _tmp_val_cnt	res	1
                                           
                                           UD_MC32P7351_14	udata
                                           _flag_bat_is_empty	res	1
                                           
                                           UD_MC32P7351_15	udata
                                           _tmp_bat_val	res	2
                                           
                                           UD_MC32P7351_16	udata
                                           _over_charging_cnt	res	1
                                           
                                           UD_MC32P7351_17	udata
                                           _full_charge_cnt	res	1
                                           
                                           UD_MC32P7351_18	udata
                                           _abuf	res	1
                                           
                                           UD_MC32P7351_19	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC32P7351_20	udata
                                           _flag1	res	1
                                           
                                           UD_MC32P7351_21	udata
                                           _flag2	res	1
                                           
                                           UD_MC32P7351_22	udata
                                           _flag3	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC32P7351_0	udata
                                           r0x104D	res	1
                                           r0x104C	res	1
                                           r0x104E	res	1
                                           r0x104F	res	1
                                           r0x1050	res	1
                                           r0x1051	res	1
                                           r0x1052	res	1
                                           r0x1053	res	1
                                           r0x1054	res	1
                                           r0x1055	res	1
                                           r0x1056	res	1
                                           r0x1058	res	1
                                           r0x1057	res	1
                                           r0x1059	res	1
                                           r0x105A	res	1
                                           r0x105B	res	1
                                           r0x105C	res	1
                                           r0x105E	res	1
                                           r0x105D	res	1
                                           r0x105F	res	1
                                           r0x1060	res	1
                                           r0x1061	res	1
                                           r0x1062	res	1
                                           r0x1063	res	1
                                           r0x1064	res	1
                                           r0x1065	res	1
                                           r0x1066	res	1
                                           _key_scan_cur_key_id_65536_35	res	1
                                           _key_scan_filter_cnt_65536_35	res	1
                                           _key_scan_filter_key_id_65536_35	res	1
                                           _key_scan_press_cnt_65536_35	res	1
                                           _key_scan_flag_is_key_mode_hold_65536_35	res	1
                                           _key_scan_last_key_id_65536_35	res	1
                                           _adc_scan_handle_cnt_65536_100	res	1
                                           _adc_scan_handle_need_charge_cnt_65536_100	res	1
                                           _int_isr___1ms_cnt_196608_241	res	1
                                           _int_isr_key_scan_cnt_327680_243	res	1
                                           _int_isr_low_bat_cnt_327680_246	res	2
                                           _int_isr_shut_down_bat_cnt_327680_250	res	2
                                           _int_isr_update_current_time_cnt_327680_254	res	2
                                           _int_isr_cnt_327680_258	res	2
                                           _led_state	res	1
                                           _pwm_counter	res	2
                                           _breath_counter	res	1
                                           _pwm_duty	res	1
                                           _breath_direction	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms delay_ms                  Allocated to registers ;size:2
                                           ;@delay_ms INDF0bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF1bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF2bits                 Allocated to registers ;size:1
                                           ;@delay_ms HIBYTEbits                Allocated to registers ;size:1
                                           ;@delay_ms FSR0bits                  Allocated to registers ;size:1
                                           ;@delay_ms FSR1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PCLbits                   Allocated to registers ;size:1
                                           ;@delay_ms PFLAGbits                 Allocated to registers ;size:1
                                           ;@delay_ms MCRbits                   Allocated to registers ;size:1
                                           ;@delay_ms INDF3bits                 Allocated to registers ;size:1
                                           ;@delay_ms INTEbits                  Allocated to registers ;size:1
                                           ;@delay_ms INTFbits                  Allocated to registers ;size:1
                                           ;@delay_ms DRVCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms PFRCCRbits                Allocated to registers ;size:1
                                           ;@delay_ms P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_ms PFRCCALbits               Allocated to registers ;size:1
                                           ;@delay_ms IOP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms IOP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T0LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T0DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T2CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T2CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T2LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T2DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T3CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T3CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T3LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM0DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM1DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM2DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1bits                Allocated to registers ;size:1
                                           ;@delay_ms OSCMRbits                 Allocated to registers ;size:1
                                           ;@delay_ms LVDCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR0bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR1bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR2bits                 Allocated to registers ;size:1
                                           ;@delay_ms OSADJCRbits               Allocated to registers ;size:1
                                           ;@delay_ms ADRHbits                  Allocated to registers ;size:1
                                           ;@delay_ms ADRLbits                  Allocated to registers ;size:1
                                           ;@delay_ms ADIOS0bits                Allocated to registers ;size:1
                                           ;@delay_ms ADIOS1bits                Allocated to registers ;size:1
                                           ;@delay_ms PMODbits                  Allocated to registers ;size:1
                                           ;@delay_ms PWMCR3bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR2bits                Allocated to registers ;size:1
                                           ;@delay_ms PFRCAUXbits               Allocated to registers ;size:1
                                           ;@delay_ms HIRCCALbits               Allocated to registers ;size:1
                                           ;@delay_ms key_event                 Allocated to registers ;size:1
                                           ;@delay_ms mode_flag                 Allocated to registers ;size:1
                                           ;@delay_ms key_press_flag            Allocated to registers ;size:1
                                           ;@delay_ms i                         Allocated to registers ;size:1
                                           ;@delay_ms adc_val                   Allocated to registers ;size:2
                                           ;@delay_ms turn_dir_ms_cnt           Allocated to registers ;size:4
                                           ;@delay_ms shut_down_ms_cnt          Allocated to registers ;size:4
                                           ;@delay_ms adc_bat_val               Allocated to registers ;size:4
                                           ;@delay_ms adc_charging_val          Allocated to registers ;size:2
                                           ;@delay_ms max_pwm_val               Allocated to registers ;size:4
                                           ;@delay_ms last_pwm_val              Allocated to registers ;size:2
                                           ;@delay_ms tmp_val                   Allocated to registers ;size:2
                                           ;@delay_ms tmp_val_l                 Allocated to registers ;size:16
                                           ;@delay_ms tmp_val_cnt               Allocated to registers ;size:1
                                           ;@delay_ms flag_bat_is_empty         Allocated to registers ;size:1
                                           ;@delay_ms tmp_bat_val               Allocated to registers ;size:2
                                           ;@delay_ms over_charging_cnt         Allocated to registers ;size:1
                                           ;@delay_ms full_charge_cnt           Allocated to registers ;size:1
                                           ;@delay_ms pwm_duty                  Allocated to registers ;size:1
                                           ;@delay_ms pwm_counter               Allocated to registers ;size:2
                                           ;@delay_ms breath_counter            Allocated to registers ;size:1
                                           ;@delay_ms breath_direction          Allocated to registers ;size:1
                                           ;@delay_ms led_state                 Allocated to registers ;size:1
                                           ;@delay_ms abuf                      Allocated to registers ;size:1
                                           ;@delay_ms statusbuf                 Allocated to registers ;size:1
                                           ;@delay_ms flag1                     Allocated to registers ;size:1
                                           ;@delay_ms flag2                     Allocated to registers ;size:1
                                           ;@delay_ms flag3                     Allocated to registers ;size:1
                                           ;@delay_ms xms                       Allocated to registers ;size:2
                                           ;@delay_ms i                         Allocated to registers r0x104E r0x104F ;size:2
                                           ;@delay_ms INDF0                     Allocated to registers ;size:1
                                           ;@delay_ms INDF1                     Allocated to registers ;size:1
                                           ;@delay_ms INDF2                     Allocated to registers ;size:1
                                           ;@delay_ms HIBYTE                    Allocated to registers ;size:1
                                           ;@delay_ms FSR0                      Allocated to registers ;size:1
                                           ;@delay_ms FSR1                      Allocated to registers ;size:1
                                           ;@delay_ms PCL                       Allocated to registers ;size:1
                                           ;@delay_ms PFLAG                     Allocated to registers ;size:1
                                           ;@delay_ms MCR                       Allocated to registers ;size:1
                                           ;@delay_ms INDF3                     Allocated to registers ;size:1
                                           ;@delay_ms INTE                      Allocated to registers ;size:1
                                           ;@delay_ms INTF                      Allocated to registers ;size:1
                                           ;@delay_ms DRVCR                     Allocated to registers ;size:1
                                           ;@delay_ms PFRCCR                    Allocated to registers ;size:1
                                           ;@delay_ms P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_ms PFRCCAL                   Allocated to registers ;size:1
                                           ;@delay_ms IOP0                      Allocated to registers ;size:1
                                           ;@delay_ms OEP0                      Allocated to registers ;size:1
                                           ;@delay_ms PUP0                      Allocated to registers ;size:1
                                           ;@delay_ms PDP0                      Allocated to registers ;size:1
                                           ;@delay_ms IOP1                      Allocated to registers ;size:1
                                           ;@delay_ms OEP1                      Allocated to registers ;size:1
                                           ;@delay_ms PUP1                      Allocated to registers ;size:1
                                           ;@delay_ms PDP1                      Allocated to registers ;size:1
                                           ;@delay_ms T0CR                      Allocated to registers ;size:1
                                           ;@delay_ms T0CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T0LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T0DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T1CR                      Allocated to registers ;size:1
                                           ;@delay_ms T1CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T1DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T2CR                      Allocated to registers ;size:1
                                           ;@delay_ms T2CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T2LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T2DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T3CR                      Allocated to registers ;size:1
                                           ;@delay_ms T3CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T3LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms PWM0DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWM1DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWM2DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1                    Allocated to registers ;size:1
                                           ;@delay_ms OSCMR                     Allocated to registers ;size:1
                                           ;@delay_ms LVDCR                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR0                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR1                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR2                     Allocated to registers ;size:1
                                           ;@delay_ms OSADJCR                   Allocated to registers ;size:1
                                           ;@delay_ms ADRH                      Allocated to registers ;size:1
                                           ;@delay_ms ADRL                      Allocated to registers ;size:1
                                           ;@delay_ms ADIOS0                    Allocated to registers ;size:1
                                           ;@delay_ms ADIOS1                    Allocated to registers ;size:1
                                           ;@delay_ms PMOD                      Allocated to registers ;size:1
                                           ;@delay_ms PWMCR3                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR2                    Allocated to registers ;size:1
                                           ;@delay_ms PFRCAUX                   Allocated to registers ;size:1
                                           ;@delay_ms HIRCCAL                   Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'CLR_RAM'
                                           ;@end Allocation info for local variables in function 'CLR_RAM';
                                           ;@Allocation info for local variables in function 'adc_config'
                                           ;@end Allocation info for local variables in function 'adc_config';
                                           ;@Allocation info for local variables in function 'adc_sel_pin'
                                           ;@adc_sel_pin adc_pin                   Allocated to registers r0x1052 ;size:1
                                           ;@end Allocation info for local variables in function 'adc_sel_pin';
                                           ;@Allocation info for local variables in function 'adc_get_val'
                                           ;@adc_get_val i                         Allocated to registers r0x1054 ;size:1
                                           ;@adc_get_val g_temp_value              Allocated to registers r0x1055 r0x1056 ;size:2
                                           ;@adc_get_val g_tmpbuff                 Allocated to registers r0x1050 r0x1051 r0x1057 r0x1059 ;size:4
                                           ;@adc_get_val g_adcmax                  Allocated to registers r0x1050 r0x1051 ;size:2
                                           ;@adc_get_val g_adcmin                  Allocated to registers r0x1052 r0x1053 ;size:2
                                           ;@end Allocation info for local variables in function 'adc_get_val';
                                           ;@Allocation info for local variables in function 'adc_get_val_once'
                                           ;@adc_get_val_once g_temp_value              Allocated to registers r0x104F r0x104E ;size:2
                                           ;@end Allocation info for local variables in function 'adc_get_val_once';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'key_scan'
                                           ;@key_scan last_key_id               Allocated to registers ;size:1
                                           ;@key_scan press_cnt                 Allocated to registers ;size:1
                                           ;@key_scan filter_cnt                Allocated to registers ;size:1
                                           ;@key_scan filter_key_id             Allocated to registers ;size:1
                                           ;@key_scan cur_key_id                Allocated to registers ;size:1
                                           ;@key_scan flag_is_key_mode_hold     Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'key_scan';
                                           ;@Allocation info for local variables in function 'key_scan'
                                           ;@key_scan last_key_id               Allocated to registers ;size:1
                                           ;@key_scan press_cnt                 Allocated to registers ;size:1
                                           ;@key_scan filter_cnt                Allocated to registers ;size:1
                                           ;@key_scan filter_key_id             Allocated to registers ;size:1
                                           ;@key_scan cur_key_id                Allocated to registers ;size:1
                                           ;@key_scan flag_is_key_mode_hold     Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'key_scan';
                                           ;@Allocation info for local variables in function 'key_event_handle'
                                           ;@end Allocation info for local variables in function 'key_event_handle';
                                           ;@Allocation info for local variables in function 'adc_scan_handle'
                                           ;@adc_scan_handle cnt                       Allocated to registers ;size:1
                                           ;@adc_scan_handle need_charge_cnt           Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'adc_scan_handle';
                                           ;@Allocation info for local variables in function 'turn_dir_scan_handle'
                                           ;@end Allocation info for local variables in function 'turn_dir_scan_handle';
                                           ;@Allocation info for local variables in function 'shutdown_scan_handle'
                                           ;@end Allocation info for local variables in function 'shutdown_scan_handle';
                                           ;@Allocation info for local variables in function 'low_power_scan_handle'
                                           ;@end Allocation info for local variables in function 'low_power_scan_handle';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@main i                         Allocated to registers r0x105B r0x105C ;size:2
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@int_isr __1ms_cnt                 Allocated to registers ;size:1
                                           ;@int_isr key_scan_cnt              Allocated to registers ;size:1
                                           ;@int_isr low_bat_cnt               Allocated to registers ;size:2
                                           ;@int_isr shut_down_bat_cnt         Allocated to registers ;size:2
                                           ;@int_isr update_current_time_cnt   Allocated to registers ;size:2
                                           ;@int_isr cnt                       Allocated to registers ;size:2
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@int_isr __1ms_cnt                 Allocated to registers ;size:1
                                           ;@int_isr key_scan_cnt              Allocated to registers ;size:1
                                           ;@int_isr low_bat_cnt               Allocated to registers ;size:2
                                           ;@int_isr shut_down_bat_cnt         Allocated to registers ;size:2
                                           ;@int_isr update_current_time_cnt   Allocated to registers ;size:2
                                           ;@int_isr cnt                       Allocated to registers ;size:2
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
                                           	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;functions called:
                                           ;   _key_scan
                                           ;   _key_scan
                                           ;2 compiler assigned registers:
                                           ;   r0x1065
                                           ;   r0x1066
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	1461; "MC32P7351.c"	__endasm;
                                           	;
                                           	movra	_abuf;
                                           	swapar	_PFLAG;
                                           	movra	_statusbuf;
                                           	
                                           ;	.line	1468; "MC32P7351.c"	if (T3IF & T3IE)
                                           	CLRR	r0x1065
                                           	JBCLR	_INTFbits,7
                                           	INCR	r0x1065
                                           	CLRR	r0x1066
                                           	JBCLR	_INTEbits,7
                                           	INCR	r0x1066
                                           	MOVAR	r0x1066
                                           	ANDRA	r0x1065
                                           	MOVAI	0x00
                                           	ORAR	r0x1065
                                           	JBCLR	PFLAG,2
                                           	GOTO	_01043_DS_
                                           ;	.line	1472; "MC32P7351.c"	__1ms_cnt++;
                                           	INCR	_int_isr___1ms_cnt_196608_241
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           ;	.line	1473; "MC32P7351.c"	if (__1ms_cnt >= 10)
                                           	MOVAI	0x0a
                                           	RSUBAR	_int_isr___1ms_cnt_196608_241
                                           	JBSET	PFLAG,0
                                           	GOTO	_01020_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1475; "MC32P7351.c"	__1ms_cnt = 0;
                                           	CLRR	_int_isr___1ms_cnt_196608_241
                                           ;	.line	1479; "MC32P7351.c"	key_scan_cnt++;
                                           	INCR	_int_isr_key_scan_cnt_327680_243
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           ;	.line	1480; "MC32P7351.c"	if (key_scan_cnt >= 10)
                                           	MOVAI	0x0a
                                           	RSUBAR	_int_isr_key_scan_cnt_327680_243
                                           	JBSET	PFLAG,0
                                           	GOTO	_00999_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1482; "MC32P7351.c"	key_scan_cnt = 0;
                                           	CLRR	_int_isr_key_scan_cnt_327680_243
                                           ;	.line	1483; "MC32P7351.c"	key_scan();
                                           	CALL	_key_scan
                                           _00999_DS_
                                           ;	.line	1487; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_01001_DS_
                                           ;	.line	1489; "MC32P7351.c"	turn_dir_ms_cnt++;  // 会在 turn_dir_scan_handle() 内处理并清零
                                           	INCR	_turn_dir_ms_cnt
                                           	JBCLR	PFLAG,2
                                           	INCR	(_turn_dir_ms_cnt + 1)
                                           	JBCLR	PFLAG,2
                                           	INCR	(_turn_dir_ms_cnt + 2)
                                           	JBCLR	PFLAG,2
                                           	INCR	(_turn_dir_ms_cnt + 3)
                                           ;	.line	1490; "MC32P7351.c"	shut_down_ms_cnt++; // 会在 shutdown_scan_handle() 内处理并清零
                                           	INCR	_shut_down_ms_cnt
                                           	JBCLR	PFLAG,2
                                           	INCR	(_shut_down_ms_cnt + 1)
                                           	JBCLR	PFLAG,2
                                           	INCR	(_shut_down_ms_cnt + 2)
                                           	JBCLR	PFLAG,2
                                           	INCR	(_shut_down_ms_cnt + 3)
                                           _01001_DS_
                                           ;	.line	1497; "MC32P7351.c"	if (flag_maybe_low_battery)
                                           	JBSET	_flag3,2
                                           	GOTO	_01005_DS_
                                           ;	.line	1499; "MC32P7351.c"	low_bat_cnt++;
                                           	INCR	_int_isr_low_bat_cnt_327680_246
                                           	JBCLR	PFLAG,2
                                           	INCR	(_int_isr_low_bat_cnt_327680_246 + 1)
                                           ;;unsigned compare: left < lit(0x1388=5000), size=2
                                           ;	.line	1501; "MC32P7351.c"	if (low_bat_cnt >= 5000) // xx ms
                                           	MOVAI	0x13
                                           	RSUBAR	(_int_isr_low_bat_cnt_327680_246 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_01128_DS_
                                           	MOVAI	0x88
                                           	RSUBAR	_int_isr_low_bat_cnt_327680_246
                                           _01128_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_01006_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1503; "MC32P7351.c"	low_bat_cnt = 0;
                                           	CLRR	_int_isr_low_bat_cnt_327680_246
                                           	CLRR	(_int_isr_low_bat_cnt_327680_246 + 1)
                                           ;	.line	1504; "MC32P7351.c"	flag_is_low_battery = 1;
                                           	BSET	_flag2,2
                                           	GOTO	_01006_DS_
                                           _01005_DS_
                                           ;	.line	1509; "MC32P7351.c"	low_bat_cnt = 0;
                                           	CLRR	_int_isr_low_bat_cnt_327680_246
                                           	CLRR	(_int_isr_low_bat_cnt_327680_246 + 1)
                                           _01006_DS_
                                           ;	.line	1528; "MC32P7351.c"	if (flag_tim_scan_maybe_shut_down)
                                           	JBSET	_flag3,3
                                           	GOTO	_01010_DS_
                                           ;	.line	1530; "MC32P7351.c"	shut_down_bat_cnt++;
                                           	INCR	_int_isr_shut_down_bat_cnt_327680_250
                                           	JBCLR	PFLAG,2
                                           	INCR	(_int_isr_shut_down_bat_cnt_327680_250 + 1)
                                           ;;unsigned compare: left < lit(0x3E8=1000), size=2
                                           ;	.line	1531; "MC32P7351.c"	if (shut_down_bat_cnt >= 1000) // xx ms
                                           	MOVAI	0x03
                                           	RSUBAR	(_int_isr_shut_down_bat_cnt_327680_250 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_01129_DS_
                                           	MOVAI	0xe8
                                           	RSUBAR	_int_isr_shut_down_bat_cnt_327680_250
                                           _01129_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_01011_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1533; "MC32P7351.c"	shut_down_bat_cnt = 0;
                                           	CLRR	_int_isr_shut_down_bat_cnt_327680_250
                                           	CLRR	(_int_isr_shut_down_bat_cnt_327680_250 + 1)
                                           ;	.line	1534; "MC32P7351.c"	flag_is_needed_shut_down = 1;
                                           	BSET	_flag3,4
                                           	GOTO	_01011_DS_
                                           _01010_DS_
                                           ;	.line	1539; "MC32P7351.c"	shut_down_bat_cnt = 0;
                                           	CLRR	_int_isr_shut_down_bat_cnt_327680_250
                                           	CLRR	(_int_isr_shut_down_bat_cnt_327680_250 + 1)
                                           ;	.line	1540; "MC32P7351.c"	flag_is_needed_shut_down = 0;
                                           	BCLR	_flag3,4
                                           _01011_DS_
                                           ;	.line	1546; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING)
                                           	JBSET	_flag1,2
                                           	GOTO	_01015_DS_
                                           ;	.line	1548; "MC32P7351.c"	update_current_time_cnt++;
                                           	INCR	_int_isr_update_current_time_cnt_327680_254
                                           	JBCLR	PFLAG,2
                                           	INCR	(_int_isr_update_current_time_cnt_327680_254 + 1)
                                           ;;unsigned compare: left < lit(0x1F4=500), size=2
                                           ;	.line	1549; "MC32P7351.c"	if (update_current_time_cnt >= 500)
                                           	MOVAI	0x01
                                           	RSUBAR	(_int_isr_update_current_time_cnt_327680_254 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_01130_DS_
                                           	MOVAI	0xf4
                                           	RSUBAR	_int_isr_update_current_time_cnt_327680_254
                                           _01130_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_01016_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1551; "MC32P7351.c"	update_current_time_cnt = 0;
                                           	CLRR	_int_isr_update_current_time_cnt_327680_254
                                           	CLRR	(_int_isr_update_current_time_cnt_327680_254 + 1)
                                           ;	.line	1552; "MC32P7351.c"	flag_is_update_current = 1;
                                           	BSET	_flag3,5
                                           	GOTO	_01016_DS_
                                           _01015_DS_
                                           ;	.line	1557; "MC32P7351.c"	FLAG_IS_IN_CHARGING = 0;
                                           	BCLR	_flag1,2
                                           _01016_DS_
                                           ;	.line	1564; "MC32P7351.c"	cnt++;
                                           	INCR	_int_isr_cnt_327680_258
                                           	JBCLR	PFLAG,2
                                           	INCR	(_int_isr_cnt_327680_258 + 1)
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x1F5=501), size=2
                                           ;	.line	1565; "MC32P7351.c"	if (cnt > 500)
                                           	MOVAI	0x01
                                           	RSUBAR	(_int_isr_cnt_327680_258 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_01131_DS_
                                           	MOVAI	0xf5
                                           	RSUBAR	_int_isr_cnt_327680_258
                                           _01131_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_01020_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1567; "MC32P7351.c"	cnt = 0;
                                           	CLRR	_int_isr_cnt_327680_258
                                           	CLRR	(_int_isr_cnt_327680_258 + 1)
                                           ;	.line	1568; "MC32P7351.c"	flag_is_adjust_pwm_time_comes = 1;
                                           	BSET	_flag3,6
                                           _01020_DS_
                                           ;	.line	1575; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING && 0 == FLAG_BAT_IS_FULL)
                                           	JBSET	_flag1,2
                                           	GOTO	_01040_DS_
                                           	JBCLR	_flag1,5
                                           	GOTO	_01040_DS_
                                           ;	.line	1578; "MC32P7351.c"	if (pwm_counter < pwm_duty)
                                           	MOVAR	_pwm_duty
                                           	MOVRA	r0x1065
                                           	CLRR	r0x1066
                                           	MOVAI	0x00
                                           	RSUBAR	(_pwm_counter + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_01132_DS_
                                           	MOVAR	r0x1065
                                           	RSUBAR	_pwm_counter
                                           _01132_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_01022_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1580; "MC32P7351.c"	led_state = 1; // LED亮
                                           	MOVAI	0x01
                                           	MOVRA	_led_state
                                           	GOTO	_01023_DS_
                                           _01022_DS_
                                           ;	.line	1584; "MC32P7351.c"	led_state = 0; // LED灭
                                           	CLRR	_led_state
                                           _01023_DS_
                                           ;	.line	1588; "MC32P7351.c"	pwm_counter++;
                                           	INCR	_pwm_counter
                                           	JBCLR	PFLAG,2
                                           	INCR	(_pwm_counter + 1)
                                           ;;unsigned compare: left < lit(0x64=100), size=2
                                           ;	.line	1589; "MC32P7351.c"	if (pwm_counter >= PWM_MAX_LEVEL)
                                           	MOVAI	0x00
                                           	RSUBAR	(_pwm_counter + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_01133_DS_
                                           	MOVAI	0x64
                                           	RSUBAR	_pwm_counter
                                           _01133_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_01025_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1591; "MC32P7351.c"	pwm_counter = 0;
                                           	CLRR	_pwm_counter
                                           	CLRR	(_pwm_counter + 1)
                                           _01025_DS_
                                           ;	.line	1595; "MC32P7351.c"	breath_counter++;
                                           	INCR	_breath_counter
                                           ;;unsigned compare: left < lit(0xC8=200), size=1
                                           ;	.line	1596; "MC32P7351.c"	if (breath_counter >= BREATH_PERIOD)
                                           	MOVAI	0xc8
                                           	RSUBAR	_breath_counter
                                           	JBSET	PFLAG,0
                                           	GOTO	_01035_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1598; "MC32P7351.c"	breath_counter = 0;
                                           	CLRR	_breath_counter
                                           ;	.line	1601; "MC32P7351.c"	if (breath_direction == 0)
                                           	MOVAI	0x00
                                           	ORAR	_breath_direction
                                           	JBSET	PFLAG,2
                                           	GOTO	_01032_DS_
                                           ;	.line	1604; "MC32P7351.c"	pwm_duty++;
                                           	INCR	_pwm_duty
                                           ;;unsigned compare: left < lit(0x64=100), size=1
                                           ;	.line	1605; "MC32P7351.c"	if (pwm_duty >= PWM_MAX_LEVEL)
                                           	MOVAI	0x64
                                           	RSUBAR	_pwm_duty
                                           	JBSET	PFLAG,0
                                           	GOTO	_01035_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1607; "MC32P7351.c"	pwm_duty = PWM_MAX_LEVEL;
                                           	MOVAI	0x64
                                           	MOVRA	_pwm_duty
                                           ;	.line	1608; "MC32P7351.c"	breath_direction = 1; // 切换到渐暗
                                           	MOVAI	0x01
                                           	MOVRA	_breath_direction
                                           	GOTO	_01035_DS_
                                           _01032_DS_
                                           ;	.line	1614; "MC32P7351.c"	if (pwm_duty > 0)
                                           	MOVAI	0x00
                                           	ORAR	_pwm_duty
                                           	JBCLR	PFLAG,2
                                           	GOTO	_01029_DS_
                                           ;	.line	1616; "MC32P7351.c"	pwm_duty--;
                                           	DECR	_pwm_duty
                                           	GOTO	_01035_DS_
                                           _01029_DS_
                                           ;	.line	1620; "MC32P7351.c"	pwm_duty = 0;
                                           	CLRR	_pwm_duty
                                           ;	.line	1621; "MC32P7351.c"	breath_direction = 0; // 切换到渐亮
                                           	CLRR	_breath_direction
                                           _01035_DS_
                                           ;	.line	1628; "MC32P7351.c"	if (led_state)
                                           	MOVAI	0x00
                                           	ORAR	_led_state
                                           	JBCLR	PFLAG,2
                                           	GOTO	_01037_DS_
                                           ;	.line	1630; "MC32P7351.c"	LED_CHARGING_PIN = LED_ON;
                                           	BCLR	_IOP0bits,4
                                           	GOTO	_01040_DS_
                                           _01037_DS_
                                           ;	.line	1634; "MC32P7351.c"	LED_CHARGING_PIN = LED_OFF;
                                           	BSET	_IOP0bits,4
                                           _01040_DS_
                                           ;	.line	1638; "MC32P7351.c"	T3IF = 0;
                                           	BCLR	_INTFbits,7
                                           _01043_DS_
                                           ;	.line	1646; "MC32P7351.c"	__endasm;
                                           	;
                                           	swapar	_statusbuf;
                                           	movra	_PFLAG;
                                           	swapr	_abuf;
                                           	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	1647; "MC32P7351.c"	}
                                           	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC32P7351	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _adc_scan_handle
                                           ;   _turn_dir_scan_handle
                                           ;   _shutdown_scan_handle
                                           ;   __mullong
                                           ;   __divulong
                                           ;   __mullong
                                           ;   __mullong
                                           ;   __divulong
                                           ;   __divulong
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _delay_ms
                                           ;   _low_power_scan_handle
                                           ;   _Sys_Init
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _adc_scan_handle
                                           ;   _turn_dir_scan_handle
                                           ;   _shutdown_scan_handle
                                           ;   __mullong
                                           ;   __divulong
                                           ;   __mullong
                                           ;   __mullong
                                           ;   __divulong
                                           ;   __divulong
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _delay_ms
                                           ;   _key_event_handle
                                           ;   _delay_ms
                                           ;   _low_power_scan_handle
                                           ;17 compiler assigned registers:
                                           ;   STK00
                                           ;   r0x105B
                                           ;   r0x105C
                                           ;   STK06
                                           ;   STK05
                                           ;   STK04
                                           ;   STK03
                                           ;   STK02
                                           ;   STK01
                                           ;   r0x105D
                                           ;   r0x105E
                                           ;   r0x105F
                                           ;   r0x1060
                                           ;   r0x1061
                                           ;   r0x1062
                                           ;   r0x1063
                                           ;   r0x1064
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	1088; "MC32P7351.c"	Sys_Init();
                                           	CALL	_Sys_Init
                                           ;	.line	1095; "MC32P7351.c"	PWM2EC = 1; // 打开控制升压电路的pwm
                                           	BSET	_T2CRbits,6
                                           ;	.line	1096; "MC32P7351.c"	T2DATA = 100;
                                           	MOVAI	0x64
                                           	MOVRA	_T2DATA
                                           ;	.line	1097; "MC32P7351.c"	adc_sel_pin(ADC_PIN_P02_AN1); // 切换到检测电池降压后的电压的检测引脚
                                           	MOVAI	0x02
                                           	CALL	_adc_sel_pin
                                           ;	.line	1098; "MC32P7351.c"	for (i = 0; i < 10; i++)      // 每55ms进入一次，循环内每次间隔约4.8ms
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00865_DS_
                                           	MOVAI	0x0a
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00807_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1100; "MC32P7351.c"	adc_val = adc_get_val();
                                           	CALL	_adc_get_val
                                           	MOVRA	(_adc_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_adc_val
                                           ;;unsigned compare: left < lit(0xF52=3922), size=2
                                           ;	.line	1101; "MC32P7351.c"	if (adc_val >= ADCDETECT_BAT_FULL + ADCDETECT_BAT_NULL_EX)
                                           	MOVAI	0x0f
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00982_DS_
                                           	MOVAI	0x52
                                           	RSUBAR	_adc_val
                                           _00982_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00866_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1103; "MC32P7351.c"	flag_bat_is_empty = 1;
                                           	MOVAI	0x01
                                           	MOVRA	_flag_bat_is_empty
                                           ;	.line	1104; "MC32P7351.c"	FLAG_DURING_CHARGING_BAT_IS_NULL = 1; // 标志位置一，在主循环让绿灯快闪
                                           	BSET	_flag1,7
                                           _00866_DS_
                                           ;	.line	1098; "MC32P7351.c"	for (i = 0; i < 10; i++)      // 每55ms进入一次，循环内每次间隔约4.8ms
                                           	INCR	_i
                                           	GOTO	_00865_DS_
                                           _00807_DS_
                                           ;	.line	1107; "MC32P7351.c"	PWM2EC = 0; // 关闭控制升压电路的pwm
                                           	BCLR	_T2CRbits,6
                                           ;	.line	1108; "MC32P7351.c"	T2DATA = 0;
                                           	CLRR	_T2DATA
                                           _00862_DS_
                                           ;	.line	1117; "MC32P7351.c"	if (flag_bat_is_empty)
                                           	MOVAI	0x00
                                           	ORAR	_flag_bat_is_empty
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00809_DS_
                                           ;	.line	1120; "MC32P7351.c"	LED_CHARGING_PIN = LED_ON;
                                           	BCLR	_IOP0bits,4
                                           ;	.line	1121; "MC32P7351.c"	delay_ms(500);
                                           	MOVAI	0xf4
                                           	MOVRA	STK00
                                           	MOVAI	0x01
                                           	CALL	_delay_ms
                                           ;	.line	1122; "MC32P7351.c"	LED_CHARGING_PIN = LED_OFF;
                                           	BSET	_IOP0bits,4
                                           ;	.line	1123; "MC32P7351.c"	delay_ms(500);
                                           	MOVAI	0xf4
                                           	MOVRA	STK00
                                           	MOVAI	0x01
                                           	CALL	_delay_ms
                                           ;	.line	1124; "MC32P7351.c"	continue;
                                           	GOTO	_00862_DS_
                                           _00809_DS_
                                           ;	.line	1128; "MC32P7351.c"	key_event_handle(); // 按键事件处理函数，扫描在中断服务函数内执行
                                           	CALL	_key_event_handle
                                           ;	.line	1129; "MC32P7351.c"	adc_scan_handle();  // 充电扫描和处理函数(约占用89ms)
                                           	CALL	_adc_scan_handle
                                           ;	.line	1131; "MC32P7351.c"	turn_dir_scan_handle();
                                           	CALL	_turn_dir_scan_handle
                                           ;	.line	1132; "MC32P7351.c"	shutdown_scan_handle(); // 自动关机检测和处理函数
                                           	CALL	_shutdown_scan_handle
                                           ;	.line	1136; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING)
                                           	JBSET	_flag1,2
                                           	GOTO	_00846_DS_
                                           ;	.line	1138; "MC32P7351.c"	last_pwm_val = T2DATA;      // 读出上一次PWM占空比对应的值
                                           	MOVAR	_T2DATA
                                           	MOVRA	_last_pwm_val
                                           	CLRR	(_last_pwm_val + 1)
                                           ;	.line	1139; "MC32P7351.c"	max_pwm_val = (T2LOAD + 1); // 读出PWM占空比设定的、最大的值
                                           	MOVAR	_T2LOAD
                                           	MOVRA	r0x105B
                                           	CLRR	r0x105C
                                           	MOVAI	0x01
                                           	ADDAR	r0x105B
                                           	MOVRA	_max_pwm_val
                                           	CLRR	(_max_pwm_val + 1)
                                           	RLR	(_max_pwm_val + 1)
                                           	MOVAI	0x00
                                           	ADDRA	(_max_pwm_val + 1)
                                           	CLRR	(_max_pwm_val + 2)
                                           	CLRR	(_max_pwm_val + 3)
                                           ;	.line	1161; "MC32P7351.c"	tmp_bat_val = adc_bat_val;
                                           	MOVAR	_adc_bat_val
                                           	MOVRA	_tmp_bat_val
                                           	MOVAR	(_adc_bat_val + 1)
                                           	MOVRA	(_tmp_bat_val + 1)
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xB16=2838), size=4
                                           ;	.line	1162; "MC32P7351.c"	if (adc_bat_val <= 2837) // 如果检测电池电压小于 6.5V
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00983_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00983_DS_
                                           	MOVAI	0x0b
                                           	RSUBAR	(_adc_bat_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00983_DS_
                                           	MOVAI	0x16
                                           	RSUBAR	_adc_bat_val
                                           _00983_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00820_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1165; "MC32P7351.c"	tmp_bat_val += 70; /* 6.25--1.02，6.35--1.08 */
                                           	MOVAI	0x46
                                           	ADDRA	_tmp_bat_val
                                           	JBCLR	PFLAG,0
                                           	INCR	(_tmp_bat_val + 1)
                                           	GOTO	_00821_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xBF1=3057), size=4
                                           _00820_DS_
                                           ;	.line	1167; "MC32P7351.c"	else if (adc_bat_val <= 3056) // 如果检测电池电压小于 7.0V
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00984_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00984_DS_
                                           	MOVAI	0x0b
                                           	RSUBAR	(_adc_bat_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00984_DS_
                                           	MOVAI	0xf1
                                           	RSUBAR	_adc_bat_val
                                           _00984_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00817_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1170; "MC32P7351.c"	tmp_bat_val += 50; // 6.64--1.01，6.70--1.03，6.80--1.028，6.90--1.10
                                           	MOVAI	0x32
                                           	ADDRA	_tmp_bat_val
                                           	JBCLR	PFLAG,0
                                           	INCR	(_tmp_bat_val + 1)
                                           	GOTO	_00821_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xC75=3189), size=4
                                           _00817_DS_
                                           ;	.line	1173; "MC32P7351.c"	else if (adc_bat_val <= 3188) // 如果检测电池电压小于 7.3V
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00985_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00985_DS_
                                           	MOVAI	0x0c
                                           	RSUBAR	(_adc_bat_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00985_DS_
                                           	MOVAI	0x75
                                           	RSUBAR	_adc_bat_val
                                           _00985_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00814_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1176; "MC32P7351.c"	tmp_bat_val += 35; // 7.20--1.08，7.25--1.04
                                           	MOVAI	0x23
                                           	ADDRA	_tmp_bat_val
                                           	JBCLR	PFLAG,0
                                           	INCR	(_tmp_bat_val + 1)
                                           	GOTO	_00821_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xCFF=3327), size=4
                                           _00814_DS_
                                           ;	.line	1180; "MC32P7351.c"	else if (adc_bat_val <= 3326) // 如果检测电池电压小于 7.62V
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00986_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00986_DS_
                                           	MOVAI	0x0c
                                           	RSUBAR	(_adc_bat_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00986_DS_
                                           	MOVAI	0xff
                                           	RSUBAR	_adc_bat_val
                                           _00986_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00811_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1183; "MC32P7351.c"	tmp_bat_val += 20; // 7.33--0.991，7.37--1.03，7.40--1.021，7.50--1.05
                                           	MOVAI	0x14
                                           	ADDRA	_tmp_bat_val
                                           	JBCLR	PFLAG,0
                                           	INCR	(_tmp_bat_val + 1)
                                           	GOTO	_00821_DS_
                                           _00811_DS_
                                           ;	.line	1193; "MC32P7351.c"	tmp_bat_val += 15; 
                                           	MOVAI	0x0f
                                           	ADDRA	_tmp_bat_val
                                           	JBCLR	PFLAG,0
                                           	INCR	(_tmp_bat_val + 1)
                                           ;	.line	1204; "MC32P7351.c"	tmp_bat_val -= ((u32)adc_bat_val * 157 / 1000 - 522);
                                           	MOVAR	_adc_bat_val
                                           	MOVRA	STK06
                                           	MOVAR	(_adc_bat_val + 1)
                                           	MOVRA	STK05
                                           	MOVAR	(_adc_bat_val + 2)
                                           	MOVRA	STK04
                                           	MOVAR	(_adc_bat_val + 3)
                                           	MOVRA	STK03
                                           	MOVAI	0x9d
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	__mullong
                                           	MOVRA	r0x105D
                                           	MOVAR	STK00
                                           	MOVRA	r0x105E
                                           	MOVAR	STK01
                                           	MOVRA	r0x105C
                                           	MOVAR	STK02
                                           	MOVRA	r0x105B
                                           	MOVAI	0xe8
                                           	MOVRA	STK06
                                           	MOVAI	0x03
                                           	MOVRA	STK05
                                           	MOVAI	0x00
                                           	MOVRA	STK04
                                           	MOVAI	0x00
                                           	MOVRA	STK03
                                           	MOVAR	r0x105B
                                           	MOVRA	STK02
                                           	MOVAR	r0x105C
                                           	MOVRA	STK01
                                           	MOVAR	r0x105E
                                           	MOVRA	STK00
                                           	MOVAR	r0x105D
                                           	CALL	__divulong
                                           	MOVRA	r0x105D
                                           	MOVAR	STK00
                                           	MOVRA	r0x105E
                                           	MOVAR	STK01
                                           	MOVRA	r0x1060
                                           	MOVRA	r0x105C
                                           	MOVAR	STK02
                                           	MOVRA	r0x105F
                                           	MOVRA	r0x105B
                                           ;;124	MOVAR	r0x105B
                                           ;;125	MOVAR	r0x105C
                                           	MOVAI	0xf6
                                           	ADDAR	r0x105F
                                           	MOVRA	r0x105B
                                           	MOVAI	0xfd
                                           	MOVRA	r0x105C
                                           	MOVAR	r0x1060
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x1060
                                           	ADDRA	r0x105C
                                           	MOVAR	r0x105B
                                           	RSUBRA	_tmp_bat_val
                                           	MOVAR	r0x105C
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x105C
                                           	RSUBRA	(_tmp_bat_val + 1)
                                           _00821_DS_
                                           ;	.line	1208; "MC32P7351.c"	tmp_bat_val += 80;
                                           	MOVAI	0x50
                                           	ADDRA	_tmp_bat_val
                                           	JBCLR	PFLAG,0
                                           	INCR	(_tmp_bat_val + 1)
                                           ;;unsigned compare: left < lit(0xE27=3623), size=4
                                           ;	.line	1212; "MC32P7351.c"	if (adc_bat_val >= 3623) // 8.30V及以上 , 降低电流
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00987_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	(_adc_bat_val + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00987_DS_
                                           	MOVAI	0x0e
                                           	RSUBAR	(_adc_bat_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00987_DS_
                                           	MOVAI	0x27
                                           	RSUBAR	_adc_bat_val
                                           _00987_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00826_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1223; "MC32P7351.c"	for (i = 0; i < 120; i++) // 8.32--0.737，8.34--0.725
                                           	CLRR	r0x105B
                                           	CLRR	r0x105C
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x3=3), size=2
                                           _00867_DS_
                                           ;	.line	1225; "MC32P7351.c"	if (tmp_bat_val > 2)
                                           	MOVAI	0x00
                                           	RSUBAR	(_tmp_bat_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00988_DS_
                                           	MOVAI	0x03
                                           	RSUBAR	_tmp_bat_val
                                           _00988_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00868_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1227; "MC32P7351.c"	tmp_bat_val--;
                                           	MOVAI	0xff
                                           	ADDRA	_tmp_bat_val
                                           	JBSET	PFLAG,0
                                           	DECR	(_tmp_bat_val + 1)
                                           _00868_DS_
                                           ;	.line	1223; "MC32P7351.c"	for (i = 0; i < 120; i++) // 8.32--0.737，8.34--0.725
                                           	INCR	r0x105B
                                           	JBCLR	PFLAG,2
                                           	INCR	r0x105C
                                           ;;unsigned compare: left < lit(0x78=120), size=2
                                           	MOVAI	0x00
                                           	RSUBAR	r0x105C
                                           	JBSET	PFLAG,2
                                           	GOTO	_00989_DS_
                                           	MOVAI	0x78
                                           	RSUBAR	r0x105B
                                           _00989_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00867_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00826_DS_
                                           ;	.line	1261; "MC32P7351.c"	tmp_val = max_pwm_val - (adc_charging_val * max_pwm_val * 94 / 147) / tmp_bat_val;
                                           	MOVAR	_adc_charging_val
                                           	MOVRA	r0x105B
                                           	MOVAR	(_adc_charging_val + 1)
                                           	MOVRA	r0x105C
                                           	CLRR	r0x105F
                                           	CLRR	r0x1060
                                           	MOVAR	_max_pwm_val
                                           	MOVRA	STK06
                                           	MOVAR	(_max_pwm_val + 1)
                                           	MOVRA	STK05
                                           	MOVAR	(_max_pwm_val + 2)
                                           	MOVRA	STK04
                                           	MOVAR	(_max_pwm_val + 3)
                                           	MOVRA	STK03
                                           	MOVAR	r0x105B
                                           	MOVRA	STK02
                                           	MOVAR	r0x105C
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	__mullong
                                           	MOVRA	r0x1060
                                           	MOVAR	STK00
                                           	MOVRA	r0x105F
                                           	MOVAR	STK01
                                           	MOVRA	r0x105C
                                           	MOVAR	STK02
                                           	MOVRA	r0x105B
                                           	MOVAR	r0x105B
                                           	MOVRA	STK06
                                           	MOVAR	r0x105C
                                           	MOVRA	STK05
                                           	MOVAR	r0x105F
                                           	MOVRA	STK04
                                           	MOVAR	r0x1060
                                           	MOVRA	STK03
                                           	MOVAI	0x5e
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	__mullong
                                           	MOVRA	r0x1060
                                           	MOVAR	STK00
                                           	MOVRA	r0x105F
                                           	MOVAR	STK01
                                           	MOVRA	r0x105C
                                           	MOVAR	STK02
                                           	MOVRA	r0x105B
                                           	MOVAI	0x93
                                           	MOVRA	STK06
                                           	MOVAI	0x00
                                           	MOVRA	STK05
                                           	MOVAI	0x00
                                           	MOVRA	STK04
                                           	MOVAI	0x00
                                           	MOVRA	STK03
                                           	MOVAR	r0x105B
                                           	MOVRA	STK02
                                           	MOVAR	r0x105C
                                           	MOVRA	STK01
                                           	MOVAR	r0x105F
                                           	MOVRA	STK00
                                           	MOVAR	r0x1060
                                           	CALL	__divulong
                                           	MOVRA	r0x1060
                                           	MOVAR	STK00
                                           	MOVRA	r0x105F
                                           	MOVAR	STK01
                                           	MOVRA	r0x105C
                                           	MOVAR	STK02
                                           	MOVRA	r0x105B
                                           	MOVAR	_tmp_bat_val
                                           	MOVRA	r0x1061
                                           	MOVAR	(_tmp_bat_val + 1)
                                           	MOVRA	r0x1062
                                           	CLRR	r0x1063
                                           	CLRR	r0x1064
                                           	MOVAR	r0x1061
                                           	MOVRA	STK06
                                           	MOVAR	r0x1062
                                           	MOVRA	STK05
                                           	MOVAI	0x00
                                           	MOVRA	STK04
                                           	MOVAI	0x00
                                           	MOVRA	STK03
                                           	MOVAR	r0x105B
                                           	MOVRA	STK02
                                           	MOVAR	r0x105C
                                           	MOVRA	STK01
                                           	MOVAR	r0x105F
                                           	MOVRA	STK00
                                           	MOVAR	r0x1060
                                           	CALL	__divulong
                                           	MOVRA	r0x1060
                                           	MOVAR	STK00
                                           	MOVRA	r0x105F
                                           	MOVAR	STK01
                                           	MOVRA	r0x1064
                                           	MOVRA	r0x105C
                                           	MOVAR	STK02
                                           	MOVRA	r0x1063
                                           	MOVRA	r0x105B
                                           	MOVAR	_max_pwm_val
                                           	MOVRA	r0x1061
                                           	MOVAR	(_max_pwm_val + 1)
                                           	MOVRA	r0x1062
                                           ;;121	MOVAR	r0x105B
                                           ;;122	MOVAR	r0x105C
                                           	MOVAR	r0x1063
                                           	RSUBAR	r0x1061
                                           	MOVRA	_tmp_val
                                           	MOVAR	r0x1064
                                           	JBSET	PFLAG,0
                                           	INCAR	r0x1064
                                           	RSUBAR	r0x1062
                                           	MOVRA	(_tmp_val + 1)
                                           ;	.line	1266; "MC32P7351.c"	if (tmp_val >= max_pwm_val)
                                           	MOVAR	_tmp_val
                                           	MOVRA	r0x105B
                                           	MOVAR	(_tmp_val + 1)
                                           	MOVRA	r0x105C
                                           	CLRR	r0x105F
                                           	CLRR	r0x1060
                                           	MOVAR	(_max_pwm_val + 3)
                                           	RSUBAR	r0x1060
                                           	JBSET	PFLAG,2
                                           	GOTO	_00990_DS_
                                           	MOVAR	(_max_pwm_val + 2)
                                           	RSUBAR	r0x105F
                                           	JBSET	PFLAG,2
                                           	GOTO	_00990_DS_
                                           	MOVAR	(_max_pwm_val + 1)
                                           	RSUBAR	r0x105C
                                           	JBSET	PFLAG,2
                                           	GOTO	_00990_DS_
                                           	MOVAR	_max_pwm_val
                                           	RSUBAR	r0x105B
                                           _00990_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00828_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1269; "MC32P7351.c"	tmp_val = 0;
                                           	CLRR	_tmp_val
                                           	CLRR	(_tmp_val + 1)
                                           _00828_DS_
                                           ;	.line	1273; "MC32P7351.c"	tmp_val_cnt++;
                                           	INCR	_tmp_val_cnt
                                           ;	.line	1274; "MC32P7351.c"	tmp_val_cnt &= 0x07;
                                           	MOVAI	0x07
                                           	ANDRA	_tmp_val_cnt
                                           ;	.line	1275; "MC32P7351.c"	tmp_val_l[tmp_val_cnt] = (tmp_val_l[tmp_val_cnt] + tmp_val) >> 1;
                                           	BCLR	PFLAG,0
                                           	RLAR	_tmp_val_cnt
                                           	MOVRA	r0x105B
                                           	MOVAR	r0x105B
                                           	ADDAI	(_tmp_val_l + 0)
                                           	MOVRA	r0x105B
                                           	MOVAI	high (_tmp_val_l + 0)
                                           	JBCLR	PFLAG,0
                                           	ADDAI	0x01
                                           	MOVRA	r0x105C
                                           	BCLR	PFLAG,0
                                           	RLAR	_tmp_val_cnt
                                           	MOVRA	r0x105F
                                           	MOVAR	r0x105F
                                           	ADDAI	(_tmp_val_l + 0)
                                           	MOVRA	r0x105F
                                           	MOVAI	high (_tmp_val_l + 0)
                                           	JBCLR	PFLAG,0
                                           	ADDAI	0x01
                                           	MOVRA	r0x1060
                                           	MOVAR	r0x105F
                                           	MOVRA	FSR0
                                           	MOVAR	r0x1060
                                           	MOVRA	FSR1
                                           	MOVAR	INDF2
                                           	MOVRA	r0x1061
                                           	INCR	FSR0
                                           	JBCLR	PFLAG,2
                                           	INCR	FSR1
                                           	MOVAR	INDF2
                                           	MOVRA	r0x1060
                                           	MOVRA	r0x1062
                                           	MOVAR	_tmp_val
                                           	ADDAR	r0x1061
                                           	MOVRA	r0x105F
                                           ;;123	MOVAR	r0x1062
                                           	MOVAR	(_tmp_val + 1)
                                           	JBCLR	PFLAG,0
                                           	JZAR	(_tmp_val + 1)
                                           	ADDRA	r0x1060
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=0, offr=0
                                           	BCLR	PFLAG,0
                                           	RRAR	r0x1060
                                           	MOVRA	r0x1062
                                           	RRAR	r0x105F
                                           	MOVRA	r0x1061
                                           	MOVAR	r0x105B
                                           	MOVRA	FSR0
                                           	MOVAR	r0x105C
                                           	MOVRA	FSR1
                                           	MOVAR	r0x1061
                                           	MOVRA	INDF2
                                           	INCR	FSR0
                                           	JBCLR	PFLAG,2
                                           	INCR	FSR1
                                           	MOVAR	r0x1062
                                           	MOVRA	INDF2
                                           ;	.line	1276; "MC32P7351.c"	tmp_val = 0;
                                           	CLRR	_tmp_val
                                           	CLRR	(_tmp_val + 1)
                                           ;	.line	1277; "MC32P7351.c"	for (i = 0; i < 8; i++)
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00870_DS_
                                           	MOVAI	0x08
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00829_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1279; "MC32P7351.c"	tmp_val += tmp_val_l[i];
                                           	BCLR	PFLAG,0
                                           	RLAR	_i
                                           	MOVRA	r0x105B
                                           	MOVAR	r0x105B
                                           	ADDAI	(_tmp_val_l + 0)
                                           	MOVRA	r0x105B
                                           	MOVAI	high (_tmp_val_l + 0)
                                           	JBCLR	PFLAG,0
                                           	ADDAI	0x01
                                           	MOVRA	r0x105C
                                           	MOVAR	r0x105B
                                           	MOVRA	FSR0
                                           	MOVAR	r0x105C
                                           	MOVRA	FSR1
                                           	MOVAR	INDF2
                                           	MOVRA	r0x105F
                                           	INCR	FSR0
                                           	JBCLR	PFLAG,2
                                           	INCR	FSR1
                                           	MOVAR	INDF2
                                           	MOVRA	r0x1060
                                           	MOVAR	r0x105F
                                           	ADDRA	_tmp_val
                                           	MOVAR	r0x1060
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x1060
                                           	ADDRA	(_tmp_val + 1)
                                           ;	.line	1277; "MC32P7351.c"	for (i = 0; i < 8; i++)
                                           	INCR	_i
                                           	GOTO	_00870_DS_
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=1, offr=0
                                           _00829_DS_
                                           ;	.line	1281; "MC32P7351.c"	tmp_val >>= 3;
                                           	BCLR	PFLAG,0
                                           	RRR	(_tmp_val + 1)
                                           	RRR	_tmp_val
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=1, offr=0
                                           	BCLR	PFLAG,0
                                           	RRR	(_tmp_val + 1)
                                           	RRR	_tmp_val
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=1, offr=0
                                           	BCLR	PFLAG,0
                                           	RRR	(_tmp_val + 1)
                                           	RRR	_tmp_val
                                           ;	.line	1319; "MC32P7351.c"	if (flag_is_adjust_pwm_time_comes)
                                           	JBSET	_flag3,6
                                           	GOTO	_00836_DS_
                                           ;	.line	1321; "MC32P7351.c"	flag_is_adjust_pwm_time_comes = 0;
                                           	BCLR	_flag3,6
                                           ;	.line	1323; "MC32P7351.c"	if (tmp_val > last_pwm_val)
                                           	MOVAR	(_tmp_val + 1)
                                           	RSUBAR	(_last_pwm_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00992_DS_
                                           	MOVAR	_tmp_val
                                           	RSUBAR	_last_pwm_val
                                           _00992_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00833_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1328; "MC32P7351.c"	last_pwm_val++;
                                           	INCR	_last_pwm_val
                                           	JBCLR	PFLAG,2
                                           	INCR	(_last_pwm_val + 1)
                                           	GOTO	_00836_DS_
                                           _00833_DS_
                                           ;	.line	1332; "MC32P7351.c"	else if (tmp_val < last_pwm_val)
                                           	MOVAR	(_last_pwm_val + 1)
                                           	RSUBAR	(_tmp_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00993_DS_
                                           	MOVAR	_last_pwm_val
                                           	RSUBAR	_tmp_val
                                           _00993_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00836_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1337; "MC32P7351.c"	last_pwm_val--;
                                           	MOVAI	0xff
                                           	ADDRA	_last_pwm_val
                                           	JBSET	PFLAG,0
                                           	DECR	(_last_pwm_val + 1)
                                           _00836_DS_
                                           ;	.line	1398; "MC32P7351.c"	T2DATA = last_pwm_val;
                                           	MOVAR	_last_pwm_val
                                           	MOVRA	_T2DATA
                                           	GOTO	_00847_DS_
                                           _00846_DS_
                                           ;	.line	1403; "MC32P7351.c"	if (FLAG_DURING_CHARGING_BAT_IS_NULL)
                                           	JBSET	_flag1,7
                                           	GOTO	_00847_DS_
                                           ;	.line	1406; "MC32P7351.c"	LED_FULL_CHARGE_ON();
                                           	BCLR	_IOP0bits,3
                                           ;	.line	1407; "MC32P7351.c"	delay_ms(200);
                                           	MOVAI	0xc8
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	1408; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
                                           	BSET	_IOP0bits,3
                                           ;	.line	1409; "MC32P7351.c"	delay_ms(200);
                                           	MOVAI	0xc8
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           _00847_DS_
                                           ;	.line	1413; "MC32P7351.c"	if (flag_is_low_battery)
                                           	JBSET	_flag2,2
                                           	GOTO	_00860_DS_
                                           ;	.line	1415; "MC32P7351.c"	LED_WORKING_OFF();
                                           	BSET	_IOP1bits,4
                                           ;	.line	1418; "MC32P7351.c"	LED_CHARGING_ON();
                                           	BCLR	_IOP0bits,4
                                           ;	.line	1420; "MC32P7351.c"	for (i = 0; i < 20; i++)
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00873_DS_
                                           	MOVAI	0x14
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00855_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1423; "MC32P7351.c"	key_event_handle();
                                           	CALL	_key_event_handle
                                           ;	.line	1424; "MC32P7351.c"	delay_ms(10);
                                           	MOVAI	0x0a
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	1420; "MC32P7351.c"	for (i = 0; i < 20; i++)
                                           	INCR	_i
                                           	GOTO	_00873_DS_
                                           _00855_DS_
                                           ;	.line	1427; "MC32P7351.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           ;	.line	1429; "MC32P7351.c"	for (i = 0; i < 20; i++)
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00876_DS_
                                           	MOVAI	0x14
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00860_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	1432; "MC32P7351.c"	key_event_handle();
                                           	CALL	_key_event_handle
                                           ;	.line	1433; "MC32P7351.c"	delay_ms(10);
                                           	MOVAI	0x0a
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	1429; "MC32P7351.c"	for (i = 0; i < 20; i++)
                                           	INCR	_i
                                           	GOTO	_00876_DS_
                                           _00860_DS_
                                           ;	.line	1437; "MC32P7351.c"	low_power_scan_handle();
                                           	CALL	_low_power_scan_handle
                                           ;	.line	1444; "MC32P7351.c"	__endasm;
                                           	;
                                           	CLRWDT;
                                           	
                                           	GOTO	_00862_DS_
                                           ;	.line	1447; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _low_power_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _adc_config
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val_once
                                           ;   _Sys_Init
                                           ;   _CLR_RAM
                                           ;   _adc_config
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val_once
                                           ;   _Sys_Init
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _low_power_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	984; "MC32P7351.c"	if (FLAG_DURING_CHARGING_BAT_IS_NULL || // 只插着充电器且没有电池时，不进入低功耗
                                           	JBCLR	_flag1,7
                                           	GOTO	_00760_DS_
                                           ;	.line	985; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN ||              // 如果设备已经启动，不进入低功耗
                                           	JBCLR	_flag1,0
                                           	GOTO	_00760_DS_
                                           ;	.line	986; "MC32P7351.c"	FLAG_IS_IN_CHARGING ||              // 如果正在充电，不进入低功耗，因为还需要输出PWM来控制充电
                                           	JBCLR	_flag1,2
                                           	GOTO	_00760_DS_
                                           ;	.line	987; "MC32P7351.c"	(0 == P01D))                        // 如果检测到 开关/模式 按键按下，不进入低功耗(交给按键事件处理函数来判断是否要开机)
                                           	JBCLR	_IOP0bits,1
                                           	GOTO	_00765_DS_
                                           _00760_DS_
                                           ;	.line	989; "MC32P7351.c"	return;
                                           	GOTO	_00778_DS_
                                           _00765_DS_
                                           ;	.line	1007; "MC32P7351.c"	GIE = 0;  // 禁用所有中断
                                           	BCLR	_MCRbits,7
                                           ;	.line	1008; "MC32P7351.c"	T0EN = 0; // 关闭定时器和PWM输出
                                           	BCLR	_T0CRbits,7
                                           ;	.line	1009; "MC32P7351.c"	T1EN = 0;
                                           	BCLR	_T1CRbits,7
                                           ;	.line	1010; "MC32P7351.c"	T2EN = 0;
                                           	BCLR	_T2CRbits,7
                                           ;	.line	1011; "MC32P7351.c"	T3EN = 0;
                                           	BCLR	_T3CRbits,7
                                           ;	.line	1013; "MC32P7351.c"	PWM0EC = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	1014; "MC32P7351.c"	PWM1EC = 0;
                                           	BCLR	_T1CRbits,6
                                           ;	.line	1015; "MC32P7351.c"	PWM2EC = 0;
                                           	BCLR	_T2CRbits,6
                                           ;	.line	1016; "MC32P7351.c"	T2DATA = 0;
                                           	CLRR	_T2DATA
                                           ;	.line	1017; "MC32P7351.c"	ADEN = 0; // 不使能ad
                                           	BCLR	_ADCR0bits,0
                                           ;	.line	1024; "MC32P7351.c"	LED_WORKING_OFF();
                                           	BSET	_IOP1bits,4
                                           ;	.line	1025; "MC32P7351.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           ;	.line	1026; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
                                           	BSET	_IOP0bits,3
                                           ;	.line	1029; "MC32P7351.c"	P01PU = 1;
                                           	BSET	_PUP0bits,1
                                           ;	.line	1030; "MC32P7351.c"	P01OE = 0;
                                           	BCLR	_OEP0bits,1
                                           ;	.line	1033; "MC32P7351.c"	P00PD = 1;
                                           	BSET	_PDP0bits,0
                                           ;	.line	1034; "MC32P7351.c"	P00OE = 0;
                                           	BCLR	_OEP0bits,0
                                           ;	.line	1036; "MC32P7351.c"	HFEN = 0; // 关闭高速时钟
                                           	BCLR	_OSCMRbits,0
                                           ;	.line	1037; "MC32P7351.c"	LFEN = 1;
                                           	BSET	_OSCMRbits,1
                                           ;	.line	1040; "MC32P7351.c"	Nop();
                                           	nop	
                                           ;	.line	1041; "MC32P7351.c"	Nop();
                                           	nop	
                                           ;	.line	1042; "MC32P7351.c"	Stop();
                                           	stop	
                                           ;	.line	1043; "MC32P7351.c"	Nop();
                                           	nop	
                                           ;	.line	1044; "MC32P7351.c"	Nop();
                                           	nop	
                                           ;	.line	1046; "MC32P7351.c"	HFEN = 1; // 开启高速时钟
                                           	BSET	_OSCMRbits,0
                                           ;	.line	1048; "MC32P7351.c"	CLR_RAM();
                                           	CALL	_CLR_RAM
                                           ;	.line	1050; "MC32P7351.c"	adc_config();
                                           	CALL	_adc_config
                                           ;	.line	1051; "MC32P7351.c"	adc_sel_pin(ADC_PIN_P00_AN0);
                                           	MOVAI	0x01
                                           	CALL	_adc_sel_pin
                                           ;	.line	1052; "MC32P7351.c"	adc_val = adc_get_val_once();
                                           	CALL	_adc_get_val_once
                                           	MOVRA	(_adc_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_adc_val
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           ;	.line	1054; "MC32P7351.c"	if (adc_val < ADCDETECT_CHARING_THRESHOLD && P01D)
                                           	MOVAI	0x08
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00800_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	_adc_val
                                           _00800_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00776_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           	JBCLR	_IOP0bits,1
                                           	GOTO	_00765_DS_
                                           _00776_DS_
                                           ;	.line	1080; "MC32P7351.c"	Sys_Init();
                                           	CALL	_Sys_Init
                                           _00778_DS_
                                           ;	.line	1084; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _low_power_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _shutdown_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _shutdown_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	955; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00743_DS_
                                           ;;unsigned compare: left < lit(0xDBBA0=900000), size=4
                                           ;	.line	959; "MC32P7351.c"	if (shut_down_ms_cnt >= 900000)
                                           	MOVAI	0x00
                                           	RSUBAR	(_shut_down_ms_cnt + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00755_DS_
                                           	MOVAI	0x0d
                                           	RSUBAR	(_shut_down_ms_cnt + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00755_DS_
                                           	MOVAI	0xbb
                                           	RSUBAR	(_shut_down_ms_cnt + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00755_DS_
                                           	MOVAI	0xa0
                                           	RSUBAR	_shut_down_ms_cnt
                                           _00755_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00745_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	962; "MC32P7351.c"	LED_WORKING_OFF(); // 关闭电源指示灯
                                           	BSET	_IOP1bits,4
                                           ;	.line	963; "MC32P7351.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           ;	.line	964; "MC32P7351.c"	HEATING_OFF(); // 关闭加热
                                           	BCLR	_IOP1bits,2
                                           ;	.line	965; "MC32P7351.c"	FLAG_IS_HEATING = 0;
                                           	BCLR	_flag1,1
                                           ;	.line	966; "MC32P7351.c"	mode_flag = MODE_4; // 下一次切换模式时，会变成 MODE_1
                                           	MOVAI	0x03
                                           	MOVRA	_mode_flag
                                           ;	.line	968; "MC32P7351.c"	PWM0EC = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	969; "MC32P7351.c"	PWM1EC = 0;
                                           	BCLR	_T1CRbits,6
                                           ;	.line	971; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 0;
                                           	BCLR	_flag1,0
                                           	GOTO	_00745_DS_
                                           _00743_DS_
                                           ;	.line	977; "MC32P7351.c"	shut_down_ms_cnt = 0;
                                           	CLRR	_shut_down_ms_cnt
                                           	CLRR	(_shut_down_ms_cnt + 1)
                                           	CLRR	(_shut_down_ms_cnt + 2)
                                           	CLRR	(_shut_down_ms_cnt + 3)
                                           _00745_DS_
                                           ;	.line	979; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _shutdown_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _turn_dir_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _turn_dir_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	920; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00710_DS_
                                           ;;unsigned compare: left < lit(0x1D4C0=120000), size=4
                                           ;	.line	924; "MC32P7351.c"	if (turn_dir_ms_cnt >= (120000) ||
                                           	MOVAI	0x00
                                           	RSUBAR	(_turn_dir_ms_cnt + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00726_DS_
                                           	MOVAI	0x01
                                           	RSUBAR	(_turn_dir_ms_cnt + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00726_DS_
                                           	MOVAI	0xd4
                                           	RSUBAR	(_turn_dir_ms_cnt + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00726_DS_
                                           	MOVAI	0xc0
                                           	RSUBAR	_turn_dir_ms_cnt
                                           _00726_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00706_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	925; "MC32P7351.c"	flag_ctl_dir)
                                           	JBSET	_flag3,0
                                           	GOTO	_00712_DS_
                                           _00706_DS_
                                           ;	.line	927; "MC32P7351.c"	if (0 == FLAG_DIR)
                                           	JBCLR	_flag1,3
                                           	GOTO	_00704_DS_
                                           ;	.line	929; "MC32P7351.c"	PWM1EC = 0;
                                           	BCLR	_T1CRbits,6
                                           ;	.line	930; "MC32P7351.c"	delay_ms(1000);
                                           	MOVAI	0xe8
                                           	MOVRA	STK00
                                           	MOVAI	0x03
                                           	CALL	_delay_ms
                                           ;	.line	931; "MC32P7351.c"	PWM0EC = 1;
                                           	BSET	_T0CRbits,6
                                           ;	.line	932; "MC32P7351.c"	FLAG_DIR = 1; //
                                           	BSET	_flag1,3
                                           	GOTO	_00705_DS_
                                           _00704_DS_
                                           ;	.line	936; "MC32P7351.c"	PWM0EC = 0; //
                                           	BCLR	_T0CRbits,6
                                           ;	.line	937; "MC32P7351.c"	delay_ms(1000);
                                           	MOVAI	0xe8
                                           	MOVRA	STK00
                                           	MOVAI	0x03
                                           	CALL	_delay_ms
                                           ;	.line	938; "MC32P7351.c"	PWM1EC = 1;   //
                                           	BSET	_T1CRbits,6
                                           ;	.line	939; "MC32P7351.c"	FLAG_DIR = 0; //
                                           	BCLR	_flag1,3
                                           _00705_DS_
                                           ;	.line	942; "MC32P7351.c"	flag_ctl_dir = 0;
                                           	BCLR	_flag3,0
                                           ;	.line	943; "MC32P7351.c"	turn_dir_ms_cnt = 0;
                                           	CLRR	_turn_dir_ms_cnt
                                           	CLRR	(_turn_dir_ms_cnt + 1)
                                           	CLRR	(_turn_dir_ms_cnt + 2)
                                           	CLRR	(_turn_dir_ms_cnt + 3)
                                           	GOTO	_00712_DS_
                                           _00710_DS_
                                           ;	.line	948; "MC32P7351.c"	turn_dir_ms_cnt = 0; // 设备未运行时，清空计数值
                                           	CLRR	_turn_dir_ms_cnt
                                           	CLRR	(_turn_dir_ms_cnt + 1)
                                           	CLRR	(_turn_dir_ms_cnt + 2)
                                           	CLRR	(_turn_dir_ms_cnt + 3)
                                           _00712_DS_
                                           ;	.line	950; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _turn_dir_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _key_event_handle
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _key_event_handle
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _key_event_handle
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _key_event_handle
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	654; "MC32P7351.c"	volatile u8 cnt = 0;             // 计数值，用于检测电池是否满电，也是用于检测是否插入/拔出充电器的计数值
                                           	CLRR	_adc_scan_handle_cnt_65536_100
                                           ;	.line	655; "MC32P7351.c"	volatile u8 need_charge_cnt = 0; // 计数值，用于检测是否要快速充电
                                           	CLRR	_adc_scan_handle_need_charge_cnt_65536_100
                                           ;	.line	657; "MC32P7351.c"	adc_bat_val = 0;
                                           	CLRR	_adc_bat_val
                                           	CLRR	(_adc_bat_val + 1)
                                           	CLRR	(_adc_bat_val + 2)
                                           	CLRR	(_adc_bat_val + 3)
                                           ;	.line	658; "MC32P7351.c"	adc_charging_val = 0;
                                           	CLRR	_adc_charging_val
                                           	CLRR	(_adc_charging_val + 1)
                                           ;	.line	660; "MC32P7351.c"	adc_sel_pin(ADC_PIN_P02_AN1); // 切换到检测电池降压后的电压的检测引脚
                                           	MOVAI	0x02
                                           	CALL	_adc_sel_pin
                                           ;	.line	661; "MC32P7351.c"	for (i = 0; i < 10; i++)      //  // 每55ms进入一次，循环内每次间隔约4.8ms
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00535_DS_
                                           	MOVAI	0x0a
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00485_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	663; "MC32P7351.c"	adc_val = adc_get_val();
                                           	CALL	_adc_get_val
                                           	MOVRA	(_adc_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_adc_val
                                           ;	.line	665; "MC32P7351.c"	if (i == 0)
                                           	MOVAI	0x00
                                           	ORAR	_i
                                           	JBSET	PFLAG,2
                                           	GOTO	_00418_DS_
                                           ;	.line	667; "MC32P7351.c"	adc_bat_val = adc_val;
                                           	MOVAR	_adc_val
                                           	MOVRA	_adc_bat_val
                                           	MOVAR	(_adc_val + 1)
                                           	MOVRA	(_adc_bat_val + 1)
                                           	CLRR	(_adc_bat_val + 2)
                                           	CLRR	(_adc_bat_val + 3)
                                           _00418_DS_
                                           ;	.line	670; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING)
                                           	JBSET	_flag1,2
                                           	GOTO	_00483_DS_
                                           ;;unsigned compare: left < lit(0xF52=3922), size=2
                                           ;	.line	673; "MC32P7351.c"	if (adc_val >= ADCDETECT_BAT_FULL + ADCDETECT_BAT_NULL_EX)
                                           	MOVAI	0x0f
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00683_DS_
                                           	MOVAI	0x52
                                           	RSUBAR	_adc_val
                                           _00683_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00420_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	676; "MC32P7351.c"	T2DATA = 0;
                                           	CLRR	_T2DATA
                                           ;	.line	677; "MC32P7351.c"	over_charging_cnt++;
                                           	INCR	_over_charging_cnt
                                           ;;unsigned compare: left < lit(0xE3A=3642), size=2
                                           _00420_DS_
                                           ;	.line	680; "MC32P7351.c"	if (adc_val >= ADCDETECT_BAT_FULL) // 检测电池是否满电
                                           	MOVAI	0x0e
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00684_DS_
                                           	MOVAI	0x3a
                                           	RSUBAR	_adc_val
                                           _00684_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00424_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	682; "MC32P7351.c"	cnt++;
                                           	INCR	_adc_scan_handle_cnt_65536_100
                                           	GOTO	_00425_DS_
                                           ;;unsigned compare: left < lit(0xD90=3472), size=2
                                           _00424_DS_
                                           ;	.line	684; "MC32P7351.c"	else if (adc_val < ADCDETECT_BAT_WILL_FULL) // 检测是否要快速充电
                                           	MOVAI	0x0d
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00685_DS_
                                           	MOVAI	0x90
                                           	RSUBAR	_adc_val
                                           _00685_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00425_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	686; "MC32P7351.c"	need_charge_cnt++;
                                           	INCR	_adc_scan_handle_need_charge_cnt_65536_100
                                           _00425_DS_
                                           ;	.line	689; "MC32P7351.c"	if (flag_bat_is_empty)
                                           	MOVAI	0x00
                                           	ORAR	_flag_bat_is_empty
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00448_DS_
                                           ;	.line	693; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭充电指示灯
                                           	BSET	_IOP0bits,4
                                           ;	.line	694; "MC32P7351.c"	PWM2EC = 0;         // 关闭控制升压电路的pwm（建议是，插上充钱器时，不关闭控制升压电路的PWM，但是在测试时，充电一侧会严重发热）
                                           	BCLR	_T2CRbits,6
                                           ;	.line	695; "MC32P7351.c"	T2DATA = 0;
                                           	CLRR	_T2DATA
                                           ;	.line	696; "MC32P7351.c"	FLAG_BAT_IS_NEED_CHARGE = 0;
                                           	BCLR	_flag1,4
                                           ;	.line	697; "MC32P7351.c"	FLAG_DURING_CHARGING_BAT_IS_NULL = 1; // 标志位置一，在主循环让绿灯快闪
                                           	BSET	_flag1,7
                                           ;	.line	699; "MC32P7351.c"	break;
                                           	GOTO	_00485_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00448_DS_
                                           ;	.line	701; "MC32P7351.c"	else if (cnt >= 8 || over_charging_cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_cnt_65536_100
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00443_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           	MOVAI	0x08
                                           	RSUBAR	_over_charging_cnt
                                           	JBSET	PFLAG,0
                                           	GOTO	_00444_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00443_DS_
                                           ;	.line	704; "MC32P7351.c"	full_charge_cnt++;
                                           	INCR	_full_charge_cnt
                                           ;;unsigned compare: left < lit(0x64=100), size=1
                                           ;	.line	705; "MC32P7351.c"	if (full_charge_cnt >= 100 || over_charging_cnt >= 8) // 5.5s或者是连续触发了若干次过充保护
                                           	MOVAI	0x64
                                           	RSUBAR	_full_charge_cnt
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00435_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           	MOVAI	0x08
                                           	RSUBAR	_over_charging_cnt
                                           	JBSET	PFLAG,0
                                           	GOTO	_00484_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00435_DS_
                                           ;	.line	707; "MC32P7351.c"	full_charge_cnt = 0; //
                                           	CLRR	_full_charge_cnt
                                           ;	.line	709; "MC32P7351.c"	PWM2EC = 0; // 关闭控制升压电路的pwm
                                           	BCLR	_T2CRbits,6
                                           ;	.line	710; "MC32P7351.c"	T2DATA = 0;
                                           	CLRR	_T2DATA
                                           ;	.line	712; "MC32P7351.c"	FLAG_BAT_IS_NEED_CHARGE = 0;
                                           	BCLR	_flag1,4
                                           ;	.line	713; "MC32P7351.c"	FLAG_BAT_IS_FULL = 1;
                                           	BSET	_flag1,5
                                           ;	.line	715; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭充电指示灯
                                           	BSET	_IOP0bits,4
                                           ;	.line	718; "MC32P7351.c"	LED_WORKING_ON(); // 打开电源指示灯，表示充满电
                                           	BCLR	_IOP1bits,4
                                           ;	.line	719; "MC32P7351.c"	break;
                                           	GOTO	_00485_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00444_DS_
                                           ;	.line	722; "MC32P7351.c"	else if (need_charge_cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_need_charge_cnt_65536_100
                                           	JBSET	PFLAG,0
                                           	GOTO	_00484_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	726; "MC32P7351.c"	LED_FULL_CHARGE_OFF(); // 关闭充满电的指示灯
                                           	BSET	_IOP0bits,3
                                           ;	.line	727; "MC32P7351.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
                                           	BSET	_flag1,4
                                           ;	.line	728; "MC32P7351.c"	FLAG_BAT_IS_FULL = 0;
                                           	BCLR	_flag1,5
                                           ;	.line	729; "MC32P7351.c"	break;
                                           	GOTO	_00485_DS_
                                           _00483_DS_
                                           ;	.line	735; "MC32P7351.c"	if (flag_bat_is_empty == 0 && adc_val <= ADCDETECT_BAT_FULL - ((ADCDETECT_BAT_FULL - ADCDETECT_BAT_WILL_FULL) / 2))
                                           	MOVAI	0x00
                                           	ORAR	_flag_bat_is_empty
                                           	JBSET	PFLAG,2
                                           	GOTO	_00451_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0xDE6=3558), size=2
                                           	MOVAI	0x0d
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00691_DS_
                                           	MOVAI	0xe6
                                           	RSUBAR	_adc_val
                                           _00691_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00451_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	737; "MC32P7351.c"	cnt++;
                                           	INCR	_adc_scan_handle_cnt_65536_100
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00451_DS_
                                           ;	.line	740; "MC32P7351.c"	if (cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_cnt_65536_100
                                           	JBSET	PFLAG,0
                                           	GOTO	_00454_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	743; "MC32P7351.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
                                           	BSET	_flag1,4
                                           ;	.line	744; "MC32P7351.c"	FLAG_BAT_IS_FULL = 0;
                                           	BCLR	_flag1,5
                                           ;	.line	745; "MC32P7351.c"	break;
                                           	GOTO	_00485_DS_
                                           _00454_DS_
                                           ;	.line	749; "MC32P7351.c"	flag_bat_is_empty == 0 &&  /* 电池不为空 */
                                           	MOVAI	0x00
                                           	ORAR	_flag_bat_is_empty
                                           	JBSET	PFLAG,2
                                           	GOTO	_00461_DS_
                                           ;	.line	750; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN &&     /* 设备正在运行 */
                                           	JBSET	_flag1,0
                                           	GOTO	_00461_DS_
                                           ;;unsigned compare: left < lit(0xA93=2707), size=2
                                           ;	.line	752; "MC32P7351.c"	)
                                           	MOVAI	0x0a
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00693_DS_
                                           	MOVAI	0x93
                                           	RSUBAR	_adc_val
                                           _00693_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00461_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	754; "MC32P7351.c"	flag_tim_scan_maybe_shut_down = 1;
                                           	BSET	_flag3,3
                                           	GOTO	_00462_DS_
                                           _00461_DS_
                                           ;	.line	756; "MC32P7351.c"	else if (flag_bat_is_empty == 0 &&
                                           	MOVAI	0x00
                                           	ORAR	_flag_bat_is_empty
                                           	JBSET	PFLAG,2
                                           	GOTO	_00456_DS_
                                           ;	.line	757; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN &&
                                           	JBSET	_flag1,0
                                           	GOTO	_00456_DS_
                                           ;;unsigned compare: left < lit(0xB15=2837), size=2
                                           ;	.line	758; "MC32P7351.c"	adc_val < LOW_BATTERY_AD_VAL)
                                           	MOVAI	0x0b
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00694_DS_
                                           	MOVAI	0x15
                                           	RSUBAR	_adc_val
                                           _00694_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00456_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	761; "MC32P7351.c"	flag_maybe_low_battery = 1;
                                           	BSET	_flag3,2
                                           ;	.line	762; "MC32P7351.c"	flag_tim_scan_maybe_shut_down = 0;
                                           	BCLR	_flag3,3
                                           	GOTO	_00462_DS_
                                           _00456_DS_
                                           ;	.line	766; "MC32P7351.c"	flag_maybe_low_battery = 0;
                                           	BCLR	_flag3,2
                                           ;	.line	767; "MC32P7351.c"	flag_tim_scan_maybe_shut_down = 0;
                                           	BCLR	_flag3,3
                                           _00462_DS_
                                           ;	.line	771; "MC32P7351.c"	if (flag_is_needed_shut_down && FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag3,4
                                           	GOTO	_00484_DS_
                                           	JBSET	_flag1,0
                                           	GOTO	_00484_DS_
                                           ;	.line	773; "MC32P7351.c"	flag_is_needed_shut_down = 0;
                                           	BCLR	_flag3,4
                                           ;	.line	775; "MC32P7351.c"	LED_WORKING_OFF(); // 关闭电源指示灯
                                           	BSET	_IOP1bits,4
                                           ;	.line	776; "MC32P7351.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           ;	.line	777; "MC32P7351.c"	HEATING_OFF(); // 关闭加热
                                           	BCLR	_IOP1bits,2
                                           ;	.line	778; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 0;
                                           	BCLR	_flag1,0
                                           ;	.line	779; "MC32P7351.c"	FLAG_IS_HEATING = 0;
                                           	BCLR	_flag1,1
                                           ;	.line	781; "MC32P7351.c"	if (flag_is_low_battery)
                                           	JBSET	_flag2,2
                                           	GOTO	_00478_DS_
                                           ;	.line	784; "MC32P7351.c"	flag_is_low_battery = 0;
                                           	BCLR	_flag2,2
                                           ;	.line	785; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭用于报警的LED
                                           	BSET	_IOP0bits,4
                                           _00478_DS_
                                           ;	.line	788; "MC32P7351.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
                                           	CLRR	_mode_flag
                                           ;	.line	791; "MC32P7351.c"	PWM0EC = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	792; "MC32P7351.c"	PWM1EC = 0;
                                           	BCLR	_T1CRbits,6
                                           _00484_DS_
                                           ;	.line	797; "MC32P7351.c"	key_event_handle();
                                           	CALL	_key_event_handle
                                           ;	.line	661; "MC32P7351.c"	for (i = 0; i < 10; i++)      //  // 每55ms进入一次，循环内每次间隔约4.8ms
                                           	INCR	_i
                                           	GOTO	_00535_DS_
                                           _00485_DS_
                                           ;	.line	800; "MC32P7351.c"	cnt = 0;
                                           	CLRR	_adc_scan_handle_cnt_65536_100
                                           ;	.line	801; "MC32P7351.c"	adc_sel_pin(ADC_PIN_P00_AN0); // 切换到检测充电的电压检测引脚(检测到的充电电压 == USB-C口电压 / 2)
                                           	MOVAI	0x01
                                           	CALL	_adc_sel_pin
                                           ;	.line	802; "MC32P7351.c"	for (i = 0; i < 10; i++)
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00538_DS_
                                           	MOVAI	0x0a
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00540_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	804; "MC32P7351.c"	adc_val = adc_get_val();
                                           	CALL	_adc_get_val
                                           	MOVRA	(_adc_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_adc_val
                                           ;	.line	805; "MC32P7351.c"	if (flag_bat_is_empty) // 如果电池为空
                                           	MOVAI	0x00
                                           	ORAR	_flag_bat_is_empty
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00487_DS_
                                           ;	.line	807; "MC32P7351.c"	adc_val = 4095; // 防止进入下面的if (adc_val < ADCDETECT_CHARING_THRESHOLD)
                                           	MOVAI	0xff
                                           	MOVRA	_adc_val
                                           	MOVAI	0x0f
                                           	MOVRA	(_adc_val + 1)
                                           _00487_DS_
                                           ;	.line	810; "MC32P7351.c"	if (adc_charging_val != 0)
                                           	MOVAR	_adc_charging_val
                                           	ORAR	(_adc_charging_val + 1)
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00489_DS_
                                           ;	.line	812; "MC32P7351.c"	adc_charging_val += adc_val;
                                           	MOVAR	_adc_val
                                           	ADDRA	_adc_charging_val
                                           	MOVAR	(_adc_val + 1)
                                           	JBCLR	PFLAG,0
                                           	JZAR	(_adc_val + 1)
                                           	ADDRA	(_adc_charging_val + 1)
                                           ;;shiftRight_Left2ResultLit:5339: shCount=1, size=2, sign=0, same=1, offr=0
                                           ;	.line	813; "MC32P7351.c"	adc_charging_val /= 2;
                                           	BCLR	PFLAG,0
                                           	RRR	(_adc_charging_val + 1)
                                           	RRR	_adc_charging_val
                                           	GOTO	_00490_DS_
                                           _00489_DS_
                                           ;	.line	817; "MC32P7351.c"	adc_charging_val += adc_val;
                                           	MOVAR	_adc_val
                                           	ADDRA	_adc_charging_val
                                           	MOVAR	(_adc_val + 1)
                                           	JBCLR	PFLAG,0
                                           	JZAR	(_adc_val + 1)
                                           	ADDRA	(_adc_charging_val + 1)
                                           _00490_DS_
                                           ;	.line	820; "MC32P7351.c"	if (FLAG_IS_IN_CHARGING)
                                           	JBSET	_flag1,2
                                           	GOTO	_00531_DS_
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           ;	.line	823; "MC32P7351.c"	if (adc_val < ADCDETECT_CHARING_THRESHOLD)
                                           	MOVAI	0x08
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00696_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	_adc_val
                                           _00696_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00492_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	825; "MC32P7351.c"	cnt++;
                                           	INCR	_adc_scan_handle_cnt_65536_100
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00492_DS_
                                           ;	.line	828; "MC32P7351.c"	if (cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_cnt_65536_100
                                           	JBSET	PFLAG,0
                                           	GOTO	_00503_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	831; "MC32P7351.c"	FLAG_IS_IN_CHARGING = 0;
                                           	BCLR	_flag1,2
                                           ;	.line	832; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭充电指示灯
                                           	BSET	_IOP0bits,4
                                           ;	.line	833; "MC32P7351.c"	PWM2EC = 0;         // 关闭控制升压电路的pwm
                                           	BCLR	_T2CRbits,6
                                           ;	.line	834; "MC32P7351.c"	T2DATA = 0;
                                           	CLRR	_T2DATA
                                           ;	.line	835; "MC32P7351.c"	LED_FULL_CHARGE_OFF(); // 关闭电池充满电的指示灯
                                           	BSET	_IOP0bits,3
                                           ;	.line	836; "MC32P7351.c"	LED_WORKING_OFF();     // 关闭电池充满电的指示灯（白灯）
                                           	BSET	_IOP1bits,4
                                           ;	.line	838; "MC32P7351.c"	FLAG_DURING_CHARGING_BAT_IS_NULL = 0; // 清空该标志位，因为已经不在充电的情况下
                                           	BCLR	_flag1,7
                                           ;	.line	839; "MC32P7351.c"	break;
                                           	GOTO	_00540_DS_
                                           _00503_DS_
                                           ;	.line	842; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBCLR	_flag1,0
                                           	GOTO	_00532_DS_
                                           ;	.line	847; "MC32P7351.c"	if (FLAG_BAT_IS_FULL)
                                           	JBCLR	_flag1,5
                                           	GOTO	_00532_DS_
                                           ;	.line	853; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
                                           	BSET	_IOP0bits,3
                                           ;	.line	854; "MC32P7351.c"	LED_WORKING_OFF();
                                           	BSET	_IOP1bits,4
                                           	GOTO	_00532_DS_
                                           _00531_DS_
                                           ;	.line	862; "MC32P7351.c"	if (flag_bat_is_empty == 0 && adc_val >= ADCDETECT_CHARING_THRESHOLD)
                                           	MOVAI	0x00
                                           	ORAR	_flag_bat_is_empty
                                           	JBSET	PFLAG,2
                                           	GOTO	_00517_DS_
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           	MOVAI	0x08
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00698_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	_adc_val
                                           _00698_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00517_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	864; "MC32P7351.c"	cnt++;
                                           	INCR	_adc_scan_handle_cnt_65536_100
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00517_DS_
                                           ;	.line	867; "MC32P7351.c"	if (cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_cnt_65536_100
                                           	JBSET	PFLAG,0
                                           	GOTO	_00532_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	871; "MC32P7351.c"	full_charge_cnt = 0;
                                           	CLRR	_full_charge_cnt
                                           ;	.line	872; "MC32P7351.c"	over_charging_cnt = 0;
                                           	CLRR	_over_charging_cnt
                                           ;	.line	874; "MC32P7351.c"	FLAG_IS_IN_CHARGING = 1;
                                           	BSET	_flag1,2
                                           ;	.line	877; "MC32P7351.c"	PWM2EC = 1; // 开启控制升压电路的pwm
                                           	BSET	_T2CRbits,6
                                           ;	.line	878; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
                                           	BSET	_IOP0bits,3
                                           ;	.line	879; "MC32P7351.c"	LED_WORKING_OFF(); // 关闭电源指示灯
                                           	BSET	_IOP1bits,4
                                           ;	.line	880; "MC32P7351.c"	HEATING_OFF();     // 关闭加热
                                           	BCLR	_IOP1bits,2
                                           ;	.line	881; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 0;
                                           	BCLR	_flag1,0
                                           ;	.line	882; "MC32P7351.c"	FLAG_IS_HEATING = 0;
                                           	BCLR	_flag1,1
                                           ;	.line	883; "MC32P7351.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
                                           	CLRR	_mode_flag
                                           ;	.line	885; "MC32P7351.c"	PWM0EC = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	886; "MC32P7351.c"	PWM1EC = 0;
                                           	BCLR	_T1CRbits,6
                                           ;	.line	888; "MC32P7351.c"	flag_is_low_battery = 0; // 清除该标志位
                                           	BCLR	_flag2,2
                                           ;	.line	889; "MC32P7351.c"	break;
                                           	GOTO	_00540_DS_
                                           _00532_DS_
                                           ;	.line	914; "MC32P7351.c"	key_event_handle();
                                           	CALL	_key_event_handle
                                           ;	.line	802; "MC32P7351.c"	for (i = 0; i < 10; i++)
                                           	INCR	_i
                                           	GOTO	_00538_DS_
                                           _00540_DS_
                                           ;	.line	916; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _adc_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_event_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _key_event_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	542; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00411_DS_
                                           ;	.line	545; "MC32P7351.c"	if (KEY_EVENT_MODE_HOLD == key_event)
                                           	MOVAR	_key_event
                                           	XORAI	0x03
                                           	JBSET	PFLAG,2
                                           	GOTO	_00396_DS_
                                           ;	.line	548; "MC32P7351.c"	LED_WORKING_OFF(); // 关闭电源指示灯
                                           	BSET	_IOP1bits,4
                                           ;	.line	549; "MC32P7351.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           ;	.line	550; "MC32P7351.c"	HEATING_OFF(); // 关闭加热
                                           	BCLR	_IOP1bits,2
                                           ;	.line	551; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 0;
                                           	BCLR	_flag1,0
                                           ;	.line	552; "MC32P7351.c"	FLAG_IS_HEATING = 0;
                                           	BCLR	_flag1,1
                                           ;	.line	554; "MC32P7351.c"	if (flag_is_low_battery)
                                           	JBSET	_flag2,2
                                           	GOTO	_00357_DS_
                                           ;	.line	557; "MC32P7351.c"	flag_is_low_battery = 0;
                                           	BCLR	_flag2,2
                                           ;	.line	558; "MC32P7351.c"	LED_CHARGING_OFF(); // 关闭用于报警的LED
                                           	BSET	_IOP0bits,4
                                           _00357_DS_
                                           ;	.line	561; "MC32P7351.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
                                           	CLRR	_mode_flag
                                           ;	.line	564; "MC32P7351.c"	PWM0EC = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	565; "MC32P7351.c"	PWM1EC = 0;
                                           	BCLR	_T1CRbits,6
                                           	GOTO	_00412_DS_
                                           _00396_DS_
                                           ;	.line	567; "MC32P7351.c"	else if (KEY_EVENT_MODE_PRESS == key_event)
                                           	MOVAR	_key_event
                                           	XORAI	0x02
                                           	JBSET	PFLAG,2
                                           	GOTO	_00393_DS_
                                           ;	.line	569; "MC32P7351.c"	if (MODE_1 == mode_flag)
                                           	MOVAI	0x00
                                           	ORAR	_mode_flag
                                           	JBSET	PFLAG,2
                                           	GOTO	_00367_DS_
                                           ;	.line	572; "MC32P7351.c"	T0DATA = 160;
                                           	MOVAI	0xa0
                                           	MOVRA	_T0DATA
                                           ;	.line	573; "MC32P7351.c"	T1DATA = 160;
                                           	MOVAI	0xa0
                                           	MOVRA	_T1DATA
                                           ;	.line	575; "MC32P7351.c"	mode_flag = MODE_2;
                                           	MOVAI	0x01
                                           	MOVRA	_mode_flag
                                           ;	.line	576; "MC32P7351.c"	flag_ctl_dir = 1;
                                           	BSET	_flag3,0
                                           	GOTO	_00368_DS_
                                           _00367_DS_
                                           ;	.line	578; "MC32P7351.c"	else if (MODE_2 == mode_flag)
                                           	MOVAR	_mode_flag
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00364_DS_
                                           ;	.line	581; "MC32P7351.c"	T0DATA = 255;
                                           	MOVAI	0xff
                                           	MOVRA	_T0DATA
                                           ;	.line	582; "MC32P7351.c"	T1DATA = 255; // 100%占空比（确保大于TxLOAD的值就可以）
                                           	MOVAI	0xff
                                           	MOVRA	_T1DATA
                                           ;	.line	584; "MC32P7351.c"	mode_flag = MODE_3;
                                           	MOVAI	0x02
                                           	MOVRA	_mode_flag
                                           ;	.line	585; "MC32P7351.c"	flag_ctl_dir = 1;
                                           	BSET	_flag3,0
                                           	GOTO	_00368_DS_
                                           _00364_DS_
                                           ;	.line	587; "MC32P7351.c"	else if (MODE_3 == mode_flag)
                                           	MOVAR	_mode_flag
                                           	XORAI	0x02
                                           	JBSET	PFLAG,2
                                           	GOTO	_00361_DS_
                                           ;	.line	590; "MC32P7351.c"	T0DATA = 0;
                                           	CLRR	_T0DATA
                                           ;	.line	591; "MC32P7351.c"	T1DATA = 0;
                                           	CLRR	_T1DATA
                                           ;	.line	592; "MC32P7351.c"	PWM0EC = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	593; "MC32P7351.c"	PWM1EC = 0;
                                           	BCLR	_T1CRbits,6
                                           ;	.line	594; "MC32P7351.c"	mode_flag = MODE_4;
                                           	MOVAI	0x03
                                           	MOVRA	_mode_flag
                                           	GOTO	_00368_DS_
                                           _00361_DS_
                                           ;	.line	596; "MC32P7351.c"	else if (MODE_4 == mode_flag)
                                           	MOVAR	_mode_flag
                                           	XORAI	0x03
                                           	JBSET	PFLAG,2
                                           	GOTO	_00368_DS_
                                           ;	.line	600; "MC32P7351.c"	T0DATA = 150;
                                           	MOVAI	0x96
                                           	MOVRA	_T0DATA
                                           ;	.line	601; "MC32P7351.c"	T1DATA = 150;
                                           	MOVAI	0x96
                                           	MOVRA	_T1DATA
                                           ;	.line	602; "MC32P7351.c"	mode_flag = MODE_1;
                                           	CLRR	_mode_flag
                                           ;	.line	603; "MC32P7351.c"	flag_ctl_dir = 1;
                                           	BSET	_flag3,0
                                           _00368_DS_
                                           ;	.line	606; "MC32P7351.c"	turn_dir_ms_cnt = 0; // 重置切换方向的计数
                                           	CLRR	_turn_dir_ms_cnt
                                           	CLRR	(_turn_dir_ms_cnt + 1)
                                           	CLRR	(_turn_dir_ms_cnt + 2)
                                           	CLRR	(_turn_dir_ms_cnt + 3)
                                           	GOTO	_00412_DS_
                                           _00393_DS_
                                           ;	.line	608; "MC32P7351.c"	else if (KEY_EVENT_HEAT_PRESS == key_event)
                                           	MOVAR	_key_event
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00412_DS_
                                           ;	.line	610; "MC32P7351.c"	if (0 == FLAG_IS_HEATING)
                                           	JBCLR	_flag1,1
                                           	GOTO	_00378_DS_
                                           ;	.line	612; "MC32P7351.c"	HEATING_ON(); // 打开加热
                                           	BSET	_IOP1bits,2
                                           ;	.line	613; "MC32P7351.c"	LED_WORKING_OFF();
                                           	BSET	_IOP1bits,4
                                           ;	.line	614; "MC32P7351.c"	LED_CHARGING_ON();
                                           	BCLR	_IOP0bits,4
                                           ;	.line	615; "MC32P7351.c"	FLAG_IS_HEATING = 1;
                                           	BSET	_flag1,1
                                           	GOTO	_00412_DS_
                                           _00378_DS_
                                           ;	.line	619; "MC32P7351.c"	HEATING_OFF(); // 关闭加热
                                           	BCLR	_IOP1bits,2
                                           ;	.line	620; "MC32P7351.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           ;	.line	621; "MC32P7351.c"	LED_WORKING_ON();
                                           	BCLR	_IOP1bits,4
                                           ;	.line	622; "MC32P7351.c"	FLAG_IS_HEATING = 0;
                                           	BCLR	_flag1,1
                                           	GOTO	_00412_DS_
                                           _00411_DS_
                                           ;	.line	629; "MC32P7351.c"	if (KEY_EVENT_MODE_HOLD == key_event && 0 == FLAG_IS_IN_CHARGING)
                                           	MOVAR	_key_event
                                           	XORAI	0x03
                                           	JBSET	PFLAG,2
                                           	GOTO	_00412_DS_
                                           	JBCLR	_flag1,2
                                           	GOTO	_00412_DS_
                                           ;	.line	631; "MC32P7351.c"	LED_FULL_CHARGE_OFF(); // 关闭满电指示灯
                                           	BSET	_IOP0bits,3
                                           ;	.line	632; "MC32P7351.c"	LED_CHARGING_OFF();    // 关闭充电指示灯
                                           	BSET	_IOP0bits,4
                                           ;	.line	633; "MC32P7351.c"	LED_WORKING_ON();      // 打开电源指示灯
                                           	BCLR	_IOP1bits,4
                                           ;	.line	634; "MC32P7351.c"	FLAG_IS_DEVICE_OPEN = 1;
                                           	BSET	_flag1,0
                                           ;	.line	637; "MC32P7351.c"	T0DATA = 150;
                                           	MOVAI	0x96
                                           	MOVRA	_T0DATA
                                           ;	.line	638; "MC32P7351.c"	T1DATA = 150;
                                           	MOVAI	0x96
                                           	MOVRA	_T1DATA
                                           ;	.line	639; "MC32P7351.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
                                           	CLRR	_mode_flag
                                           ;	.line	644; "MC32P7351.c"	PWM1EC = 1;
                                           	BSET	_T1CRbits,6
                                           _00412_DS_
                                           ;	.line	649; "MC32P7351.c"	key_event = KEY_EVENT_NONE;
                                           	CLRR	_key_event
                                           ;	.line	650; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _key_event_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_scan	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _key_scan	;Function start
                                           ; 2 exit points
                                           ;	.line	425; "MC32P7351.c"	volatile u8 cur_key_id = KEY_ID_NONE;
                                           	CLRR	_key_scan_cur_key_id_65536_35
                                           ;	.line	429; "MC32P7351.c"	if (0 == KEY_MODE_PIN)
                                           	JBCLR	_IOP0bits,1
                                           	GOTO	_00216_DS_
                                           ;	.line	431; "MC32P7351.c"	cur_key_id = KEY_ID_MODE;
                                           	MOVAI	0x01
                                           	MOVRA	_key_scan_cur_key_id_65536_35
                                           	GOTO	_00217_DS_
                                           _00216_DS_
                                           ;	.line	433; "MC32P7351.c"	else if (0 == KEY_HEAT_PIN)
                                           	JBCLR	_IOP1bits,1
                                           	GOTO	_00217_DS_
                                           ;	.line	435; "MC32P7351.c"	cur_key_id = KEY_ID_HEAT;
                                           	MOVAI	0x02
                                           	MOVRA	_key_scan_cur_key_id_65536_35
                                           _00217_DS_
                                           ;	.line	438; "MC32P7351.c"	if (cur_key_id != filter_key_id)
                                           	MOVAR	_key_scan_filter_key_id_65536_35
                                           	XORAR	_key_scan_cur_key_id_65536_35
                                           	JBSET	PFLAG,2
                                           	GOTO	_00337_DS_
                                           	GOTO	_00219_DS_
                                           _00337_DS_
                                           ;	.line	441; "MC32P7351.c"	filter_cnt = 0;
                                           	CLRR	_key_scan_filter_cnt_65536_35
                                           ;	.line	442; "MC32P7351.c"	filter_key_id = cur_key_id;
                                           	MOVAR	_key_scan_cur_key_id_65536_35
                                           	MOVRA	_key_scan_filter_key_id_65536_35
                                           ;	.line	443; "MC32P7351.c"	return;
                                           	GOTO	_00259_DS_
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00219_DS_
                                           ;	.line	446; "MC32P7351.c"	if (filter_cnt < KEY_FILTER_TIMES)
                                           	MOVAI	0x03
                                           	RSUBAR	_key_scan_filter_cnt_65536_35
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00221_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	450; "MC32P7351.c"	filter_cnt++;
                                           	INCR	_key_scan_filter_cnt_65536_35
                                           ;	.line	451; "MC32P7351.c"	return;
                                           	GOTO	_00259_DS_
                                           _00221_DS_
                                           ;	.line	456; "MC32P7351.c"	if (last_key_id != cur_key_id)
                                           	MOVAR	_key_scan_cur_key_id_65536_35
                                           	XORAR	_key_scan_last_key_id_65536_35
                                           	JBSET	PFLAG,2
                                           	GOTO	_00339_DS_
                                           	GOTO	_00257_DS_
                                           _00339_DS_
                                           ;	.line	458; "MC32P7351.c"	if (last_key_id == KEY_ID_NONE)
                                           	MOVAI	0x00
                                           	ORAR	_key_scan_last_key_id_65536_35
                                           	JBSET	PFLAG,2
                                           	GOTO	_00235_DS_
                                           ;	.line	461; "MC32P7351.c"	press_cnt = 0;
                                           	CLRR	_key_scan_press_cnt_65536_35
                                           	GOTO	_00258_DS_
                                           _00235_DS_
                                           ;	.line	463; "MC32P7351.c"	else if (cur_key_id == KEY_ID_NONE)
                                           	MOVAI	0x00
                                           	ORAR	_key_scan_cur_key_id_65536_35
                                           	JBSET	PFLAG,2
                                           	GOTO	_00258_DS_
                                           ;;unsigned compare: left < lit(0x4B=75), size=1
                                           ;	.line	466; "MC32P7351.c"	if (press_cnt < 75)
                                           	MOVAI	0x4b
                                           	RSUBAR	_key_scan_press_cnt_65536_35
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00230_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	469; "MC32P7351.c"	if (KEY_ID_MODE == last_key_id)
                                           	MOVAR	_key_scan_last_key_id_65536_35
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00225_DS_
                                           ;	.line	472; "MC32P7351.c"	key_event = KEY_EVENT_MODE_PRESS;
                                           	MOVAI	0x02
                                           	MOVRA	_key_event
                                           	GOTO	_00258_DS_
                                           _00225_DS_
                                           ;	.line	478; "MC32P7351.c"	else if (KEY_ID_HEAT == last_key_id)
                                           	MOVAR	_key_scan_last_key_id_65536_35
                                           	XORAI	0x02
                                           	JBSET	PFLAG,2
                                           	GOTO	_00258_DS_
                                           ;	.line	481; "MC32P7351.c"	key_event = KEY_EVENT_HEAT_PRESS;
                                           	MOVAI	0x01
                                           	MOVRA	_key_event
                                           	GOTO	_00258_DS_
                                           _00230_DS_
                                           ;	.line	489; "MC32P7351.c"	if (KEY_ID_MODE == last_key_id)
                                           	MOVAR	_key_scan_last_key_id_65536_35
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00258_DS_
                                           ;	.line	491; "MC32P7351.c"	flag_is_key_mode_hold = 0;
                                           	CLRR	_key_scan_flag_is_key_mode_hold_65536_35
                                           	GOTO	_00258_DS_
                                           _00257_DS_
                                           ;	.line	496; "MC32P7351.c"	else if (cur_key_id != KEY_ID_NONE)
                                           	MOVAI	0x00
                                           	ORAR	_key_scan_cur_key_id_65536_35
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00258_DS_
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           ;	.line	499; "MC32P7351.c"	if (press_cnt < 255)
                                           	MOVAI	0xff
                                           	RSUBAR	_key_scan_press_cnt_65536_35
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00238_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	500; "MC32P7351.c"	press_cnt++;
                                           	INCR	_key_scan_press_cnt_65536_35
                                           _00238_DS_
                                           ;	.line	502; "MC32P7351.c"	if (KEY_ID_MODE == cur_key_id)
                                           	MOVAR	_key_scan_cur_key_id_65536_35
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00258_DS_
                                           ;	.line	504; "MC32P7351.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00250_DS_
                                           ;;unsigned compare: left < lit(0xC8=200), size=1
                                           ;	.line	506; "MC32P7351.c"	if (press_cnt >= 200) // 2000ms
                                           	MOVAI	0xc8
                                           	RSUBAR	_key_scan_press_cnt_65536_35
                                           	JBSET	PFLAG,0
                                           	GOTO	_00258_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	508; "MC32P7351.c"	if (flag_is_key_mode_hold)
                                           	MOVAI	0x00
                                           	ORAR	_key_scan_flag_is_key_mode_hold_65536_35
                                           	JBSET	PFLAG,2
                                           	GOTO	_00258_DS_
                                           ;	.line	513; "MC32P7351.c"	key_event = KEY_EVENT_MODE_HOLD;
                                           	MOVAI	0x03
                                           	MOVRA	_key_event
                                           ;	.line	514; "MC32P7351.c"	flag_is_key_mode_hold = 1;
                                           	MOVAI	0x01
                                           	MOVRA	_key_scan_flag_is_key_mode_hold_65536_35
                                           	GOTO	_00258_DS_
                                           ;;unsigned compare: left < lit(0x64=100), size=1
                                           _00250_DS_
                                           ;	.line	521; "MC32P7351.c"	if (press_cnt >= 100) // 1000ms加上看门狗唤醒的1024ms
                                           	MOVAI	0x64
                                           	RSUBAR	_key_scan_press_cnt_65536_35
                                           	JBSET	PFLAG,0
                                           	GOTO	_00258_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	523; "MC32P7351.c"	if (flag_is_key_mode_hold)
                                           	MOVAI	0x00
                                           	ORAR	_key_scan_flag_is_key_mode_hold_65536_35
                                           	JBSET	PFLAG,2
                                           	GOTO	_00258_DS_
                                           ;	.line	528; "MC32P7351.c"	key_event = KEY_EVENT_MODE_HOLD;
                                           	MOVAI	0x03
                                           	MOVRA	_key_event
                                           ;	.line	529; "MC32P7351.c"	flag_is_key_mode_hold = 1;
                                           	MOVAI	0x01
                                           	MOVRA	_key_scan_flag_is_key_mode_hold_65536_35
                                           _00258_DS_
                                           ;	.line	536; "MC32P7351.c"	last_key_id = cur_key_id;
                                           	MOVAR	_key_scan_cur_key_id_65536_35
                                           	MOVRA	_key_scan_last_key_id_65536_35
                                           _00259_DS_
                                           ;	.line	537; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _key_scan
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _adc_config
                                           ;   _delay_ms
                                           ;   _CLR_RAM
                                           ;   _adc_config
                                           ;   _delay_ms
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	276; "MC32P7351.c"	GIE = 0;
                                           	BCLR	_MCRbits,7
                                           ;	.line	277; "MC32P7351.c"	CLR_RAM();
                                           	CALL	_CLR_RAM
                                           ;	.line	280; "MC32P7351.c"	IOP0 = 0x00;   // io口数据位
                                           	CLRR	_IOP0
                                           ;	.line	281; "MC32P7351.c"	OEP0 = 0x3F;   // io口方向 1:out  0:in
                                           	MOVAI	0x3f
                                           	MOVRA	_OEP0
                                           ;	.line	282; "MC32P7351.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP0
                                           ;	.line	283; "MC32P7351.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP0
                                           ;	.line	284; "MC32P7351.c"	ADIOS0 = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_ADIOS0
                                           ;	.line	286; "MC32P7351.c"	IOP1 = 0x00;   // io口数据位
                                           	CLRR	_IOP1
                                           ;	.line	287; "MC32P7351.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in
                                           	MOVAI	0xff
                                           	MOVRA	_OEP1
                                           ;	.line	288; "MC32P7351.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP1
                                           ;	.line	289; "MC32P7351.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP1
                                           ;	.line	290; "MC32P7351.c"	ADIOS1 = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_ADIOS1
                                           ;	.line	297; "MC32P7351.c"	PMOD = 0x00;  // P00、P01、P13 io端口值从寄存器读，推挽输出
                                           	CLRR	_PMOD
                                           ;	.line	298; "MC32P7351.c"	DRVCR = 0x80; // 普通驱动
                                           	MOVAI	0x80
                                           	MOVRA	_DRVCR
                                           ;	.line	301; "MC32P7351.c"	LED_WORKING_OFF();
                                           	BSET	_IOP1bits,4
                                           ;	.line	302; "MC32P7351.c"	LED_FULL_CHARGE_OFF();
                                           	BSET	_IOP0bits,3
                                           ;	.line	303; "MC32P7351.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           ;	.line	307; "MC32P7351.c"	T0LOAD = 172 - 1;
                                           	MOVAI	0xab
                                           	MOVRA	_T0LOAD
                                           ;	.line	309; "MC32P7351.c"	PWM0EC = 0;  // 禁止PWM输出
                                           	BCLR	_T0CRbits,6
                                           ;	.line	310; "MC32P7351.c"	T0CR = 0x81; // 使能定时器，时钟源为FCPU，2分频
                                           	MOVAI	0x81
                                           	MOVRA	_T0CR
                                           ;	.line	317; "MC32P7351.c"	T1LOAD = 172 - 1;
                                           	MOVAI	0xab
                                           	MOVRA	_T1LOAD
                                           ;	.line	319; "MC32P7351.c"	PWM1EC = 0;  // 禁止PWM1输出
                                           	BCLR	_T1CRbits,6
                                           ;	.line	320; "MC32P7351.c"	T1CR = 0x81; // 使能定时器，时钟源为FCPU，2分频
                                           	MOVAI	0x81
                                           	MOVRA	_T1CR
                                           ;	.line	347; "MC32P7351.c"	T2CKS1 = 0;
                                           	BCLR	_T2CRbits,4
                                           ;	.line	348; "MC32P7351.c"	T2CKS0 = 1;
                                           	BSET	_T2CRbits,3
                                           ;	.line	350; "MC32P7351.c"	TMRCKS1 = 1;
                                           	BSET	_PWMCR1bits,4
                                           ;	.line	351; "MC32P7351.c"	TMRCKS0 = 0;
                                           	BCLR	_PWMCR1bits,3
                                           ;	.line	354; "MC32P7351.c"	T2PRS2 = 0;
                                           	BCLR	_T2CRbits,2
                                           ;	.line	355; "MC32P7351.c"	T2PRS1 = 0;
                                           	BCLR	_T2CRbits,1
                                           ;	.line	356; "MC32P7351.c"	T2PRS0 = 1;
                                           	BSET	_T2CRbits,0
                                           ;	.line	365; "MC32P7351.c"	T2LOAD = 127; // 【125或125.654KHz】
                                           	MOVAI	0x7f
                                           	MOVRA	_T2LOAD
                                           ;	.line	367; "MC32P7351.c"	T2DATA = 0;
                                           	CLRR	_T2DATA
                                           ;	.line	368; "MC32P7351.c"	PWM2EC = 0; // 禁止PWM输出
                                           	BCLR	_T2CRbits,6
                                           ;	.line	369; "MC32P7351.c"	T2EN = 1;
                                           	BSET	_T2CRbits,7
                                           ;	.line	378; "MC32P7351.c"	T3LOAD = 25 - 1; //
                                           	MOVAI	0x18
                                           	MOVRA	_T3LOAD
                                           ;	.line	379; "MC32P7351.c"	T3CR = 0x85;     // 使能定时器，时钟源选择FCPU，32分频
                                           	MOVAI	0x85
                                           	MOVRA	_T3CR
                                           ;	.line	380; "MC32P7351.c"	T3IE = 1;
                                           	BSET	_INTEbits,7
                                           ;	.line	386; "MC32P7351.c"	P11PU = 1; // 上拉
                                           	BSET	_PUP1bits,1
                                           ;	.line	387; "MC32P7351.c"	P11OE = 0; // 输入模式
                                           	BCLR	_OEP1bits,1
                                           ;	.line	390; "MC32P7351.c"	P01PU = 1; // 上拉
                                           	BSET	_PUP0bits,1
                                           ;	.line	391; "MC32P7351.c"	P01OE = 0; // 输入模式
                                           	BCLR	_OEP0bits,1
                                           ;	.line	393; "MC32P7351.c"	adc_config();
                                           	CALL	_adc_config
                                           ;	.line	395; "MC32P7351.c"	GIE = 1;
                                           	BSET	_MCRbits,7
                                           ;	.line	397; "MC32P7351.c"	delay_ms(1); // 等待系统稳定
                                           	MOVAI	0x01
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	398; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_get_val_once	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;7 compiler assigned registers:
                                           ;   r0x104C
                                           ;   r0x104D
                                           ;   r0x104E
                                           ;   r0x104F
                                           ;   r0x1050
                                           ;   r0x1051
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_get_val_once	;Function start
                                           ; 2 exit points
                                           ;	.line	237; "MC32P7351.c"	ADEOC = 0; // 清除ADC转换完成标志位，启动AD转换
                                           	BCLR	_ADCR0bits,1
                                           _00204_DS_
                                           ;	.line	238; "MC32P7351.c"	while (!ADEOC)
                                           	JBSET	_ADCR0bits,1
                                           	GOTO	_00204_DS_
                                           ;	.line	240; "MC32P7351.c"	g_temp_value = ADRH; // 取出转换后的值
                                           	MOVAR	_ADRH
                                           	MOVRA	r0x104C
                                           	CLRR	r0x104D
                                           ;	.line	241; "MC32P7351.c"	g_temp_value = g_temp_value << 4 | (ADRL & 0x0F);
                                           	SWAPAR	r0x104D
                                           	ANDAI	0xf0
                                           	MOVRA	r0x104E
                                           	SWAPAR	r0x104C
                                           	MOVRA	r0x104F
                                           	ANDAI	0x0f
                                           	ORRA	r0x104E
                                           	XORRA	r0x104F
                                           	MOVAR	_ADRL
                                           	MOVRA	r0x104C
                                           	CLRR	r0x104D
                                           	MOVAI	0x0f
                                           	ANDRA	r0x104C
                                           	CLRR	r0x104D
                                           ;;101	MOVAR	r0x104C
                                           ;;99	MOVRA	r0x1050
                                           ;;104	MOVAR	r0x104D
                                           ;;102	MOVRA	r0x1051
                                           ;;100	MOVAR	r0x1050
                                           	MOVAR	r0x104C
                                           	ORRA	r0x104F
                                           ;;103	MOVAR	r0x1051
                                           	MOVAI	0x00
                                           	ORRA	r0x104E
                                           ;	.line	265; "MC32P7351.c"	return g_temp_value;
                                           	MOVAR	r0x104F
                                           	MOVRA	STK00
                                           	MOVAR	r0x104E
                                           ;	.line	266; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _adc_get_val_once
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_get_val	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;16 compiler assigned registers:
                                           ;   r0x104C
                                           ;   r0x104D
                                           ;   r0x104E
                                           ;   r0x104F
                                           ;   r0x1050
                                           ;   r0x1051
                                           ;   r0x1052
                                           ;   r0x1053
                                           ;   r0x1054
                                           ;   r0x1055
                                           ;   r0x1056
                                           ;   r0x1057
                                           ;   r0x1058
                                           ;   r0x1059
                                           ;   r0x105A
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_get_val	;Function start
                                           ; 2 exit points
                                           ;	.line	184; "MC32P7351.c"	u32 g_tmpbuff = 0;
                                           	CLRR	r0x104C
                                           	CLRR	r0x104D
                                           	CLRR	r0x104E
                                           	CLRR	r0x104F
                                           ;	.line	185; "MC32P7351.c"	u16 g_adcmax = 0;
                                           	CLRR	r0x1050
                                           	CLRR	r0x1051
                                           ;	.line	186; "MC32P7351.c"	u16 g_adcmin = 0xFFFF;
                                           	MOVAI	0xff
                                           	MOVRA	r0x1052
                                           	MOVRA	r0x1053
                                           ;	.line	189; "MC32P7351.c"	for (i = 0; i < 20; i++)
                                           	CLRR	r0x1054
                                           _00158_DS_
                                           ;	.line	191; "MC32P7351.c"	ADEOC = 0; // 清除ADC转换完成标志位，启动AD转换
                                           	BCLR	_ADCR0bits,1
                                           _00147_DS_
                                           ;	.line	192; "MC32P7351.c"	while (!ADEOC)
                                           	JBSET	_ADCR0bits,1
                                           	GOTO	_00147_DS_
                                           ;	.line	194; "MC32P7351.c"	g_temp_value = ADRH; // 取出转换后的值
                                           	MOVAR	_ADRH
                                           	MOVRA	r0x1055
                                           	CLRR	r0x1056
                                           ;	.line	195; "MC32P7351.c"	g_temp_value = g_temp_value << 4 | (ADRL & 0x0F);
                                           	SWAPAR	r0x1056
                                           	ANDAI	0xf0
                                           	MOVRA	r0x1057
                                           	SWAPAR	r0x1055
                                           	MOVRA	r0x1058
                                           	ANDAI	0x0f
                                           	ORRA	r0x1057
                                           	XORRA	r0x1058
                                           	MOVAR	_ADRL
                                           	MOVRA	r0x1055
                                           	CLRR	r0x1056
                                           	MOVAI	0x0f
                                           	ANDRA	r0x1055
                                           	CLRR	r0x1056
                                           ;;120	MOVAR	r0x1055
                                           	MOVAI	0x00
                                           	MOVRA	r0x105A
                                           ;;119	MOVAR	r0x1059
                                           	MOVAR	r0x1055
                                           	MOVRA	r0x1059
                                           	ORAR	r0x1058
                                           	MOVRA	r0x1055
                                           	MOVAR	r0x105A
                                           	ORAR	r0x1057
                                           	MOVRA	r0x1056
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	196; "MC32P7351.c"	if (i < 2)
                                           	MOVAI	0x02
                                           	RSUBAR	r0x1054
                                           	JBSET	PFLAG,0
                                           	GOTO	_00156_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	198; "MC32P7351.c"	if (g_temp_value > g_adcmax)
                                           	MOVAR	r0x1056
                                           	RSUBAR	r0x1051
                                           	JBSET	PFLAG,2
                                           	GOTO	_00198_DS_
                                           	MOVAR	r0x1055
                                           	RSUBAR	r0x1050
                                           _00198_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00153_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	199; "MC32P7351.c"	g_adcmax = g_temp_value; // 最大
                                           	MOVAR	r0x1055
                                           	MOVRA	r0x1050
                                           	MOVAR	r0x1056
                                           	MOVRA	r0x1051
                                           _00153_DS_
                                           ;	.line	200; "MC32P7351.c"	if (g_temp_value < g_adcmin)
                                           	MOVAR	r0x1053
                                           	RSUBAR	r0x1056
                                           	JBSET	PFLAG,2
                                           	GOTO	_00199_DS_
                                           	MOVAR	r0x1052
                                           	RSUBAR	r0x1055
                                           _00199_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00155_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	201; "MC32P7351.c"	g_adcmin = g_temp_value; // 最小
                                           	MOVAR	r0x1055
                                           	MOVRA	r0x1052
                                           	MOVAR	r0x1056
                                           	MOVRA	r0x1053
                                           ;;116	MOVAR	r0x1055
                                           ;;118	MOVAR	r0x1056
                                           _00155_DS_
                                           ;	.line	202; "MC32P7351.c"	g_tmpbuff += g_temp_value;
                                           	CLRR	r0x1059
                                           	CLRR	r0x105A
                                           ;;115	MOVAR	r0x1058
                                           	MOVAR	r0x1055
                                           	MOVRA	r0x1058
                                           	ADDRA	r0x104C
                                           ;;117	MOVAR	r0x1057
                                           	MOVAR	r0x1056
                                           	MOVRA	r0x1057
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x1057
                                           	ADDRA	r0x104D
                                           	MOVAR	r0x1059
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x1059
                                           	ADDRA	r0x104E
                                           	MOVAR	r0x105A
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x105A
                                           	ADDRA	r0x104F
                                           _00156_DS_
                                           ;	.line	189; "MC32P7351.c"	for (i = 0; i < 20; i++)
                                           	INCR	r0x1054
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           	MOVAI	0x14
                                           	RSUBAR	r0x1054
                                           	JBSET	PFLAG,0
                                           	GOTO	_00158_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;114	MOVAR	r0x1050
                                           ;	.line	204; "MC32P7351.c"	g_tmpbuff -= g_adcmax;           // 去掉一个最大
                                           	MOVAR	r0x1051
                                           	MOVRA	r0x1055
                                           	CLRR	r0x1056
                                           	CLRR	r0x1058
                                           ;;113	MOVAR	r0x1054
                                           	MOVAR	r0x1050
                                           	MOVRA	r0x1054
                                           	RSUBAR	r0x104C
                                           	MOVRA	r0x1050
                                           	MOVAR	r0x104D
                                           	MOVRA	r0x1051
                                           	MOVAR	r0x1055
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x1055
                                           	RSUBRA	r0x1051
                                           	MOVAR	r0x104E
                                           	MOVRA	r0x1057
                                           	MOVAR	r0x1056
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x1056
                                           	RSUBRA	r0x1057
                                           	MOVAR	r0x1058
                                           	JBSET	PFLAG,0
                                           	INCAR	r0x1058
                                           	RSUBAR	r0x104F
                                           	MOVRA	r0x1059
                                           ;;106	MOVAR	r0x1052
                                           ;;108	MOVAR	r0x1053
                                           ;	.line	205; "MC32P7351.c"	g_tmpbuff -= g_adcmin;           // 去掉一个最小
                                           	CLRR	r0x104E
                                           	CLRR	r0x104F
                                           ;;105	MOVAR	r0x104C
                                           	MOVAR	r0x1052
                                           	MOVRA	r0x104C
                                           	RSUBRA	r0x1050
                                           ;;107	MOVAR	r0x104D
                                           	MOVAR	r0x1053
                                           	MOVRA	r0x104D
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x104D
                                           	RSUBRA	r0x1051
                                           	MOVAR	r0x104E
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x104E
                                           	RSUBRA	r0x1057
                                           	MOVAR	r0x104F
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x104F
                                           	RSUBRA	r0x1059
                                           ;	.line	206; "MC32P7351.c"	g_temp_value = (g_tmpbuff >> 4); // 除以16，取平均值
                                           	SWAPAR	r0x1050
                                           	ANDAI	0x0f
                                           	MOVRA	r0x104C
                                           	SWAPAR	r0x1051
                                           	MOVRA	r0x104D
                                           	ANDAI	0xf0
                                           	ORRA	r0x104C
                                           	XORRA	r0x104D
                                           	SWAPAR	r0x1057
                                           	MOVRA	r0x104E
                                           	ANDAI	0xf0
                                           	ORRA	r0x104D
                                           	XORRA	r0x104E
                                           	SWAPAR	r0x1059
                                           	MOVRA	r0x104F
                                           	ANDAI	0xf0
                                           	ORRA	r0x104E
                                           	XORRA	r0x104F
                                           ;;110	MOVAR	r0x104C
                                           ;;112	MOVAR	r0x104D
                                           ;;109	MOVAR	r0x1050
                                           ;	.line	230; "MC32P7351.c"	return g_temp_value;
                                           	MOVAR	r0x104C
                                           	MOVRA	r0x1050
                                           	MOVRA	STK00
                                           ;;111	MOVAR	r0x1051
                                           	MOVAR	r0x104D
                                           	MOVRA	r0x1051
                                           ;	.line	231; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _adc_get_val
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;2 compiler assigned registers:
                                           ;   r0x1052
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;	.line	145; "MC32P7351.c"	void adc_sel_pin(u8 adc_pin)
                                           	MOVRA	r0x1052
                                           ;	.line	148; "MC32P7351.c"	switch (adc_pin)
                                           	MOVAR	r0x1052
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00141_DS_
                                           	GOTO	_00127_DS_
                                           _00141_DS_
                                           	MOVAR	r0x1052
                                           	XORAI	0x02
                                           	JBSET	PFLAG,2
                                           	GOTO	_00142_DS_
                                           	GOTO	_00128_DS_
                                           _00142_DS_
                                           	GOTO	_00130_DS_
                                           _00127_DS_
                                           ;	.line	151; "MC32P7351.c"	ADCR0 &= ~(0x0F << 4); // 清空寄存器的通道选择位
                                           	MOVAI	0x0f
                                           	ANDRA	_ADCR0
                                           ;	.line	159; "MC32P7351.c"	break;
                                           	GOTO	_00130_DS_
                                           _00128_DS_
                                           ;	.line	162; "MC32P7351.c"	ADCR0 &= ~(0x0F << 4); // 清空寄存器的通道选择位
                                           	MOVAI	0x0f
                                           	ANDRA	_ADCR0
                                           ;	.line	163; "MC32P7351.c"	ADCR0 |= 0x01 << 4;    // AIN1--P02;
                                           	BSET	_ADCR0,4
                                           _00130_DS_
                                           ;	.line	176; "MC32P7351.c"	delay_ms(1); // 切换adc检测的引脚后，要延时一段时间，等待adc稳定，防止意料之外的检测结果
                                           	MOVAI	0x01
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	177; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _adc_sel_pin
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _adc_config	;Function start
                                           ; 2 exit points
                                           ;	.line	62; "MC32P7351.c"	P00OE = 0; // 输入模式
                                           	BCLR	_OEP0bits,0
                                           ;	.line	63; "MC32P7351.c"	P00DC = 1; // 模拟模式
                                           	BSET	_ADIOS0bits,0
                                           ;	.line	66; "MC32P7351.c"	P02OE = 0; // 输入模式
                                           	BCLR	_OEP0bits,2
                                           ;	.line	67; "MC32P7351.c"	P02DC = 1; // 模拟模式
                                           	BSET	_ADIOS0bits,1
                                           ;	.line	69; "MC32P7351.c"	ADCR0 = 0x0A; // 12位精度、不启用ADC转换，不使能ADC
                                           	MOVAI	0x0a
                                           	MOVRA	_ADCR0
                                           ;	.line	70; "MC32P7351.c"	ADCR1 = 0xE1; // 125K采样（最高精度）  内部3V参考电压
                                           	MOVAI	0xe1
                                           	MOVRA	_ADCR1
                                           ;	.line	71; "MC32P7351.c"	ADCR2 = 0xFF; // ADC采样时间为15个ADC时钟
                                           	MOVAI	0xff
                                           	MOVRA	_ADCR2
                                           ;	.line	72; "MC32P7351.c"	ADEN = 1;     // 使能ADC
                                           	BSET	_ADCR0bits,0
                                           ;	.line	73; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _adc_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	22; "MC32P7351.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
                                           	CLRR	_FSR0
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           _00118_DS_
                                           	MOVAI	0xff
                                           	RSUBAR	_FSR0
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00116_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	24; "MC32P7351.c"	INDF0 = 0x00;
                                           	CLRR	_INDF0
                                           ;	.line	22; "MC32P7351.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
                                           	INCR	_FSR0
                                           	GOTO	_00118_DS_
                                           _00116_DS_
                                           ;	.line	26; "MC32P7351.c"	FSR0 = 0xFF;
                                           	MOVAI	0xff
                                           	MOVRA	_FSR0
                                           ;	.line	27; "MC32P7351.c"	INDF0 = 0x00;
                                           	CLRR	_INDF0
                                           ;	.line	28; "MC32P7351.c"	}
                                           	RETURN	
                                           ; exit point of _CLR_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;7 compiler assigned registers:
                                           ;   r0x104C
                                           ;   STK00
                                           ;   r0x104D
                                           ;   r0x104E
                                           ;   r0x104F
                                           ;   r0x1050
                                           ;   r0x1051
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	365; "user.h"	void delay_ms(u16 xms)
                                           	MOVRA	r0x104C
                                           	MOVAR	STK00
                                           	MOVRA	r0x104D
                                           _00108_DS_
                                           ;	.line	367; "user.h"	while (xms)
                                           	MOVAR	r0x104D
                                           	ORAR	r0x104C
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00111_DS_
                                           ;	.line	370; "user.h"	while (i--)
                                           	MOVAI	0x3c
                                           	MOVRA	r0x104E
                                           	MOVAI	0x02
                                           	MOVRA	r0x104F
                                           _00105_DS_
                                           	MOVAR	r0x104E
                                           	MOVRA	r0x1050
                                           	MOVAR	r0x104F
                                           	MOVRA	r0x1051
                                           	MOVAI	0xff
                                           	ADDRA	r0x104E
                                           	JBSET	PFLAG,0
                                           	DECR	r0x104F
                                           	MOVAR	r0x1050
                                           	ORAR	r0x1051
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00107_DS_
                                           ;	.line	372; "user.h"	Nop();
                                           	nop	
                                           	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	374; "user.h"	xms--; // 把 --操作放在while()判断条件外面，更节省空间
                                           	MOVAI	0xff
                                           	ADDRA	r0x104D
                                           	JBSET	PFLAG,0
                                           	DECR	r0x104C
                                           ;	.line	378; "user.h"	__endasm;
                                           	;
                                           	clrwdt;
                                           	
                                           	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	380; "user.h"	}
                                           	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           
                                           ;	code size estimation:
                                           ;	 1713+    0 =  1713 instructions ( 3426 byte)
                                           
                                           	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XX-------------- XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0700 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0740 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0780 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
07C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0BC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0C00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0C40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0C80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0CC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0D00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0D40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0D80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0DC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0E00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0E40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0E80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0EC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0F00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0F40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0F80 : XXXXXXXXXXXXXXXX XXXXXX---------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:  1988

